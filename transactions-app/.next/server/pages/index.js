module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = require('../ssr-module-cache.js');
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		var threw = true;
/******/ 		try {
/******/ 			modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 			threw = false;
/******/ 		} finally {
/******/ 			if(threw) delete installedModules[moduleId];
/******/ 		}
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./pages/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./aws-exports.js":
/*!************************!*\
  !*** ./aws-exports.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* eslint-disable */
// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.
const awsmobile = {
  "aws_project_region": "us-east-1",
  "aws_appsync_graphqlEndpoint": "https://uj4dw6bp7ze4zpiifi75rtut7i.appsync-api.us-east-1.amazonaws.com/graphql",
  "aws_appsync_region": "us-east-1",
  "aws_appsync_authenticationType": "API_KEY",
  "aws_appsync_apiKey": "da2-sm7rhutlbrddnlhqm7tiuertxe",
  "aws_cloud_logic_custom": [{
    "name": "createTransaction",
    "endpoint": "https://wxq5bs58mj.execute-api.us-east-1.amazonaws.com/dev",
    "region": "us-east-1"
  }],
  "aws_cognito_identity_pool_id": "us-east-1:afc2b718-5c09-4e75-91c7-4f9d54543264",
  "aws_cognito_region": "us-east-1",
  "aws_user_pools_id": "us-east-1_egI4Bi1bx",
  "aws_user_pools_web_client_id": "3oh8bjo73l9n0dmbkae217lrk5",
  "oauth": {}
};
/* harmony default export */ __webpack_exports__["default"] = (awsmobile);

/***/ }),

/***/ "./components/AcceptedPaymentRequest.js":
/*!**********************************************!*\
  !*** ./components/AcceptedPaymentRequest.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _core_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/hooks */ "./core/hooks/index.js");
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graphql/queries */ "./graphql/queries.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;








aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_6__["default"]);

const AcceptedPaymentRequest = ({
  branchId
}) => {
  const {
    0: nextPaginateToken,
    1: setNextPaginateToken
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const {
    0: paymentRequestItems,
    1: setPaymentRequestItems
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]);
  const {
    data: paymentRequests,
    refetch: getPaymentRequests
  } = Object(_core_hooks__WEBPACK_IMPORTED_MODULE_4__["useFetchPaymentRequest"])(branchId, "APPROVED", 20);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    getPaymentRequests();
  }, [branchId]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    setNextPaginateToken(paymentRequests && paymentRequests.data.listPaymentRequests.nextToken);
    setPaymentRequestItems(paymentRequests && paymentRequests.data.listPaymentRequests.items);
  }, [paymentRequests]);

  const loadMore = async () => {
    try {
      const res = await aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_7__["listPaymentRequest"], {
        limit: 20,
        nextToken: nextPaginateToken,
        branchId,
        status: "APPROVED"
      }));
      setNextPaginateToken(res.data.listPaymentRequests.nextToken);
      setPaymentRequestItems([...paymentRequestItems, ...res.data.listPaymentRequests.items]);
    } catch (error) {
      console.log(error);
    }
  };

  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"], {
    celled: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].Header, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].Row, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].HeaderCell, null, "Customer Id"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].HeaderCell, null, "Order Id"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].HeaderCell, null, "Bonus Amount"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].HeaderCell, null, "Created At"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].HeaderCell, null, "Updated At"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].HeaderCell, null, "Status"))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].Body, null, paymentRequestItems && paymentRequestItems.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt)).map(item => __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].Row, {
    key: item.id
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__["Badge"], {
    size: "small"
  }, item.customerId)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__["Badge"], {
    size: "small"
  }, item.orderId)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["toCurrency"])(item.bonusAmount)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["formatDate"])(item.createdAt)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["formatDate"])(item.updatedAt)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__["Badge"], {
    size: "small",
    progress: "complete",
    status: "success"
  }, item.status)))))), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__["Button"], {
    disabled: !nextPaginateToken,
    primary: true,
    onClick: loadMore
  }, "Load more"));
};

/* harmony default export */ __webpack_exports__["default"] = (AcceptedPaymentRequest);

/***/ }),

/***/ "./components/AdminBranchInfo.js":
/*!***************************************!*\
  !*** ./components/AdminBranchInfo.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @shopify/polaris-icons */ "@shopify/polaris-icons");
/* harmony import */ var _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _core_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/hooks */ "./core/hooks/index.js");
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graphql/queries */ "./graphql/queries.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;








aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_6__["default"]);

const AdminBranchInfo = ({
  branchId,
  setBranchId
}) => {
  const {
    0: branchInfo,
    1: setBranchInfo
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const {
    0: searchValue,
    1: setSearchValue
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
  const {
    data: branchData,
    refetch: fetchBranch
  } = Object(_core_hooks__WEBPACK_IMPORTED_MODULE_4__["useBranchEntity"])(branchId);
  const handleSearchInput = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => setSearchValue(newValue), []);
  const getBranch = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(() => {
    fetchBranch();
  }, [branchData]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    getBranch();
  }, [getBranch]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    setBranchInfo(branchData && branchData.data.getBranch);
  }, [branchData]);
  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, branchInfo && __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Button"], {
    onClick: () => setBranchId(null),
    primary: true
  }, "Go back"), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["TextField"], {
    label: "Search Product",
    value: searchValue,
    onChange: handleSearchInput,
    prefix: __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Icon"], {
      source: _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_3__["SearchMajorMonotone"]
    }),
    placeholder: "Search by Customer phone number"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Card"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["DataTable"], {
    columnContentTypes: ["text", "text", "text", "text"],
    headings: ["Customer phone number", "TotalPrice", "TotalBonusAmount", "Minus from Bonus Amount", "CreatedAt"],
    rows: branchInfo && branchInfo.transactions.items.filter(transaction => {
      if (searchValue == null) {
        return transaction;
      } else if (transaction.customer[0].phone.toLowerCase().includes(searchValue.toLowerCase())) {
        return transaction;
      }
    }).sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)).map(transaction => [__jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Button"], {
      primary: true,
      onClick: () => redirect.dispatch(Redirect.Action.ADMIN_PATH, {
        path: `/customers/${transaction.customer[0].id}`,
        newContext: true
      })
    }, transaction.customer[0].phone), Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["toCurrency"])(Number(transaction.totalPrice)), Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["toCurrency"])(Number(transaction.totalBonusAmount)), transaction.note === null ? "" : Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["toCurrency"])(Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["extractNumbersFromString"])(transaction.note)), Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["formatDate"])(transaction.createdAt)])
  }))));
};

/* harmony default export */ __webpack_exports__["default"] = (AdminBranchInfo);

/***/ }),

/***/ "./components/BranchConsole.js":
/*!*************************************!*\
  !*** ./components/BranchConsole.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ "uuid");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _core_hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/hooks */ "./core/hooks/index.js");
/* harmony import */ var _ProductsList__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ProductsList */ "./components/ProductsList.js");
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _BranchProducts__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./BranchProducts */ "./components/BranchProducts.js");
/* harmony import */ var _BranchList__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./BranchList */ "./components/BranchList.js");
/* harmony import */ var _AdminBranchInfo__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./AdminBranchInfo */ "./components/AdminBranchInfo.js");
/* harmony import */ var _graphql_mutation__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../graphql/mutation */ "./graphql/mutation.js");
/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../graphql/queries */ "./graphql/queries.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;















aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_9__["default"]);

const BranchConsole = ({
  updateUser
}) => {
  const {
    0: active,
    1: setActive
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);
  const {
    0: branchName,
    1: setBranchName
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const {
    0: username,
    1: setUsername
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const {
    0: email,
    1: setEmail
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const {
    0: password,
    1: setPassword
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const {
    0: code,
    1: setCode
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const {
    0: formType,
    1: setFormType
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("signUp");
  const {
    0: userSub,
    1: setUserSub
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
  const {
    0: branches,
    1: setBranches
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const {
    0: branchId,
    1: setBranchId
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
  const {
    signUserUp,
    data
  } = Object(_core_hooks__WEBPACK_IMPORTED_MODULE_6__["useSignUp"])();
  const {
    confirmSignUp
  } = Object(_core_hooks__WEBPACK_IMPORTED_MODULE_6__["useConfirmSignUp"])();
  const {
    createBranch,
    data: createdBranch
  } = Object(_core_hooks__WEBPACK_IMPORTED_MODULE_6__["useCreateBranch"])();
  const {
    data: branchesData,
    refetch: listBranches
  } = Object(_core_hooks__WEBPACK_IMPORTED_MODULE_6__["useListBranches"])();
  const onChangeBranchName = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => {
    setBranchName(newValue);
  }, []);
  const onChangeUsername = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => {
    setUsername(newValue);
  }, []);
  const onChangePassword = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => {
    setPassword(newValue);
  }, []);
  const onChangeEmail = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => {
    setEmail(newValue);
  }, []);
  const onChangeCode = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => {
    setCode(newValue);
  }, []);

  const handleChange = () => {
    setActive(!active);
  };

  const signUp = e => {
    e.preventDefault();

    try {
      signUserUp({
        username,
        password,
        attributes: {
          email
        }
      });
      setFormType("confirm");
    } catch (error) {
      console.log(error);
    }
  };

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    setUserSub(data && data.userSub);
  }, [data]);

  const confirm = async e => {
    e.preventDefault();

    try {
      confirmSignUp({
        username,
        code
      });
      createBranch({
        userSub,
        username,
        branchName
      });
      setFormType("signUp");
      handleChange();
    } catch (error) {
      console.log(error);
    }
  };

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    listBranches();
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    setBranches(branchesData && branchesData.data);
  }, [branchesData]);
  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, branchId && __jsx(_AdminBranchInfo__WEBPACK_IMPORTED_MODULE_12__["default"], {
    setBranchId: setBranchId,
    branchId: branchId
  }), !branchId && __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Stack"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Stack"].Item, {
    fill: true
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    onClick: handleChange,
    primary: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Icon"], {
    name: "code branch"
  }), " Create branch")), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Stack"].Item, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    primary: true,
    id: "Logout",
    onClick: () => {
      aws_amplify__WEBPACK_IMPORTED_MODULE_1__["Auth"].signOut();
      updateUser(null);
    }
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Icon"], {
    name: "sign out"
  }), " Logout"))), __jsx(_BranchList__WEBPACK_IMPORTED_MODULE_11__["default"], {
    setBranchId: setBranchId
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Modal"], {
    open: active,
    onClose: handleChange,
    title: "Fill in Branch info"
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Modal"].Section, null, formType === "signUp" && __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Form"], {
    onSubmit: signUp
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["FormLayout"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    value: branchName,
    onChange: onChangeBranchName,
    label: "Branch Name"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    value: username,
    onChange: onChangeUsername,
    label: "Branch admin username"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    value: email,
    onChange: onChangeEmail,
    label: "Branch admin email"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    type: "password",
    value: password,
    onChange: onChangePassword,
    label: "Branch admin password"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    primary: true,
    submit: true
  }, "Create Branch"))), formType === "confirm" && __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Form"], {
    onSubmit: confirm
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["FormLayout"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    value: username,
    onChange: onChangeUsername,
    label: "Branch admin username"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    value: code,
    onChange: onChangeCode,
    label: "Confirmation code"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    primary: true,
    submit: true
  }, "Confirm")))))));
};

/* harmony default export */ __webpack_exports__["default"] = (BranchConsole);

/***/ }),

/***/ "./components/BranchData.js":
/*!**********************************!*\
  !*** ./components/BranchData.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @shopify/app-bridge/actions */ "@shopify/app-bridge/actions");
/* harmony import */ var _shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _shopify_app_bridge__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @shopify/app-bridge */ "@shopify/app-bridge");
/* harmony import */ var _shopify_app_bridge__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_shopify_app_bridge__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @shopify/polaris-icons */ "@shopify/polaris-icons");
/* harmony import */ var _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _core_hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/hooks */ "./core/hooks/index.js");
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _PaymentRequest__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./PaymentRequest */ "./components/PaymentRequest.js");
/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../graphql/queries */ "./graphql/queries.js");
/* harmony import */ var _graphql_subscriptions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../graphql/subscriptions */ "./graphql/subscriptions.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;












aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_8__["default"]);

const BranchData = ({
  user,
  updateUser
}) => {
  const {
    0: branchInfo,
    1: setBranchInfo
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const {
    0: searchValue,
    1: setSearchValue
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
  const {
    0: newCreatedTransaction,
    1: setNewCreatedTransaction
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const {
    0: showPaymentRequest,
    1: setShowPaymentRequest
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);
  const {
    data: branchData,
    refetch: getBranch
  } = Object(_core_hooks__WEBPACK_IMPORTED_MODULE_6__["useBranchByAdmin"])(user.attributes.sub);
  const handleSearchInput = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => setSearchValue(newValue), []);
  const app = _shopify_app_bridge__WEBPACK_IMPORTED_MODULE_3___default()({
    apiKey: "3b01063bac3031d13101100ef3e44fd5",
    shopOrigin: "transactions-avanta.myshopify.com"
  });
  const redirect = _shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_2__["Redirect"].create(app); // const getBranch = async () => {
  //   try {
  //     const fetchBranch = await API.graphql(
  //       graphqlOperation(branchByAdminId, { adminId: user.attributes.sub })
  //     )
  //     setBranchInfo(fetchBranch.data.branchByAdminId.items[0])
  //   } catch (error) {
  //     console.log(error)
  //   }
  // }

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    getBranch();
    const createListener = aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_subscriptions__WEBPACK_IMPORTED_MODULE_11__["onCreateTransaction"])).subscribe({
      next: createdTransaction => setNewCreatedTransaction(createdTransaction)
    });
    const deleteListener = aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_subscriptions__WEBPACK_IMPORTED_MODULE_11__["onDeleteTransaction"])).subscribe({
      next: deletedTransaction => setNewCreatedTransaction(deletedTransaction)
    });
    return () => {
      createListener.unsubscribe();
      deleteListener.unsubscribe();
    };
  }, [newCreatedTransaction]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    setBranchInfo(branchData && branchData.data.branchByAdminId.items[0]);
  }, [branchData]);
  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, showPaymentRequest ? __jsx(_PaymentRequest__WEBPACK_IMPORTED_MODULE_9__["default"], {
    setShowPaymentRequest: setShowPaymentRequest,
    branchId: branchInfo ? branchInfo.id : ""
  }) : __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Page"], {
    title: branchInfo && branchInfo.branchName
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    label: "Search Product",
    value: searchValue,
    onChange: handleSearchInput,
    prefix: __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Icon"], {
      source: _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_5__["SearchMajorMonotone"]
    }),
    placeholder: "Search by Customer phone number"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Stack"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Stack"].Item, {
    fill: true
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    id: "Accept-Payment",
    onClick: () => setShowPaymentRequest(true)
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Icon"], {
    source: _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_5__["BalanceMajorMonotone"]
  }), " Accept Payment")), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Stack"].Item, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    id: "Create-Transaction",
    primary: true,
    onClick: () => redirect.dispatch(_shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_2__["Redirect"].Action.REMOTE, {
      // url: `https://dev.d3ivgpkzuz6hkr.amplifyapp.com?adminId=${user.attributes.sub}`,
      url: `http://localhost:3001/transactions/${user.attributes.sub}`,
      newContext: true
    })
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Icon"], {
    source: _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_5__["TransactionMajorMonotone"]
  }), " Create transaction")), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Stack"].Item, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    primary: true,
    id: "Logout",
    onClick: () => {
      aws_amplify__WEBPACK_IMPORTED_MODULE_1__["Auth"].signOut();
      updateUser(null);
    }
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Icon"], {
    source: _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_5__["LogOutMinor"]
  }), " Logout"))), branchInfo && __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Card"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["DataTable"], {
    columnContentTypes: ["text", "text", "text", "text"],
    headings: ["Customer phone number", "TotalPrice", "TotalBonusAmount", "Minus from Bonus Amount", "CreatedAt"],
    rows: branchInfo && branchInfo.transactions.items.filter(transaction => {
      if (searchValue == null) {
        return transaction;
      } else if (transaction.customer[0].phone.toLowerCase().includes(searchValue.toLowerCase())) {
        return transaction;
      }
    }).sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)).map(transaction => [__jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Button"], {
      primary: true,
      onClick: () => redirect.dispatch(_shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_2__["Redirect"].Action.ADMIN_PATH, {
        path: `/customers/${transaction.customer[0].id}`,
        newContext: true
      })
    }, transaction.customer[0].phone), Object(_utils_helper__WEBPACK_IMPORTED_MODULE_7__["toCurrency"])(Number(transaction.totalPrice)), Object(_utils_helper__WEBPACK_IMPORTED_MODULE_7__["toCurrency"])(Number(transaction.totalBonusAmount)), transaction.note === null ? "" : Object(_utils_helper__WEBPACK_IMPORTED_MODULE_7__["toCurrency"])(Object(_utils_helper__WEBPACK_IMPORTED_MODULE_7__["extractNumbersFromString"])(transaction.note)), Object(_utils_helper__WEBPACK_IMPORTED_MODULE_7__["formatDate"])(transaction.createdAt)])
  }))));
};

/* harmony default export */ __webpack_exports__["default"] = (BranchData);

/***/ }),

/***/ "./components/BranchList.js":
/*!**********************************!*\
  !*** ./components/BranchList.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var aws_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-sdk */ "aws-sdk");
/* harmony import */ var aws_sdk__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(aws_sdk__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _core_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/hooks */ "./core/hooks/index.js");
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _BranchProducts__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./BranchProducts */ "./components/BranchProducts.js");
/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../graphql/queries */ "./graphql/queries.js");
/* harmony import */ var _graphql_subscriptions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../graphql/subscriptions */ "./graphql/subscriptions.js");
/* harmony import */ var _graphql_mutation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../graphql/mutation */ "./graphql/mutation.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;












aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_7__["default"]);
aws_sdk__WEBPACK_IMPORTED_MODULE_1___default.a.config.update({
  accessKeyId: 'AKIAIF6WKVKSOTQCUREQ',
  secretAccessKey: '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',
  region: 'us-east-1'
});
const cognito = new aws_sdk__WEBPACK_IMPORTED_MODULE_1___default.a.CognitoIdentityServiceProvider();

const BranchList = ({
  setBranchId,
  branchId
}) => {
  const {
    0: active,
    1: setActive
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);
  const {
    0: branches,
    1: setBranches
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: branchName,
    1: setBranchName
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: productBranchId,
    1: setProductBranchId
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: newCreatedBranch,
    1: setNewCreatedBranch
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    data: branchesData,
    refetch: fetchBranches
  } = Object(_core_hooks__WEBPACK_IMPORTED_MODULE_5__["useListBranches"])();
  const {
    deleteBranch,
    isLoading,
    error,
    data
  } = Object(_core_hooks__WEBPACK_IMPORTED_MODULE_5__["useDeleteBranch"])();

  const handleChange = () => {
    setActive(!active);
  }; // const deleteBranch = async (id) => {
  //     const branchToDelete = branches.listBranchs.items.filter((item) => item.id === id)[0]
  //     const transactionsToDelete = branchToDelete.transactions.items
  //         ? branchToDelete.transactions.items.map((transaction) => transaction.id)
  //         : ''
  //     const productsToDelete = branchToDelete.branchProducts.items
  //         ? branchToDelete.branchProducts.items.map((product) => product.id)
  //         : ''
  //     const paymentRequestToDelete = branchToDelete.branchPaymentRequests.items
  //         ? branchToDelete.branchPaymentRequests.items.map((paymentRequest) => paymentRequest.id)
  //         : ''
  //     try {
  //         const deletedBranch = await API.graphql(
  //             graphqlOperation(removeBranch, { input: { id } })
  //         )
  //         await Promise.all(
  //             transactionsToDelete.map((transactionId) => {
  //                 API.graphql(
  //                     graphqlOperation(deleteTransaction, { input: { id: transactionId } })
  //                 )
  //             })
  //         ).catch((err) => console.log(err))
  //         await Promise.all(
  //             productsToDelete.map((productId) => {
  //                 API.graphql(graphqlOperation(deleteBranchProduct, { input: { id: productId } }))
  //             })
  //         ).catch((err) => console.log(err))
  //         await Promise.all(
  //             paymentRequestToDelete.map((paymentId) => {
  //                 API.graphql(
  //                     graphqlOperation(deletePaymentRequest, { input: { id: paymentId } })
  //                 )
  //             })
  //         )
  //     } catch (error) {
  //         console.log(error)
  //     }
  // }
  // const deleteUserFromCognito = async (username) => {
  //     try {
  //         await cognito
  //             .adminDeleteUser({
  //                 UserPoolId: 'us-east-1_IfrnnzGFR',
  //                 Username: username
  //             })
  //             .promise()
  //     } catch (error) {
  //         console.log(error)
  //     }
  // }


  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    fetchBranches();
    const createListener = aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(_graphql_subscriptions__WEBPACK_IMPORTED_MODULE_10__["onCreateBranchSubscription"])).subscribe({
      next: createdBranch => {
        setNewCreatedBranch(createdBranch);
      }
    });
    const deleteListener = aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(_graphql_subscriptions__WEBPACK_IMPORTED_MODULE_10__["onDeleteBranchSubscription"])).subscribe({
      next: deletedBranch => {
        setNewCreatedBranch(deletedBranch);
      }
    });
    return () => {
      createListener.unsubscribe();
      deleteListener.unsubscribe();
    };
  }, [newCreatedBranch]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    setBranches(branchesData && branchesData.data);
  }, [branchesData]);
  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Table"], {
    selectable: true,
    celled: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Table"].Header, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Table"].Row, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Table"].HeaderCell, null, "Branch Name"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Table"].HeaderCell, {
    textAlign: "center"
  }, "Created At"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Table"].HeaderCell, {
    textAlign: "center"
  }, "Actions"))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Table"].Body, null, branches && branches.listBranchs.items.map(item => __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Table"].Row, {
    key: item.id
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__["Button"], {
    primary: true,
    onClick: () => {
      setBranchId(item.id);
    }
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Icon"], {
    name: "code branch"
  }), " ", item.branchName)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Table"].Cell, {
    textAlign: "center"
  }, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_6__["formatDate"])(item.createdAt)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Table"].Cell, {
    textAlign: "center",
    className: "branch-actions"
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Popup"], {
    content: "Edit branch",
    trigger: __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Icon"], {
      onClick: () => {
        setProductBranchId(item.id);
        setBranchName(item.branchName);
        handleChange();
      },
      className: "edit-branch",
      name: "edit outline"
    })
  }), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Popup"], {
    content: "Delete Branch",
    trigger: __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__["Icon"], {
      className: "remove-branch",
      name: "trash alternate",
      onClick: () => {
        deleteBranch({
          branches,
          username: item.branchUsername,
          id: item.id
        }); // deleteBranch(item.id)
        // deleteUserFromCognito(item.branchUsername)
      }
    })
  })))))), __jsx(_BranchProducts__WEBPACK_IMPORTED_MODULE_8__["default"], {
    branchName: branchName,
    branchId: productBranchId,
    active: active,
    handleChange: handleChange
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (BranchList);

/***/ }),

/***/ "./components/BranchProducts.js":
/*!**************************************!*\
  !*** ./components/BranchProducts.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ "uuid");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @apollo/client */ "@apollo/client");
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_apollo_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _core_hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/hooks */ "./core/hooks/index.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _BranchRow__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./BranchRow */ "./components/BranchRow.js");
/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../graphql/queries */ "./graphql/queries.js");
/* harmony import */ var _graphql_mutation__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../graphql/mutation */ "./graphql/mutation.js");
/* harmony import */ var _graphql_subscriptions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../graphql/subscriptions */ "./graphql/subscriptions.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;












aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_7__["default"]);

const ProductsList = ({
  active,
  handleChange,
  branchId
}) => {
  const {
    loading,
    error,
    data
  } = Object(_apollo_client__WEBPACK_IMPORTED_MODULE_3__["useQuery"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_9__["listProducts"]);
  const {
    0: branchProductSubscription,
    1: setBranchProductSubscription
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const {
    0: rowId,
    1: setRowId
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]);
  const {
    0: state,
    1: setState
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({
    products: []
  });
  const {
    0: branchInfo,
    1: setBranchInfo
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const {
    data: branchData,
    refetch: getBranch
  } = Object(_core_hooks__WEBPACK_IMPORTED_MODULE_6__["useBranchEntity"])(branchId);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    getBranch();
    const createListener = aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(_graphql_subscriptions__WEBPACK_IMPORTED_MODULE_11__["onCreateBranchProduct"])).subscribe({
      next: createdBranchProduct => setBranchProductSubscription(createdBranchProduct)
    });
    const updateListener = aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(_graphql_subscriptions__WEBPACK_IMPORTED_MODULE_11__["onUpdateBranchProduct"])).subscribe({
      next: updatedBranchProduct => setBranchProductSubscription(updatedBranchProduct)
    });
    const deleteListener = aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(_graphql_subscriptions__WEBPACK_IMPORTED_MODULE_11__["onDeleteBranchProduct"])).subscribe({
      next: deletedBranchProduct => setBranchProductSubscription(deletedBranchProduct)
    });
    return () => {
      createListener.unsubscribe();
      updateListener.unsubscribe();
      deleteListener.unsubscribe();
    };
  }, [branchId, branchProductSubscription]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    if (!branchData) {
      return;
    }

    setBranchInfo(branchData.data.getBranch);
    setRowId([...branchData.data.getBranch.branchProducts.items.map(item => item.productId)]);
    setState({
      products: [...branchData.data.getBranch.branchProducts.items.map(product => ({
        id: product.productId
      }))]
    });
  }, [branchData]);

  if (loading) {
    return __jsx("div", null, "Loading products...");
  }

  if (error) {
    return __jsx("div", null, "Some error occured");
  }

  const deleteProductsFromBranch = () => {
    const productsToDeleteFromBranch = branchInfo.branchProducts.items.filter(branchProduct => !state.products.map(product => product.id).includes(branchProduct.productId));
    Promise.all(productsToDeleteFromBranch.map(deleteProduct => {
      aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(_graphql_mutation__WEBPACK_IMPORTED_MODULE_10__["deleteBranchProduct"], {
        input: {
          id: deleteProduct.id
        }
      }));
    })).catch(err => console.log(err));
    return;
  };

  const addProductsToBranch = () => {
    Promise.all(state.products.map(product => {
      const updatedProduct = branchInfo.branchProducts.items.filter(branchProduct => branchProduct.productId === product.id)[0];

      if (updatedProduct) {
        aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(_graphql_mutation__WEBPACK_IMPORTED_MODULE_10__["updateBranchProduct"], {
          input: {
            id: updatedProduct.id,
            tags: product.tags
          }
        }));
      } else {
        aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(_graphql_mutation__WEBPACK_IMPORTED_MODULE_10__["createBranchProduct"], {
          input: {
            id: Object(uuid__WEBPACK_IMPORTED_MODULE_1__["v4"])(),
            branchId: branchId,
            productId: product.id,
            tags: product.tags
          }
        }));
      }
    })).catch(err => console.log(err));
    return;
  };

  return __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Modal"], {
    open: active,
    onClose: () => handleChange(),
    title: "Choose products",
    primaryAction: {
      content: "Save changes",
      onAction: () => {
        addProductsToBranch();
        deleteProductsFromBranch();
        handleChange();
      }
    }
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Modal"].Section, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"], {
    celled: true,
    striped: true,
    selectable: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].Header, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].Row, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].HeaderCell, null, "Products"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].HeaderCell, {
    textAlign: "center"
  }, "Price"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].HeaderCell, null, "Bonus Percentage"))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].Body, null, data && branchInfo && data.products.edges.map(product => __jsx(_BranchRow__WEBPACK_IMPORTED_MODULE_8__["default"], {
    rowId: rowId,
    setRowId: setRowId,
    branchInfo: branchInfo,
    branchId: branchId,
    product: product,
    state: state,
    setState: setState
  }))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].Footer, {
    fullWidth: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].Row, null)))));
};

/* harmony default export */ __webpack_exports__["default"] = (ProductsList);

/***/ }),

/***/ "./components/BranchRow.js":
/*!*********************************!*\
  !*** ./components/BranchRow.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;





const BranchRow = ({
  product,
  state,
  setState,
  branchInfo,
  rowId,
  setRowId
}) => {
  const {
    0: fetchedProduct,
    1: setFetchedProduct
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({
    description: product.node.description,
    id: product.node.id,
    image: product.node.images.edges[0] ? product.node.images.edges[0].node.originalSrc : "",
    tags: product.node.tags,
    title: product.node.title,
    variants: {
      id: product.node.variants.edges[0].node.id,
      price: product.node.variants.edges[0].node.price
    }
  });
  const {
    0: searchValue,
    1: setSearchValue
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
  const {
    0: bonus,
    1: setBonus
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const handleSearchInput = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => setSearchValue(newValue), []);
  const handleBonus = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(value => {
    setBonus(value);
    fetchedProduct.tags = [value];
    setFetchedProduct(fetchedProduct);
  }, []);

  const compareProduct = () => {
    const comparedProduct = branchInfo.branchProducts.items.filter(branchProduct => branchProduct.productId === fetchedProduct.id);

    if (!comparedProduct || comparedProduct === undefined) {
      return;
    }

    setBonus(comparedProduct[0] ? comparedProduct[0].tags && comparedProduct[0].tags[0] : "");
    return;
  };

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    compareProduct();
  }, [product, branchInfo]);
  return __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].Row, {
    key: fetchedProduct.id
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].Cell, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Header"], {
    as: "h4",
    image: true,
    className: "product-header"
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_1__["Checkbox"], {
    checked: rowId.includes(fetchedProduct.id) && true,
    onChange: () => {
      if (rowId.includes(fetchedProduct.id)) {
        setRowId(rowId.filter(id => id !== fetchedProduct.id));
        setState({
          products: state.products.filter(filteredProduct => filteredProduct.id !== fetchedProduct.id)
        });
      } else {
        setRowId([...rowId, fetchedProduct.id]);
        setState({
          products: [...state.products, fetchedProduct]
        });
      }
    }
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_1__["Thumbnail"], {
    source: fetchedProduct.image,
    size: "small",
    alt: ""
  }), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Header"].Content, null, fetchedProduct.title))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].Cell, {
    textAlign: "center"
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_1__["TextStyle"], {
    variation: "subdued"
  }, fetchedProduct.variants && Object(_utils_helper__WEBPACK_IMPORTED_MODULE_3__["toCurrency"])(fetchedProduct.variants.price))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_1__["TextField"], {
    id: "percentage-input",
    placeholder: "Bonus Percentage",
    value: bonus,
    onChange: handleBonus,
    prefix: __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__["Icon"], {
      name: "percent"
    }),
    disabled: !rowId.includes(fetchedProduct.id)
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (BranchRow);

/***/ }),

/***/ "./components/DeclinedPaymentRequest.js":
/*!**********************************************!*\
  !*** ./components/DeclinedPaymentRequest.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _core_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/hooks */ "./core/hooks/index.js");
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../graphql/queries */ "./graphql/queries.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;








aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].configure(aws_amplify__WEBPACK_IMPORTED_MODULE_2___default.a);

const DeclinedPaymentRequest = ({
  branchId
}) => {
  const {
    0: nextPaginateToken,
    1: setNextPaginateToken
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const {
    0: paymentRequestItems,
    1: setPaymentRequestItems
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]);
  const {
    data: paymentRequests,
    refetch: getPaymentRequests
  } = Object(_core_hooks__WEBPACK_IMPORTED_MODULE_4__["useFetchPaymentRequest"])(branchId, "DECLINED", 20);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    getPaymentRequests();
  }, [branchId]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    setNextPaginateToken(paymentRequests && paymentRequests.data.listPaymentRequests.nextToken);
    setPaymentRequestItems(paymentRequests && paymentRequests.data.listPaymentRequests.items);
  }, [paymentRequests]);

  const loadMore = async () => {
    try {
      const res = await aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_6__["listPaymentRequest"], {
        limit: 20,
        nextToken: nextPaginateToken,
        branchId,
        status: "DECLINED"
      }));
      setNextPaginateToken(res.data.listPaymentRequests.nextToken);
      setPaymentRequestItems([...paymentRequestItems, ...res.data.listPaymentRequests.items]);
    } catch (error) {
      console.log(error);
    }
  };

  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"], {
    celled: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Header, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Row, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Customer Id"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Bonus Amount"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Created At"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Updated At"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Status"))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Body, null, paymentRequestItems && paymentRequestItems.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt)).map(item => __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Row, {
    key: item.id
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__["Badge"], {
    size: "small"
  }, item.customerId)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["toCurrency"])(item.bonusAmount)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["formatDate"])(item.createdAt)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["formatDate"])(item.updatedAt)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__["Badge"], {
    size: "small",
    progress: "incomplete",
    status: "critical"
  }, item.status)))))), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__["Button"], {
    disabled: !nextPaginateToken,
    primary: true,
    onClick: loadMore
  }, "Load more"));
};

/* harmony default export */ __webpack_exports__["default"] = (DeclinedPaymentRequest);

/***/ }),

/***/ "./components/Login.js":
/*!*****************************!*\
  !*** ./components/Login.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-hook-form */ "react-hook-form");
/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_hook_form__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-query */ "react-query");
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_query__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _core_services__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/services */ "./core/services/index.js");
/* harmony import */ var _core_hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/hooks */ "./core/hooks/index.js");

var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;








const Login = ({
  setUser
}) => {
  const {
    0: password,
    1: setPassword
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: activeUsername,
    1: setActiveUsername
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);
  const {
    0: activePassword,
    1: setActivePassword
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);
  const {
    0: showPassword,
    1: setShowPassword
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);
  const passwordRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  const usernameRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  const {
    handleSubmit,
    errors,
    register
  } = Object(react_hook_form__WEBPACK_IMPORTED_MODULE_1__["useForm"])();
  const {
    login,
    status,
    data,
    error
  } = Object(_core_hooks__WEBPACK_IMPORTED_MODULE_6__["useLogin"])();
  const onChangeUsername = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => {
    setUsername(newValue);
  }, []);
  const onChangePassword = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => {
    setPassword(newValue);
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    setUser(data);
  }, [data]);
  console.log('Sign in status is', status);
  return __jsx("div", {
    className: "authentication-container"
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Card"], {
    title: "Log into your branch",
    sectioned: true
  }, __jsx("form", {
    onSubmit: handleSubmit(login)
  }, __jsx("div", {
    className: "form-controll"
  }, __jsx("input", {
    name: "username",
    ref: register({
      required: 'Username is required!'
    }),
    onBlur: e => {
      if (e.target.value) {
        return setActiveUsername(true);
      }

      return setActiveUsername(false);
    }
  }), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Icon"], {
    name: "user"
  }), __jsx("label", {
    className: activeUsername ? 'active' : '',
    htmlFor: "username"
  }, "Username"), errors.username && __jsx("p", {
    className: "error-notification"
  }, errors.username.message)), __jsx("div", {
    className: "form-controll"
  }, __jsx("input", {
    name: "password",
    type: showPassword ? 'text' : 'password',
    ref: register({
      required: 'Password is required!'
    }),
    onChange: e => setPassword(e.target.value),
    onBlur: e => {
      if (e.target.value) {
        return setActivePassword(true);
      }

      return setActivePassword(false);
    }
  }), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Icon"], {
    name: "lock"
  }), __jsx("label", {
    className: activePassword ? 'active' : '',
    htmlFor: "password"
  }, "Password"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Icon"], {
    className: password ? 'show-eye' : 'not-show-eye',
    onClick: () => setShowPassword(!showPassword),
    name: showPassword ? 'eye slash' : 'eye',
    style: {
      color: showPassword ? '#6774c8' : ''
    }
  }), errors.password && __jsx("p", {
    className: "error-notification"
  }, errors.password.message)), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Button"], {
    primary: true,
    submit: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Icon"], {
    name: "sign-in"
  }), " Login"))));
};

/* harmony default export */ __webpack_exports__["default"] = (Login);

/***/ }),

/***/ "./components/PaymentRequest.js":
/*!**************************************!*\
  !*** ./components/PaymentRequest.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _AcceptedPaymentRequest__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AcceptedPaymentRequest */ "./components/AcceptedPaymentRequest.js");
/* harmony import */ var _PendingPaymentRequest__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./PendingPaymentRequest */ "./components/PendingPaymentRequest.js");
/* harmony import */ var _DeclinedPaymentRequest__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DeclinedPaymentRequest */ "./components/DeclinedPaymentRequest.js");
/* harmony import */ var _graphql_subscriptions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graphql/subscriptions */ "./graphql/subscriptions.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;








aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_3__["default"]);

const AcceptPayment = ({
  branchId,
  setShowPaymentRequest
}) => {
  const {
    0: activeToast,
    1: setActiveToast
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);
  const {
    0: selected,
    1: setSelected
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0);
  const {
    0: createUpdatePaymentSubscription,
    1: setCreateUpdatePaymentSubscription
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const handleTabChange = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(selectedTabIndex => setSelected(selectedTabIndex), []);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    const listener = aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_subscriptions__WEBPACK_IMPORTED_MODULE_7__["paymentSubscription"])).subscribe({
      next: paymentResponse => {
        setCreateUpdatePaymentSubscription(paymentResponse);
      }
    });
    const onUpdatePayment = aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_subscriptions__WEBPACK_IMPORTED_MODULE_7__["onUpdatePaymentSubscription"])).subscribe({
      next: onUpdatePaymentResponse => {
        setCreateUpdatePaymentSubscription(onUpdatePaymentResponse);
      }
    });
    return () => {
      listener.unsubscribe();
      onUpdatePayment.unsubscribe();
    };
  }, []);
  const tabs = [{
    id: "pending-payments",
    content: "Pending Payment Requests",
    accessibilityLabel: "Pending Requests",
    panelID: "pending-payments-content"
  }, {
    id: "accepted-payments",
    content: "Accepted Payment Requests",
    accessibilityLabel: "Accepted Request",
    panelID: "accepted-payments-content"
  }, {
    id: "declined-payments",
    content: "Declined Payment Requests",
    accessibilityLabel: "Declined Requests",
    panelID: "declined-payments-content"
  }];
  const toastMarkup = activeToast ? __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Toast"], {
    content: "Order has been successfully created",
    onDismiss: () => setActiveToast(false)
  }) : null;

  const renderPaymentRequest = selected => {
    switch (selected) {
      case 0:
        return __jsx(_PendingPaymentRequest__WEBPACK_IMPORTED_MODULE_5__["default"], {
          branchId: branchId,
          createUpdatePaymentSubscription: createUpdatePaymentSubscription
        });

      case 1:
        return __jsx(_AcceptedPaymentRequest__WEBPACK_IMPORTED_MODULE_4__["default"], {
          branchId: branchId
        });

      case 2:
        return __jsx(_DeclinedPaymentRequest__WEBPACK_IMPORTED_MODULE_6__["default"], {
          branchId: branchId
        });

      default:
        return;
    }
  };

  return __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Frame"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Page"], {
    title: "Payment Request"
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Button"], {
    onClick: () => setShowPaymentRequest(false)
  }, "Go back"), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Card"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Tabs"], {
    tabs: tabs,
    selected: selected,
    onSelect: handleTabChange
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Card"].Section, {
    title: tabs[selected].content
  }, renderPaymentRequest(selected)))), toastMarkup));
};

/* harmony default export */ __webpack_exports__["default"] = (AcceptPayment);

/***/ }),

/***/ "./components/PendingPaymentRequest.js":
/*!*********************************************!*\
  !*** ./components/PendingPaymentRequest.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _core_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/hooks */ "./core/hooks/index.js");
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _ProductsList__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ProductsList */ "./components/ProductsList.js");
/* harmony import */ var _graphql_mutation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../graphql/mutation */ "./graphql/mutation.js");
/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graphql/queries */ "./graphql/queries.js");
/* harmony import */ var _graphql_subscriptions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../graphql/subscriptions */ "./graphql/subscriptions.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;










const PendingPaymentRequest = ({
  createUpdatePaymentSubscription,
  branchId
}) => {
  const {
    0: paymentRequestId,
    1: setPaymentRequestId
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");
  const {
    0: active,
    1: setActive
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);
  const {
    0: paymentRequestItems,
    1: setPaymentRequestItems
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]);
  const {
    data: paymentRequests,
    refetch: getPaymentRequests
  } = Object(_core_hooks__WEBPACK_IMPORTED_MODULE_3__["useFetchPaymentRequest"])(branchId, "PENDING");
  const {
    updatePaymentRequest
  } = Object(_core_hooks__WEBPACK_IMPORTED_MODULE_3__["useUpdatePaymentRequest"])();
  const handleChange = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(() => setActive(!active), [active]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    getPaymentRequests();
  }, [branchId, createUpdatePaymentSubscription]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    setPaymentRequestItems(paymentRequests && paymentRequests.data.listPaymentRequests.items);
  }, [paymentRequests]);

  const declinePayment = paymentId => {
    updatePaymentRequest({
      paymentId,
      status: "DECLINED"
    });
  };

  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"], {
    selectable: true,
    celled: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Header, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Row, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Customer Id"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Bonus Amount"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Created At"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Updated At"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Status"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Action"))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Body, null, paymentRequestItems && paymentRequestItems.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt)).map(item => __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Row, {
    key: item.id
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Badge"], {
    size: "small"
  }, item.customerId)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_4__["toCurrency"])(item.bonusAmount)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_4__["formatDate"])(item.createdAt)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_4__["formatDate"])(item.updatedAt)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Badge"], {
    size: "small",
    progress: "partiallyComplete",
    status: "attention"
  }, item.status)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, {
    className: "actions-cell"
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Popup"], {
    content: "Approve payment",
    trigger: __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Icon"], {
      className: "accept",
      name: "check",
      onClick: () => {
        setPaymentRequestId(item.id);
        handleChange();
      }
    })
  }), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Popup"], {
    content: "Decline payment",
    trigger: __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Icon"], {
      className: "decline",
      name: "remove",
      onClick: async () => {
        declinePayment(item.id);
      }
    })
  })))))), __jsx(_ProductsList__WEBPACK_IMPORTED_MODULE_5__["default"], {
    paymentRequestId: paymentRequestId,
    active: active,
    handleChange: handleChange
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (PendingPaymentRequest);

/***/ }),

/***/ "./components/ProductsList.js":
/*!************************************!*\
  !*** ./components/ProductsList.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @apollo/client */ "@apollo/client");
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_apollo_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _core_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/hooks */ "./core/hooks/index.js");
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../graphql/queries */ "./graphql/queries.js");
/* harmony import */ var _graphql_mutation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graphql/mutation */ "./graphql/mutation.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }










const ProductsList = ({
  active,
  handleChange,
  paymentRequestId
}) => {
  const {
    loading,
    error,
    data
  } = Object(_apollo_client__WEBPACK_IMPORTED_MODULE_1__["useQuery"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_6__["listProducts"]);
  const {
    0: rowId,
    1: setRowId
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]);
  const {
    0: state,
    1: setState
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({
    products: []
  });
  const {
    updatePaymentRequest
  } = Object(_core_hooks__WEBPACK_IMPORTED_MODULE_4__["useUpdatePaymentRequest"])();

  if (loading) {
    return __jsx("div", null, "Loading products...");
  }

  if (error) {
    return __jsx("div", null, "Some error occured");
  }

  const acceptPayment = () => {
    return updatePaymentRequest({
      paymentId: paymentRequestId,
      status: "APPROVED",
      products: state.products.map(product => ({
        originalUnitPrice: product.node.variants.edges[0].node.price,
        quantity: 1,
        variantId: product.node.variants.edges[0].node.id
      }))
    });
  };

  return __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Modal"], {
    open: active,
    onClose: handleChange,
    title: "Choose products",
    primaryAction: {
      content: "Proceed",
      onAction: () => {
        acceptPayment();
        handleChange();
      }
    }
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Modal"].Section, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"], {
    celled: true,
    striped: true,
    selectable: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Header, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Row, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].HeaderCell, null, "Products"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].HeaderCell, null, "Description"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].HeaderCell, {
    textAlign: "center"
  }, "Price"))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Body, null, data && data.products.edges.map(product => __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Row, {
    key: product.node.id,
    onClick: () => {
      if (rowId.includes(product.node.id)) {
        setRowId(rowId.filter(id => id !== product.node.id));
        setState({
          products: state.products.filter(filteredProduct => filteredProduct.node.id !== product.node.id)
        });
      } else {
        setRowId([...rowId, product.node.id]);
        setState(_objectSpread(_objectSpread({}, state), {}, {
          products: [...state.products, product]
        }));
      }
    }
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Cell, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Header"], {
    as: "h4",
    image: true,
    className: "product-header"
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Checkbox"], {
    checked: rowId.includes(product.node.id) && true
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Thumbnail"], {
    source: product.node.images.edges[0] && product.node.images.edges[0].node.originalSrc,
    size: "small",
    alt: ""
  }), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Header"].Content, null, product.node.title))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["TextStyle"], {
    variation: "subdued"
  }, product.node.description)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Cell, {
    textAlign: "center"
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["TextStyle"], {
    variation: "subdued"
  }, product.node.variants.edges[0] && Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["toCurrency"])(product.node.variants.edges[0].node.price)))))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Footer, {
    fullWidth: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Row, null)))));
};

/* harmony default export */ __webpack_exports__["default"] = (ProductsList);

/***/ }),

/***/ "./core/hooks/index.js":
/*!*****************************!*\
  !*** ./core/hooks/index.js ***!
  \*****************************/
/*! exports provided: useLogin, useFetchPaymentRequest, useUpdatePaymentRequest, useBranchEntity, useSignUp, useConfirmSignUp, useCreateBranch, useListBranches, useBranchByAdmin, useDeleteBranch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _useLogin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useLogin */ "./core/hooks/useLogin.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useLogin", function() { return _useLogin__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _useFetchPaymentRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useFetchPaymentRequest */ "./core/hooks/useFetchPaymentRequest.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useFetchPaymentRequest", function() { return _useFetchPaymentRequest__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _useUpdatePaymentRequest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useUpdatePaymentRequest */ "./core/hooks/useUpdatePaymentRequest.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useUpdatePaymentRequest", function() { return _useUpdatePaymentRequest__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _useBranchEntity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useBranchEntity */ "./core/hooks/useBranchEntity.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useBranchEntity", function() { return _useBranchEntity__WEBPACK_IMPORTED_MODULE_3__["default"]; });

/* harmony import */ var _useSignUp__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useSignUp */ "./core/hooks/useSignUp.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useSignUp", function() { return _useSignUp__WEBPACK_IMPORTED_MODULE_4__["default"]; });

/* harmony import */ var _useConfirmSignUp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./useConfirmSignUp */ "./core/hooks/useConfirmSignUp.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useConfirmSignUp", function() { return _useConfirmSignUp__WEBPACK_IMPORTED_MODULE_5__["default"]; });

/* harmony import */ var _useCreateBranch__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./useCreateBranch */ "./core/hooks/useCreateBranch.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useCreateBranch", function() { return _useCreateBranch__WEBPACK_IMPORTED_MODULE_6__["default"]; });

/* harmony import */ var _useListBranches__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useListBranches */ "./core/hooks/useListBranches.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useListBranches", function() { return _useListBranches__WEBPACK_IMPORTED_MODULE_7__["default"]; });

/* harmony import */ var _useBranchByAdmin__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./useBranchByAdmin */ "./core/hooks/useBranchByAdmin.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useBranchByAdmin", function() { return _useBranchByAdmin__WEBPACK_IMPORTED_MODULE_8__["default"]; });

/* harmony import */ var _useDeleteBranch__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./useDeleteBranch */ "./core/hooks/useDeleteBranch.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useDeleteBranch", function() { return _useDeleteBranch__WEBPACK_IMPORTED_MODULE_9__["default"]; });












/***/ }),

/***/ "./core/hooks/useBranchByAdmin.js":
/*!****************************************!*\
  !*** ./core/hooks/useBranchByAdmin.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-query */ "react-query");
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_query__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services */ "./core/services/index.js");




const useBranchByAdmin = adminId => {
  const branchByAdmin = Object(react_query__WEBPACK_IMPORTED_MODULE_1__["useQuery"])(["branch-by-admin", {
    adminId
  }], _services__WEBPACK_IMPORTED_MODULE_2__["BranchService"].getBranchByAdmin, {
    enabled: false
  });
  return branchByAdmin;
};

/* harmony default export */ __webpack_exports__["default"] = (useBranchByAdmin);

/***/ }),

/***/ "./core/hooks/useBranchEntity.js":
/*!***************************************!*\
  !*** ./core/hooks/useBranchEntity.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-query */ "react-query");
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_query__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services */ "./core/services/index.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../aws-exports */ "./aws-exports.js");





const useBranchEntity = branchId => {
  const branchInfo = Object(react_query__WEBPACK_IMPORTED_MODULE_1__["useQuery"])(["branch-entity", {
    branchId
  }], _services__WEBPACK_IMPORTED_MODULE_2__["BranchService"].getBranch, {
    enabled: false
  });
  return branchInfo;
};

/* harmony default export */ __webpack_exports__["default"] = (useBranchEntity);

/***/ }),

/***/ "./core/hooks/useConfirmSignUp.js":
/*!****************************************!*\
  !*** ./core/hooks/useConfirmSignUp.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-query */ "react-query");
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_query__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services */ "./core/services/index.js");




const useConfirmSignUp = () => {
  const [confirmSignUp, {
    status,
    error,
    data
  }] = Object(react_query__WEBPACK_IMPORTED_MODULE_1__["useMutation"])(_services__WEBPACK_IMPORTED_MODULE_2__["AuthService"].confirmSignUp);
  return {
    confirmSignUp,
    status,
    data,
    error
  };
};

/* harmony default export */ __webpack_exports__["default"] = (useConfirmSignUp);

/***/ }),

/***/ "./core/hooks/useCreateBranch.js":
/*!***************************************!*\
  !*** ./core/hooks/useCreateBranch.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-query */ "react-query");
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_query__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services */ "./core/services/index.js");




const useCreateBranch = () => {
  const [createBranch, {
    isLoading,
    error,
    data
  }] = Object(react_query__WEBPACK_IMPORTED_MODULE_1__["useMutation"])(_services__WEBPACK_IMPORTED_MODULE_2__["BranchService"].createBranchEntity);
  return {
    createBranch,
    isLoading,
    error,
    data
  };
};

/* harmony default export */ __webpack_exports__["default"] = (useCreateBranch);

/***/ }),

/***/ "./core/hooks/useDeleteBranch.js":
/*!***************************************!*\
  !*** ./core/hooks/useDeleteBranch.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-query */ "react-query");
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_query__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services */ "./core/services/index.js");




const useDeleteBranch = () => {
  const [deleteBranch, {
    isLoading,
    error,
    data
  }] = Object(react_query__WEBPACK_IMPORTED_MODULE_1__["useMutation"])(_services__WEBPACK_IMPORTED_MODULE_2__["BranchService"].deleteBranch);
  return {
    deleteBranch,
    isLoading,
    error,
    data
  };
};

/* harmony default export */ __webpack_exports__["default"] = (useDeleteBranch);

/***/ }),

/***/ "./core/hooks/useFetchPaymentRequest.js":
/*!**********************************************!*\
  !*** ./core/hooks/useFetchPaymentRequest.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-query */ "react-query");
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_query__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services */ "./core/services/index.js");




const useFetchPaymentRequest = (branchId, status, limit) => {
  const paymentRequests = Object(react_query__WEBPACK_IMPORTED_MODULE_1__["useQuery"])(["payment-request", {
    branchId,
    status,
    limit
  }], _services__WEBPACK_IMPORTED_MODULE_2__["PaymentService"].fetchPaymentRequest, {
    enabled: false
  });
  return paymentRequests;
};

/* harmony default export */ __webpack_exports__["default"] = (useFetchPaymentRequest);

/***/ }),

/***/ "./core/hooks/useListBranches.js":
/*!***************************************!*\
  !*** ./core/hooks/useListBranches.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-query */ "react-query");
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_query__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services */ "./core/services/index.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../aws-exports */ "./aws-exports.js");





const useBranchEntity = () => {
  const branchInfo = Object(react_query__WEBPACK_IMPORTED_MODULE_1__["useQuery"])(["list-branches"], _services__WEBPACK_IMPORTED_MODULE_2__["BranchService"].listBranchEntities, {
    enabled: false
  });
  return branchInfo;
};

/* harmony default export */ __webpack_exports__["default"] = (useBranchEntity);

/***/ }),

/***/ "./core/hooks/useLogin.js":
/*!********************************!*\
  !*** ./core/hooks/useLogin.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-query */ "react-query");
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_query__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services */ "./core/services/index.js");




const useLogin = () => {
  const [login, {
    status,
    error,
    data
  }] = Object(react_query__WEBPACK_IMPORTED_MODULE_1__["useMutation"])(_services__WEBPACK_IMPORTED_MODULE_2__["AuthService"].login);
  return {
    login,
    status,
    data,
    error
  };
};

/* harmony default export */ __webpack_exports__["default"] = (useLogin);

/***/ }),

/***/ "./core/hooks/useSignUp.js":
/*!*********************************!*\
  !*** ./core/hooks/useSignUp.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-query */ "react-query");
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_query__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services */ "./core/services/index.js");




const useSignUp = () => {
  const [signUserUp, {
    status,
    error,
    data
  }] = Object(react_query__WEBPACK_IMPORTED_MODULE_1__["useMutation"])(_services__WEBPACK_IMPORTED_MODULE_2__["AuthService"].signUp);
  return {
    signUserUp,
    status,
    data,
    error
  };
};

/* harmony default export */ __webpack_exports__["default"] = (useSignUp);

/***/ }),

/***/ "./core/hooks/useUpdatePaymentRequest.js":
/*!***********************************************!*\
  !*** ./core/hooks/useUpdatePaymentRequest.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-query */ "react-query");
/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_query__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services */ "./core/services/index.js");




const useUpdatePaymentRequest = () => {
  const [updatePaymentRequest, {
    isLoading,
    error,
    data
  }] = Object(react_query__WEBPACK_IMPORTED_MODULE_1__["useMutation"])(_services__WEBPACK_IMPORTED_MODULE_2__["PaymentService"].updatePayment);
  return {
    updatePaymentRequest,
    isLoading,
    error,
    data
  };
};

/* harmony default export */ __webpack_exports__["default"] = (useUpdatePaymentRequest);

/***/ }),

/***/ "./core/services/auth.service.js":
/*!***************************************!*\
  !*** ./core/services/auth.service.js ***!
  \***************************************/
/*! exports provided: login, signUp, confirmSignUp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "login", function() { return login; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "signUp", function() { return signUp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "confirmSignUp", function() { return confirmSignUp; });
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../aws-exports */ "./aws-exports.js");


aws_amplify__WEBPACK_IMPORTED_MODULE_0___default.a.configure(_aws_exports__WEBPACK_IMPORTED_MODULE_1__["default"]);
const login = ({
  username,
  password
}) => aws_amplify__WEBPACK_IMPORTED_MODULE_0__["Auth"].signIn(username, password);
const signUp = ({
  username,
  password,
  attributes: {
    email
  }
}) => aws_amplify__WEBPACK_IMPORTED_MODULE_0__["Auth"].signUp({
  username,
  password,
  attributes: {
    email
  }
});
const confirmSignUp = ({
  username,
  code
}) => aws_amplify__WEBPACK_IMPORTED_MODULE_0__["Auth"].confirmSignUp(username, code);

/***/ }),

/***/ "./core/services/branch.service.js":
/*!*****************************************!*\
  !*** ./core/services/branch.service.js ***!
  \*****************************************/
/*! exports provided: getBranch, getBranchByAdmin, createBranchEntity, listBranchEntities, deleteBranch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBranch", function() { return getBranch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBranchByAdmin", function() { return getBranchByAdmin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createBranchEntity", function() { return createBranchEntity; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "listBranchEntities", function() { return listBranchEntities; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deleteBranch", function() { return deleteBranch; });
/* harmony import */ var aws_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aws-sdk */ "aws-sdk");
/* harmony import */ var aws_sdk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(aws_sdk__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ "uuid");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../graphql/queries */ "./graphql/queries.js");
/* harmony import */ var _graphql_mutation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../graphql/mutation */ "./graphql/mutation.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../aws-exports */ "./aws-exports.js");






aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_5__["default"]);
aws_sdk__WEBPACK_IMPORTED_MODULE_0___default.a.config.update({
  accessKeyId: 'AKIAIF6WKVKSOTQCUREQ',
  secretAccessKey: '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',
  region: 'us-east-1'
});
const cognito = new aws_sdk__WEBPACK_IMPORTED_MODULE_0___default.a.CognitoIdentityServiceProvider();
const getBranch = (key, {
  branchId
}) => aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_3__["getBranchById"], {
  id: branchId
}));
const getBranchByAdmin = (key, {
  adminId
}) => aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_3__["branchByAdminId"], {
  adminId
}));
const createBranchEntity = ({
  userSub,
  username,
  branchName
}) => aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_mutation__WEBPACK_IMPORTED_MODULE_4__["createBranch"], {
  input: {
    adminId: userSub,
    branchUsername: username,
    branchName: branchName,
    id: Object(uuid__WEBPACK_IMPORTED_MODULE_2__["v4"])()
  }
}));
const listBranchEntities = key => aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_3__["listBranchs"]));
const deleteBranch = async ({
  branches,
  username,
  id
}) => {
  const branchToDelete = branches.listBranchs.items.filter(item => item.id === id)[0];
  const transactionsToDelete = branchToDelete.transactions.items ? branchToDelete.transactions.items.map(transaction => transaction.id) : '';
  const productsToDelete = branchToDelete.branchProducts.items ? branchToDelete.branchProducts.items.map(product => product.id) : '';
  const paymentRequestToDelete = branchToDelete.branchPaymentRequests.items ? branchToDelete.branchPaymentRequests.items.map(paymentRequest => paymentRequest.id) : '';

  try {
    const deletedBranch = await aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_mutation__WEBPACK_IMPORTED_MODULE_4__["removeBranch"], {
      input: {
        id
      }
    }));
    await Promise.all(transactionsToDelete.map(transactionId => {
      aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_mutation__WEBPACK_IMPORTED_MODULE_4__["deleteTransaction"], {
        input: {
          id: transactionId
        }
      }));
    })).catch(err => console.log(err));
    await Promise.all(productsToDelete.map(productId => {
      aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_mutation__WEBPACK_IMPORTED_MODULE_4__["deleteBranchProduct"], {
        input: {
          id: productId
        }
      }));
    })).catch(err => console.log(err));
    await Promise.all(paymentRequestToDelete.map(paymentId => {
      aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_mutation__WEBPACK_IMPORTED_MODULE_4__["deletePaymentRequest"], {
        input: {
          id: paymentId
        }
      }));
    }));
    await cognito.adminDeleteUser({
      UserPoolId: 'us-east-1_IfrnnzGFR',
      Username: username
    }).promise();
  } catch (error) {
    console.log(error);
  }
};

/***/ }),

/***/ "./core/services/index.js":
/*!********************************!*\
  !*** ./core/services/index.js ***!
  \********************************/
/*! exports provided: AuthService, PaymentService, BranchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./auth.service */ "./core/services/auth.service.js");
/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return _auth_service__WEBPACK_IMPORTED_MODULE_0__; });
/* harmony import */ var _paymentRequest_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./paymentRequest.service */ "./core/services/paymentRequest.service.js");
/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, "PaymentService", function() { return _paymentRequest_service__WEBPACK_IMPORTED_MODULE_1__; });
/* harmony import */ var _branch_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./branch.service */ "./core/services/branch.service.js");
/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, "BranchService", function() { return _branch_service__WEBPACK_IMPORTED_MODULE_2__; });





/***/ }),

/***/ "./core/services/paymentRequest.service.js":
/*!*************************************************!*\
  !*** ./core/services/paymentRequest.service.js ***!
  \*************************************************/
/*! exports provided: fetchPaymentRequest, updatePayment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchPaymentRequest", function() { return fetchPaymentRequest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updatePayment", function() { return updatePayment; });
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../aws-exports */ "./aws-exports.js");
/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../graphql/queries */ "./graphql/queries.js");
/* harmony import */ var _graphql_mutation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../graphql/mutation */ "./graphql/mutation.js");




aws_amplify__WEBPACK_IMPORTED_MODULE_0__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_1__["default"]);
const fetchPaymentRequest = (key, {
  branchId,
  status,
  limit,
  nextToken
}) => aws_amplify__WEBPACK_IMPORTED_MODULE_0__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_0__["graphqlOperation"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_2__["listPaymentRequest"], {
  branchId,
  status,
  limit,
  nextToken
}));
const updatePayment = ({
  paymentId,
  status,
  products
}) => {
  if (products) {
    return aws_amplify__WEBPACK_IMPORTED_MODULE_0__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_0__["graphqlOperation"])(_graphql_mutation__WEBPACK_IMPORTED_MODULE_3__["updatePaymentRequest"], {
      input: {
        id: paymentId,
        status,
        products
      }
    }));
  }

  return aws_amplify__WEBPACK_IMPORTED_MODULE_0__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_0__["graphqlOperation"])(_graphql_mutation__WEBPACK_IMPORTED_MODULE_3__["updatePaymentRequest"], {
    input: {
      id: paymentId,
      status
    }
  }));
};

/***/ }),

/***/ "./graphql/mutation.js":
/*!*****************************!*\
  !*** ./graphql/mutation.js ***!
  \*****************************/
/*! exports provided: completeOrder, updatePaymentRequest, createBranch, removeBranch, deleteTransaction, deleteBranchProduct, deletePaymentRequest, createBranchProduct, productUpdate, updateBranchProduct */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "completeOrder", function() { return completeOrder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updatePaymentRequest", function() { return updatePaymentRequest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createBranch", function() { return createBranch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "removeBranch", function() { return removeBranch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deleteTransaction", function() { return deleteTransaction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deleteBranchProduct", function() { return deleteBranchProduct; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deletePaymentRequest", function() { return deletePaymentRequest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createBranchProduct", function() { return createBranchProduct; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "productUpdate", function() { return productUpdate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateBranchProduct", function() { return updateBranchProduct; });
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_0__);

const createDraftOrder = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  mutation CreateOrder($input: DraftOrderInput!) {
    draftOrderCreate(input: $input) {
      draftOrder {
        id
        customer {
          id
        }
        email
        lineItems(first: 10) {
          edges {
            node {
              title
              quantity
              originalUnitPrice
              variant {
                id
                price
                title
                product {
                  tags
                  title
                  images(first: 5) {
                    edges {
                      node {
                        originalSrc
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
`;
const completeOrder = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  mutation CompleteOrder($id: ID!) {
    draftOrderComplete(id: $id, paymentPending: true) {
      draftOrder {
        customer {
          id
        }
        email
        name
      }
    }
  }
`;
const updatePaymentRequest = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  mutation updatePaymentRequest($input: UpdatePaymentRequestInput!) {
    updatePaymentRequest(input: $input) {
      bonusAmount
      customerId
      id
      orderId
      status
      products {
        originalUnitPrice
        quantity
        variantId
      }
      createdAt
      updatedAt
    }
  }
`;
const createBranch = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  mutation createBranch($input: CreateBranchInput!) {
    createBranch(input: $input) {
      id
      adminId
      branchName
    }
  }
`;
const removeBranch = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  mutation deleteBranch($input: DeleteBranchInput!) {
    deleteBranch(input: $input) {
      id
    }
  }
`;
const deleteTransaction = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  mutation deleteTransaction($input: DeleteTransactionInput!) {
    deleteTransaction(input: $input) {
      id
    }
  }
`;
const deleteBranchProduct = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  mutation deleteBranchProduct($input: DeleteBranchProductInput!) {
    deleteBranchProduct(input: $input) {
      id
    }
  }
`;
const deletePaymentRequest = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  mutation deletePaymentRequest($input: DeletePaymentRequestInput!) {
    deletePaymentRequest(input: $input) {
      id
    }
  }
`;
const createBranchProduct = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  mutation createBranchProduct($input: CreateBranchProductInput!) {
    createBranchProduct(input: $input) {
      id
      branchId
      productId
      tags
    }
  }
`;
const productUpdate = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  mutation productUpdate($input: ProductInput!) {
    productUpdate(input: $input) {
      product {
        id
        metafields(first: 100) {
          edges {
            node {
              namespace
              key
              value
            }
          }
        }
      }
    }
  }
`;
const updateBranchProduct = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  mutation updateBranchProduct($input: UpdateBranchProductInput!) {
    updateBranchProduct(input: $input) {
      id
      tags
      branchId
      productId
    }
  }
`;

/***/ }),

/***/ "./graphql/queries.js":
/*!****************************!*\
  !*** ./graphql/queries.js ***!
  \****************************/
/*! exports provided: listTransactions, listProducts, branchByAdminId, listPaymentRequest, getBranchById, listBranchs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "listTransactions", function() { return listTransactions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "listProducts", function() { return listProducts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "branchByAdminId", function() { return branchByAdminId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "listPaymentRequest", function() { return listPaymentRequest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBranchById", function() { return getBranchById; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "listBranchs", function() { return listBranchs; });
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_0__);

const listTransactions = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  query listTransactions($limit: Int, $nextToken: String) {
    listTransactions(limit: $limit, nextToken: $nextToken) {
      nextToken
      items {
        id
        totalPrice
        totalBonusAmount
        note
        currency
        products {
          id
          title
          bonusPercentage
          priceAmount
          priceCurrency
          image
        }
        customer {
          id
          firstName
          lastName
          phone
          email
        }
        createdAt
      }
    }
  }
`;
const listProducts = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  query Products {
    products(first: 100) {
      edges {
        node {
          id
          title
          tags
          description(truncateAt: 100)
          variants(first: 1) {
            edges {
              node {
                id
                price
              }
            }
          }
          images(first: 1) {
            edges {
              node {
                originalSrc
              }
            }
          }
        }
      }
    }
  }
`;
const branchByAdminId = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  query branchByAdminId($adminId: ID!) {
    branchByAdminId(adminId: $adminId) {
      items {
        adminId
        branchName
        id
        transactions {
          items {
            branchId
            createdAt
            currency
            id
            note
            customer {
              email
              firstName
              id
              lastName
              phone
            }
            products {
              bonusPercentage
              id
              image
              priceAmount
              priceCurrency
              title
            }
            sortDate
            totalBonusAmount
            totalPrice
            updatedAt
          }
        }
        branchProducts {
          items {
            branchId
            createdAt
            id
            productId
            tags
          }
        }
      }
    }
  }
`;
const listPaymentRequest = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  query listPaymentRequest($branchId: ID, $status: PaymentStatus, $limit: Int, $nextToken: String) {
    listPaymentRequests(
      limit: $limit
      nextToken: $nextToken
      filter: { branchId: { eq: $branchId }, status: { eq: $status } }
    ) {
      items {
        bonusAmount
        createdAt
        customerId
        id
        orderId
        status
        updatedAt
      }
      nextToken
    }
  }
`;
const getBranchById = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  query getBranch($id: ID!) {
    getBranch(id: $id) {
      transactions(sortDirection: DESC) {
        items {
          branchId
          createdAt
          currency
          note
          customer {
            email
            id
            firstName
            lastName
            phone
          }
          totalBonusAmount
          totalPrice
          updatedAt
          sortDate
        }
      }
      branchName
      adminId
      id
      branchProducts {
        items {
          branchId
          createdAt
          id
          productId
          tags
          updatedAt
        }
      }
    }
  }
`;
const listBranchs = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  query listBranchs {
    listBranchs {
      items {
        adminId
        branchName
        branchUsername
        createdAt
        id
        branchProducts {
          items {
            branchId
            createdAt
            id
            productId
            tags
            updatedAt
          }
        }
        branchPaymentRequests {
          items {
            branchId
            id
          }
        }
        transactions {
          items {
            branchId
            id
          }
        }
      }
    }
  }
`;

/***/ }),

/***/ "./graphql/subscriptions.js":
/*!**********************************!*\
  !*** ./graphql/subscriptions.js ***!
  \**********************************/
/*! exports provided: onUpdatePaymentSubscription, paymentSubscription, onCreateTransaction, onDeleteTransaction, onCreateBranchSubscription, onDeleteBranchSubscription, onCreateBranchProduct, onUpdateBranchProduct, onDeleteBranchProduct */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onUpdatePaymentSubscription", function() { return onUpdatePaymentSubscription; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "paymentSubscription", function() { return paymentSubscription; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onCreateTransaction", function() { return onCreateTransaction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onDeleteTransaction", function() { return onDeleteTransaction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onCreateBranchSubscription", function() { return onCreateBranchSubscription; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onDeleteBranchSubscription", function() { return onDeleteBranchSubscription; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onCreateBranchProduct", function() { return onCreateBranchProduct; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onUpdateBranchProduct", function() { return onUpdateBranchProduct; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onDeleteBranchProduct", function() { return onDeleteBranchProduct; });
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_0__);

const onUpdatePaymentSubscription = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  subscription onUpdatePaymentRequest {
    onUpdatePaymentRequest {
      id
      status
    }
  }
`;
const paymentSubscription = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  subscription paymentRequest {
    onCreatePaymentRequest {
      bonusAmount
      createdAt
      customerId
      id
      orderId
      status
      updatedAt
    }
  }
`;
const onCreateTransaction = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  subscription onCreateTransaction {
    onCreateTransaction {
      id
    }
  }
`;
const onDeleteTransaction = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  subscription onDeleteTransaction {
    onDeleteTransaction {
      id
    }
  }
`;
const onCreateBranchSubscription = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  subscription onCreateBranch {
    onCreateBranch {
      adminId
      branchName
      id
      createdAt
    }
  }
`;
const onDeleteBranchSubscription = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  subscription onDeleteBranch {
    onDeleteBranch {
      id
    }
  }
`;
const onCreateBranchProduct = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  subscription onCreateBranchProduct {
    onCreateBranchProduct {
      id
    }
  }
`;
const onUpdateBranchProduct = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  subscription onUpdateBranchProduct {
    onUpdateBranchProduct {
      id
    }
  }
`;
const onDeleteBranchProduct = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
  subscription onDeleteBranchProduct {
    onDeleteBranchProduct {
      id
    }
  }
`;

/***/ }),

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _components_Login__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Login */ "./components/Login.js");
/* harmony import */ var _components_BranchConsole__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/BranchConsole */ "./components/BranchConsole.js");
/* harmony import */ var _components_BranchData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/BranchData */ "./components/BranchData.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;







const Index = () => {
  const {
    0: user,
    1: updateUser
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);

  const checkUser = async () => {
    try {
      const user = await aws_amplify__WEBPACK_IMPORTED_MODULE_1__["Auth"].currentAuthenticatedUser();

      if (!user) {
        return;
      }

      updateUser(user);
    } catch (error) {
      console.log(error);
    }
  };

  const ref = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    checkUser();
  }, []);
  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, user && user.username !== "superadmin" && __jsx(_components_BranchData__WEBPACK_IMPORTED_MODULE_5__["default"], {
    updateUser: updateUser,
    user: user
  }), !user && __jsx(_components_Login__WEBPACK_IMPORTED_MODULE_3__["default"], {
    ref: ref,
    setUser: fetchedUser => updateUser(fetchedUser)
  }), user && user.username === "superadmin" && __jsx(_components_BranchConsole__WEBPACK_IMPORTED_MODULE_4__["default"], {
    updateUser: updateUser
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (Index);

/***/ }),

/***/ "./utils/helper.js":
/*!*************************!*\
  !*** ./utils/helper.js ***!
  \*************************/
/*! exports provided: toCurrency, formatDate, extractNumbersFromString */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toCurrency", function() { return toCurrency; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatDate", function() { return formatDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "extractNumbersFromString", function() { return extractNumbersFromString; });
const toCurrency = price => {
  return new Intl.NumberFormat('hy-AM', {
    currency: 'AMD',
    style: 'currency'
  }).format(price);
};
const formatDate = rowDate => {
  const date = new Date(rowDate);
  const year = new Intl.DateTimeFormat('en', {
    year: 'numeric'
  }).format(date);
  const month = new Intl.DateTimeFormat('en', {
    month: 'short'
  }).format(date);
  const day = new Intl.DateTimeFormat('en', {
    day: '2-digit'
  }).format(date);
  return `${day}-${month}-${year}`;
};
const extractNumbersFromString = string => {
  return Number(string.match(/\d+/g));
};

/***/ }),

/***/ "@apollo/client":
/*!*********************************!*\
  !*** external "@apollo/client" ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@apollo/client");

/***/ }),

/***/ "@shopify/app-bridge":
/*!**************************************!*\
  !*** external "@shopify/app-bridge" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@shopify/app-bridge");

/***/ }),

/***/ "@shopify/app-bridge/actions":
/*!**********************************************!*\
  !*** external "@shopify/app-bridge/actions" ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@shopify/app-bridge/actions");

/***/ }),

/***/ "@shopify/polaris":
/*!***********************************!*\
  !*** external "@shopify/polaris" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@shopify/polaris");

/***/ }),

/***/ "@shopify/polaris-icons":
/*!*****************************************!*\
  !*** external "@shopify/polaris-icons" ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@shopify/polaris-icons");

/***/ }),

/***/ "aws-amplify":
/*!******************************!*\
  !*** external "aws-amplify" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("aws-amplify");

/***/ }),

/***/ "aws-sdk":
/*!**************************!*\
  !*** external "aws-sdk" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("aws-sdk");

/***/ }),

/***/ "graphql-tag":
/*!******************************!*\
  !*** external "graphql-tag" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("graphql-tag");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("react");

/***/ }),

/***/ "react-hook-form":
/*!**********************************!*\
  !*** external "react-hook-form" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("react-hook-form");

/***/ }),

/***/ "react-query":
/*!******************************!*\
  !*** external "react-query" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("react-query");

/***/ }),

/***/ "semantic-ui-react":
/*!************************************!*\
  !*** external "semantic-ui-react" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("semantic-ui-react");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("uuid");

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vYXdzLWV4cG9ydHMuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9BY2NlcHRlZFBheW1lbnRSZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvQWRtaW5CcmFuY2hJbmZvLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvQnJhbmNoQ29uc29sZS5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL0JyYW5jaERhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9CcmFuY2hMaXN0LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvQnJhbmNoUHJvZHVjdHMuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9CcmFuY2hSb3cuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9EZWNsaW5lZFBheW1lbnRSZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvTG9naW4uanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9QYXltZW50UmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL1BlbmRpbmdQYXltZW50UmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL1Byb2R1Y3RzTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9jb3JlL2hvb2tzL2luZGV4LmpzIiwid2VicGFjazovLy8uL2NvcmUvaG9va3MvdXNlQnJhbmNoQnlBZG1pbi5qcyIsIndlYnBhY2s6Ly8vLi9jb3JlL2hvb2tzL3VzZUJyYW5jaEVudGl0eS5qcyIsIndlYnBhY2s6Ly8vLi9jb3JlL2hvb2tzL3VzZUNvbmZpcm1TaWduVXAuanMiLCJ3ZWJwYWNrOi8vLy4vY29yZS9ob29rcy91c2VDcmVhdGVCcmFuY2guanMiLCJ3ZWJwYWNrOi8vLy4vY29yZS9ob29rcy91c2VEZWxldGVCcmFuY2guanMiLCJ3ZWJwYWNrOi8vLy4vY29yZS9ob29rcy91c2VGZXRjaFBheW1lbnRSZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL2NvcmUvaG9va3MvdXNlTGlzdEJyYW5jaGVzLmpzIiwid2VicGFjazovLy8uL2NvcmUvaG9va3MvdXNlTG9naW4uanMiLCJ3ZWJwYWNrOi8vLy4vY29yZS9ob29rcy91c2VTaWduVXAuanMiLCJ3ZWJwYWNrOi8vLy4vY29yZS9ob29rcy91c2VVcGRhdGVQYXltZW50UmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vLi9jb3JlL3NlcnZpY2VzL2F1dGguc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9jb3JlL3NlcnZpY2VzL2JyYW5jaC5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2NvcmUvc2VydmljZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vY29yZS9zZXJ2aWNlcy9wYXltZW50UmVxdWVzdC5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2dyYXBocWwvbXV0YXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vZ3JhcGhxbC9xdWVyaWVzLmpzIiwid2VicGFjazovLy8uL2dyYXBocWwvc3Vic2NyaXB0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi91dGlscy9oZWxwZXIuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiQGFwb2xsby9jbGllbnRcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAc2hvcGlmeS9hcHAtYnJpZGdlXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiQHNob3BpZnkvYXBwLWJyaWRnZS9hY3Rpb25zXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiQHNob3BpZnkvcG9sYXJpc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBzaG9waWZ5L3BvbGFyaXMtaWNvbnNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhd3MtYW1wbGlmeVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImF3cy1zZGtcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJncmFwaHFsLXRhZ1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlYWN0XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVhY3QtaG9vay1mb3JtXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVhY3QtcXVlcnlcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzZW1hbnRpYy11aS1yZWFjdFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInV1aWRcIiJdLCJuYW1lcyI6WyJhd3Ntb2JpbGUiLCJBUEkiLCJjb25maWd1cmUiLCJjb25maWciLCJBY2NlcHRlZFBheW1lbnRSZXF1ZXN0IiwiYnJhbmNoSWQiLCJuZXh0UGFnaW5hdGVUb2tlbiIsInNldE5leHRQYWdpbmF0ZVRva2VuIiwidXNlU3RhdGUiLCJwYXltZW50UmVxdWVzdEl0ZW1zIiwic2V0UGF5bWVudFJlcXVlc3RJdGVtcyIsImRhdGEiLCJwYXltZW50UmVxdWVzdHMiLCJyZWZldGNoIiwiZ2V0UGF5bWVudFJlcXVlc3RzIiwidXNlRmV0Y2hQYXltZW50UmVxdWVzdCIsInVzZUVmZmVjdCIsImxpc3RQYXltZW50UmVxdWVzdHMiLCJuZXh0VG9rZW4iLCJpdGVtcyIsImxvYWRNb3JlIiwicmVzIiwiZ3JhcGhxbCIsImdyYXBocWxPcGVyYXRpb24iLCJsaXN0UGF5bWVudFJlcXVlc3QiLCJsaW1pdCIsInN0YXR1cyIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNvcnQiLCJhIiwiYiIsIkRhdGUiLCJ1cGRhdGVkQXQiLCJtYXAiLCJpdGVtIiwiaWQiLCJjdXN0b21lcklkIiwib3JkZXJJZCIsInRvQ3VycmVuY3kiLCJib251c0Ftb3VudCIsImZvcm1hdERhdGUiLCJjcmVhdGVkQXQiLCJBZG1pbkJyYW5jaEluZm8iLCJzZXRCcmFuY2hJZCIsImJyYW5jaEluZm8iLCJzZXRCcmFuY2hJbmZvIiwic2VhcmNoVmFsdWUiLCJzZXRTZWFyY2hWYWx1ZSIsImJyYW5jaERhdGEiLCJmZXRjaEJyYW5jaCIsInVzZUJyYW5jaEVudGl0eSIsImhhbmRsZVNlYXJjaElucHV0IiwidXNlQ2FsbGJhY2siLCJuZXdWYWx1ZSIsImdldEJyYW5jaCIsIlNlYXJjaE1ham9yTW9ub3RvbmUiLCJ0cmFuc2FjdGlvbnMiLCJmaWx0ZXIiLCJ0cmFuc2FjdGlvbiIsImN1c3RvbWVyIiwicGhvbmUiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwicmVkaXJlY3QiLCJkaXNwYXRjaCIsIlJlZGlyZWN0IiwiQWN0aW9uIiwiQURNSU5fUEFUSCIsInBhdGgiLCJuZXdDb250ZXh0IiwiTnVtYmVyIiwidG90YWxQcmljZSIsInRvdGFsQm9udXNBbW91bnQiLCJub3RlIiwiZXh0cmFjdE51bWJlcnNGcm9tU3RyaW5nIiwiQnJhbmNoQ29uc29sZSIsInVwZGF0ZVVzZXIiLCJhY3RpdmUiLCJzZXRBY3RpdmUiLCJicmFuY2hOYW1lIiwic2V0QnJhbmNoTmFtZSIsInVzZXJuYW1lIiwic2V0VXNlcm5hbWUiLCJlbWFpbCIsInNldEVtYWlsIiwicGFzc3dvcmQiLCJzZXRQYXNzd29yZCIsImNvZGUiLCJzZXRDb2RlIiwiZm9ybVR5cGUiLCJzZXRGb3JtVHlwZSIsInVzZXJTdWIiLCJzZXRVc2VyU3ViIiwiYnJhbmNoZXMiLCJzZXRCcmFuY2hlcyIsInNpZ25Vc2VyVXAiLCJ1c2VTaWduVXAiLCJjb25maXJtU2lnblVwIiwidXNlQ29uZmlybVNpZ25VcCIsImNyZWF0ZUJyYW5jaCIsImNyZWF0ZWRCcmFuY2giLCJ1c2VDcmVhdGVCcmFuY2giLCJicmFuY2hlc0RhdGEiLCJsaXN0QnJhbmNoZXMiLCJ1c2VMaXN0QnJhbmNoZXMiLCJvbkNoYW5nZUJyYW5jaE5hbWUiLCJvbkNoYW5nZVVzZXJuYW1lIiwib25DaGFuZ2VQYXNzd29yZCIsIm9uQ2hhbmdlRW1haWwiLCJvbkNoYW5nZUNvZGUiLCJoYW5kbGVDaGFuZ2UiLCJzaWduVXAiLCJlIiwicHJldmVudERlZmF1bHQiLCJhdHRyaWJ1dGVzIiwiY29uZmlybSIsIkF1dGgiLCJzaWduT3V0IiwiQnJhbmNoRGF0YSIsInVzZXIiLCJuZXdDcmVhdGVkVHJhbnNhY3Rpb24iLCJzZXROZXdDcmVhdGVkVHJhbnNhY3Rpb24iLCJzaG93UGF5bWVudFJlcXVlc3QiLCJzZXRTaG93UGF5bWVudFJlcXVlc3QiLCJ1c2VCcmFuY2hCeUFkbWluIiwic3ViIiwiYXBwIiwiY3JlYXRlQXBwIiwiYXBpS2V5Iiwic2hvcE9yaWdpbiIsImNyZWF0ZSIsImNyZWF0ZUxpc3RlbmVyIiwib25DcmVhdGVUcmFuc2FjdGlvbiIsInN1YnNjcmliZSIsIm5leHQiLCJjcmVhdGVkVHJhbnNhY3Rpb24iLCJkZWxldGVMaXN0ZW5lciIsIm9uRGVsZXRlVHJhbnNhY3Rpb24iLCJkZWxldGVkVHJhbnNhY3Rpb24iLCJ1bnN1YnNjcmliZSIsImJyYW5jaEJ5QWRtaW5JZCIsIkJhbGFuY2VNYWpvck1vbm90b25lIiwiUkVNT1RFIiwidXJsIiwiVHJhbnNhY3Rpb25NYWpvck1vbm90b25lIiwiTG9nT3V0TWlub3IiLCJBV1MiLCJ1cGRhdGUiLCJhY2Nlc3NLZXlJZCIsInNlY3JldEFjY2Vzc0tleSIsInJlZ2lvbiIsImNvZ25pdG8iLCJDb2duaXRvSWRlbnRpdHlTZXJ2aWNlUHJvdmlkZXIiLCJCcmFuY2hMaXN0IiwicHJvZHVjdEJyYW5jaElkIiwic2V0UHJvZHVjdEJyYW5jaElkIiwibmV3Q3JlYXRlZEJyYW5jaCIsInNldE5ld0NyZWF0ZWRCcmFuY2giLCJmZXRjaEJyYW5jaGVzIiwiZGVsZXRlQnJhbmNoIiwiaXNMb2FkaW5nIiwidXNlRGVsZXRlQnJhbmNoIiwib25DcmVhdGVCcmFuY2hTdWJzY3JpcHRpb24iLCJvbkRlbGV0ZUJyYW5jaFN1YnNjcmlwdGlvbiIsImRlbGV0ZWRCcmFuY2giLCJsaXN0QnJhbmNocyIsImJyYW5jaFVzZXJuYW1lIiwiUHJvZHVjdHNMaXN0IiwibG9hZGluZyIsInVzZVF1ZXJ5IiwibGlzdFByb2R1Y3RzIiwiYnJhbmNoUHJvZHVjdFN1YnNjcmlwdGlvbiIsInNldEJyYW5jaFByb2R1Y3RTdWJzY3JpcHRpb24iLCJyb3dJZCIsInNldFJvd0lkIiwic3RhdGUiLCJzZXRTdGF0ZSIsInByb2R1Y3RzIiwib25DcmVhdGVCcmFuY2hQcm9kdWN0IiwiY3JlYXRlZEJyYW5jaFByb2R1Y3QiLCJ1cGRhdGVMaXN0ZW5lciIsIm9uVXBkYXRlQnJhbmNoUHJvZHVjdCIsInVwZGF0ZWRCcmFuY2hQcm9kdWN0Iiwib25EZWxldGVCcmFuY2hQcm9kdWN0IiwiZGVsZXRlZEJyYW5jaFByb2R1Y3QiLCJicmFuY2hQcm9kdWN0cyIsInByb2R1Y3RJZCIsInByb2R1Y3QiLCJkZWxldGVQcm9kdWN0c0Zyb21CcmFuY2giLCJwcm9kdWN0c1RvRGVsZXRlRnJvbUJyYW5jaCIsImJyYW5jaFByb2R1Y3QiLCJQcm9taXNlIiwiYWxsIiwiZGVsZXRlUHJvZHVjdCIsImRlbGV0ZUJyYW5jaFByb2R1Y3QiLCJpbnB1dCIsImNhdGNoIiwiZXJyIiwiYWRkUHJvZHVjdHNUb0JyYW5jaCIsInVwZGF0ZWRQcm9kdWN0IiwidXBkYXRlQnJhbmNoUHJvZHVjdCIsInRhZ3MiLCJjcmVhdGVCcmFuY2hQcm9kdWN0IiwidXVpZHY0IiwiY29udGVudCIsIm9uQWN0aW9uIiwiZWRnZXMiLCJCcmFuY2hSb3ciLCJmZXRjaGVkUHJvZHVjdCIsInNldEZldGNoZWRQcm9kdWN0IiwiZGVzY3JpcHRpb24iLCJub2RlIiwiaW1hZ2UiLCJpbWFnZXMiLCJvcmlnaW5hbFNyYyIsInRpdGxlIiwidmFyaWFudHMiLCJwcmljZSIsImJvbnVzIiwic2V0Qm9udXMiLCJoYW5kbGVCb251cyIsInZhbHVlIiwiY29tcGFyZVByb2R1Y3QiLCJjb21wYXJlZFByb2R1Y3QiLCJ1bmRlZmluZWQiLCJmaWx0ZXJlZFByb2R1Y3QiLCJEZWNsaW5lZFBheW1lbnRSZXF1ZXN0IiwiTG9naW4iLCJzZXRVc2VyIiwiYWN0aXZlVXNlcm5hbWUiLCJzZXRBY3RpdmVVc2VybmFtZSIsImFjdGl2ZVBhc3N3b3JkIiwic2V0QWN0aXZlUGFzc3dvcmQiLCJzaG93UGFzc3dvcmQiLCJzZXRTaG93UGFzc3dvcmQiLCJwYXNzd29yZFJlZiIsInVzZVJlZiIsInVzZXJuYW1lUmVmIiwiaGFuZGxlU3VibWl0IiwiZXJyb3JzIiwicmVnaXN0ZXIiLCJ1c2VGb3JtIiwibG9naW4iLCJ1c2VMb2dpbiIsInJlcXVpcmVkIiwidGFyZ2V0IiwibWVzc2FnZSIsImNvbG9yIiwiQWNjZXB0UGF5bWVudCIsImFjdGl2ZVRvYXN0Iiwic2V0QWN0aXZlVG9hc3QiLCJzZWxlY3RlZCIsInNldFNlbGVjdGVkIiwiY3JlYXRlVXBkYXRlUGF5bWVudFN1YnNjcmlwdGlvbiIsInNldENyZWF0ZVVwZGF0ZVBheW1lbnRTdWJzY3JpcHRpb24iLCJoYW5kbGVUYWJDaGFuZ2UiLCJzZWxlY3RlZFRhYkluZGV4IiwibGlzdGVuZXIiLCJwYXltZW50U3Vic2NyaXB0aW9uIiwicGF5bWVudFJlc3BvbnNlIiwib25VcGRhdGVQYXltZW50Iiwib25VcGRhdGVQYXltZW50U3Vic2NyaXB0aW9uIiwib25VcGRhdGVQYXltZW50UmVzcG9uc2UiLCJ0YWJzIiwiYWNjZXNzaWJpbGl0eUxhYmVsIiwicGFuZWxJRCIsInRvYXN0TWFya3VwIiwicmVuZGVyUGF5bWVudFJlcXVlc3QiLCJQZW5kaW5nUGF5bWVudFJlcXVlc3QiLCJwYXltZW50UmVxdWVzdElkIiwic2V0UGF5bWVudFJlcXVlc3RJZCIsInVwZGF0ZVBheW1lbnRSZXF1ZXN0IiwidXNlVXBkYXRlUGF5bWVudFJlcXVlc3QiLCJkZWNsaW5lUGF5bWVudCIsInBheW1lbnRJZCIsImFjY2VwdFBheW1lbnQiLCJvcmlnaW5hbFVuaXRQcmljZSIsInF1YW50aXR5IiwidmFyaWFudElkIiwiYWRtaW5JZCIsImJyYW5jaEJ5QWRtaW4iLCJCcmFuY2hTZXJ2aWNlIiwiZ2V0QnJhbmNoQnlBZG1pbiIsImVuYWJsZWQiLCJ1c2VNdXRhdGlvbiIsIkF1dGhTZXJ2aWNlIiwiY3JlYXRlQnJhbmNoRW50aXR5IiwiUGF5bWVudFNlcnZpY2UiLCJmZXRjaFBheW1lbnRSZXF1ZXN0IiwibGlzdEJyYW5jaEVudGl0aWVzIiwidXBkYXRlUGF5bWVudCIsIkFtcGxpZnkiLCJzaWduSW4iLCJrZXkiLCJnZXRCcmFuY2hCeUlkIiwiYnJhbmNoVG9EZWxldGUiLCJ0cmFuc2FjdGlvbnNUb0RlbGV0ZSIsInByb2R1Y3RzVG9EZWxldGUiLCJwYXltZW50UmVxdWVzdFRvRGVsZXRlIiwiYnJhbmNoUGF5bWVudFJlcXVlc3RzIiwicGF5bWVudFJlcXVlc3QiLCJyZW1vdmVCcmFuY2giLCJ0cmFuc2FjdGlvbklkIiwiZGVsZXRlVHJhbnNhY3Rpb24iLCJkZWxldGVQYXltZW50UmVxdWVzdCIsImFkbWluRGVsZXRlVXNlciIsIlVzZXJQb29sSWQiLCJVc2VybmFtZSIsInByb21pc2UiLCJjcmVhdGVEcmFmdE9yZGVyIiwiZ3FsIiwiY29tcGxldGVPcmRlciIsInByb2R1Y3RVcGRhdGUiLCJsaXN0VHJhbnNhY3Rpb25zIiwiSW5kZXgiLCJjaGVja1VzZXIiLCJjdXJyZW50QXV0aGVudGljYXRlZFVzZXIiLCJyZWYiLCJSZWFjdCIsImNyZWF0ZVJlZiIsImZldGNoZWRVc2VyIiwiSW50bCIsIk51bWJlckZvcm1hdCIsImN1cnJlbmN5Iiwic3R5bGUiLCJmb3JtYXQiLCJyb3dEYXRlIiwiZGF0ZSIsInllYXIiLCJEYXRlVGltZUZvcm1hdCIsIm1vbnRoIiwiZGF5Iiwic3RyaW5nIiwibWF0Y2giXSwibWFwcGluZ3MiOiI7O1FBQUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxJQUFJO1FBQ0o7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFD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TTtBQVNBLE1BQU05UCx3QkFBd0IsR0FBSWtRLE1BQUQsSUFBWTtBQUNoRCxTQUFPdFEsTUFBTSxDQUFDc1EsTUFBTSxDQUFDQyxLQUFQLENBQWEsTUFBYixDQUFELENBQWI7QUFDSCxDQUZNLEM7Ozs7Ozs7Ozs7O0FDaEJQLDJDOzs7Ozs7Ozs7OztBQ0FBLGdEOzs7Ozs7Ozs7OztBQ0FBLHdEOzs7Ozs7Ozs7OztBQ0FBLDZDOzs7Ozs7Ozs7OztBQ0FBLG1EOzs7Ozs7Ozs7OztBQ0FBLHdDOzs7Ozs7Ozs7OztBQ0FBLG9DOzs7Ozs7Ozs7OztBQ0FBLHdDOzs7Ozs7Ozs7OztBQ0FBLGtDOzs7Ozs7Ozs7OztBQ0FBLDRDOzs7Ozs7Ozs7OztBQ0FBLHdDOzs7Ozs7Ozs7OztBQ0FBLDhDOzs7Ozs7Ozs7OztBQ0FBLGlDIiwiZmlsZSI6InBhZ2VzL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSByZXF1aXJlKCcuLi9zc3ItbW9kdWxlLWNhY2hlLmpzJyk7XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdHZhciB0aHJldyA9IHRydWU7XG4gXHRcdHRyeSB7XG4gXHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4gXHRcdFx0dGhyZXcgPSBmYWxzZTtcbiBcdFx0fSBmaW5hbGx5IHtcbiBcdFx0XHRpZih0aHJldykgZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHR9XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9wYWdlcy9pbmRleC5qc1wiKTtcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG4vLyBXQVJOSU5HOiBETyBOT1QgRURJVC4gVGhpcyBmaWxlIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IEFXUyBBbXBsaWZ5LiBJdCB3aWxsIGJlIG92ZXJ3cml0dGVuLlxuXG5jb25zdCBhd3Ntb2JpbGUgPSB7XG4gICAgXCJhd3NfcHJvamVjdF9yZWdpb25cIjogXCJ1cy1lYXN0LTFcIixcbiAgICBcImF3c19hcHBzeW5jX2dyYXBocWxFbmRwb2ludFwiOiBcImh0dHBzOi8vdWo0ZHc2YnA3emU0enBpaWZpNzVydHV0N2kuYXBwc3luYy1hcGkudXMtZWFzdC0xLmFtYXpvbmF3cy5jb20vZ3JhcGhxbFwiLFxuICAgIFwiYXdzX2FwcHN5bmNfcmVnaW9uXCI6IFwidXMtZWFzdC0xXCIsXG4gICAgXCJhd3NfYXBwc3luY19hdXRoZW50aWNhdGlvblR5cGVcIjogXCJBUElfS0VZXCIsXG4gICAgXCJhd3NfYXBwc3luY19hcGlLZXlcIjogXCJkYTItc203cmh1dGxicmRkbmxocW03dGl1ZXJ0eGVcIixcbiAgICBcImF3c19jbG91ZF9sb2dpY19jdXN0b21cIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJjcmVhdGVUcmFuc2FjdGlvblwiLFxuICAgICAgICAgICAgXCJlbmRwb2ludFwiOiBcImh0dHBzOi8vd3hxNWJzNThtai5leGVjdXRlLWFwaS51cy1lYXN0LTEuYW1hem9uYXdzLmNvbS9kZXZcIixcbiAgICAgICAgICAgIFwicmVnaW9uXCI6IFwidXMtZWFzdC0xXCJcbiAgICAgICAgfVxuICAgIF0sXG4gICAgXCJhd3NfY29nbml0b19pZGVudGl0eV9wb29sX2lkXCI6IFwidXMtZWFzdC0xOmFmYzJiNzE4LTVjMDktNGU3NS05MWM3LTRmOWQ1NDU0MzI2NFwiLFxuICAgIFwiYXdzX2NvZ25pdG9fcmVnaW9uXCI6IFwidXMtZWFzdC0xXCIsXG4gICAgXCJhd3NfdXNlcl9wb29sc19pZFwiOiBcInVzLWVhc3QtMV9lZ0k0QmkxYnhcIixcbiAgICBcImF3c191c2VyX3Bvb2xzX3dlYl9jbGllbnRfaWRcIjogXCIzb2g4YmpvNzNsOW4wZG1ia2FlMjE3bHJrNVwiLFxuICAgIFwib2F1dGhcIjoge31cbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgYXdzbW9iaWxlO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IEFQSSwgZ3JhcGhxbE9wZXJhdGlvbiB9IGZyb20gXCJhd3MtYW1wbGlmeVwiXG5pbXBvcnQgeyBUYWJsZSB9IGZyb20gXCJzZW1hbnRpYy11aS1yZWFjdFwiXG5pbXBvcnQgeyBCYWRnZSwgQnV0dG9uIH0gZnJvbSBcIkBzaG9waWZ5L3BvbGFyaXNcIlxuaW1wb3J0IHsgdXNlRmV0Y2hQYXltZW50UmVxdWVzdCB9IGZyb20gXCIuLi9jb3JlL2hvb2tzXCJcbmltcG9ydCB7IHRvQ3VycmVuY3ksIGZvcm1hdERhdGUgfSBmcm9tIFwiLi4vdXRpbHMvaGVscGVyXCJcbmltcG9ydCBjb25maWcgZnJvbSBcIi4uL2F3cy1leHBvcnRzXCJcbmltcG9ydCB7IGxpc3RQYXltZW50UmVxdWVzdCB9IGZyb20gXCIuLi9ncmFwaHFsL3F1ZXJpZXNcIlxuXG5BUEkuY29uZmlndXJlKGNvbmZpZylcblxuY29uc3QgQWNjZXB0ZWRQYXltZW50UmVxdWVzdCA9ICh7IGJyYW5jaElkIH0pID0+IHtcbiAgY29uc3QgW25leHRQYWdpbmF0ZVRva2VuLCBzZXROZXh0UGFnaW5hdGVUb2tlbl0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCBbcGF5bWVudFJlcXVlc3RJdGVtcywgc2V0UGF5bWVudFJlcXVlc3RJdGVtc10gPSB1c2VTdGF0ZShbXSlcbiAgY29uc3QgeyBkYXRhOiBwYXltZW50UmVxdWVzdHMsIHJlZmV0Y2g6IGdldFBheW1lbnRSZXF1ZXN0cyB9ID0gdXNlRmV0Y2hQYXltZW50UmVxdWVzdChcbiAgICBicmFuY2hJZCxcbiAgICBcIkFQUFJPVkVEXCIsXG4gICAgMjBcbiAgKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZ2V0UGF5bWVudFJlcXVlc3RzKClcbiAgfSwgW2JyYW5jaElkXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldE5leHRQYWdpbmF0ZVRva2VuKHBheW1lbnRSZXF1ZXN0cyAmJiBwYXltZW50UmVxdWVzdHMuZGF0YS5saXN0UGF5bWVudFJlcXVlc3RzLm5leHRUb2tlbilcbiAgICBzZXRQYXltZW50UmVxdWVzdEl0ZW1zKHBheW1lbnRSZXF1ZXN0cyAmJiBwYXltZW50UmVxdWVzdHMuZGF0YS5saXN0UGF5bWVudFJlcXVlc3RzLml0ZW1zKVxuICB9LCBbcGF5bWVudFJlcXVlc3RzXSlcblxuICBjb25zdCBsb2FkTW9yZSA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgQVBJLmdyYXBocWwoXG4gICAgICAgIGdyYXBocWxPcGVyYXRpb24obGlzdFBheW1lbnRSZXF1ZXN0LCB7XG4gICAgICAgICAgbGltaXQ6IDIwLFxuICAgICAgICAgIG5leHRUb2tlbjogbmV4dFBhZ2luYXRlVG9rZW4sXG4gICAgICAgICAgYnJhbmNoSWQsXG4gICAgICAgICAgc3RhdHVzOiBcIkFQUFJPVkVEXCIsXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICBzZXROZXh0UGFnaW5hdGVUb2tlbihyZXMuZGF0YS5saXN0UGF5bWVudFJlcXVlc3RzLm5leHRUb2tlbilcbiAgICAgIHNldFBheW1lbnRSZXF1ZXN0SXRlbXMoWy4uLnBheW1lbnRSZXF1ZXN0SXRlbXMsIC4uLnJlcy5kYXRhLmxpc3RQYXltZW50UmVxdWVzdHMuaXRlbXNdKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8VGFibGUgY2VsbGVkPlxuICAgICAgICA8VGFibGUuSGVhZGVyPlxuICAgICAgICAgIDxUYWJsZS5Sb3c+XG4gICAgICAgICAgICA8VGFibGUuSGVhZGVyQ2VsbD5DdXN0b21lciBJZDwvVGFibGUuSGVhZGVyQ2VsbD5cbiAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPk9yZGVyIElkPC9UYWJsZS5IZWFkZXJDZWxsPlxuICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+Qm9udXMgQW1vdW50PC9UYWJsZS5IZWFkZXJDZWxsPlxuICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+Q3JlYXRlZCBBdDwvVGFibGUuSGVhZGVyQ2VsbD5cbiAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPlVwZGF0ZWQgQXQ8L1RhYmxlLkhlYWRlckNlbGw+XG4gICAgICAgICAgICA8VGFibGUuSGVhZGVyQ2VsbD5TdGF0dXM8L1RhYmxlLkhlYWRlckNlbGw+XG4gICAgICAgICAgPC9UYWJsZS5Sb3c+XG4gICAgICAgIDwvVGFibGUuSGVhZGVyPlxuICAgICAgICA8VGFibGUuQm9keT5cbiAgICAgICAgICB7cGF5bWVudFJlcXVlc3RJdGVtcyAmJlxuICAgICAgICAgICAgcGF5bWVudFJlcXVlc3RJdGVtc1xuICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi51cGRhdGVkQXQpIC0gbmV3IERhdGUoYS51cGRhdGVkQXQpKVxuICAgICAgICAgICAgICAubWFwKChpdGVtKSA9PiAoXG4gICAgICAgICAgICAgICAgPFRhYmxlLlJvdyBrZXk9e2l0ZW0uaWR9PlxuICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+XG4gICAgICAgICAgICAgICAgICAgIDxCYWRnZSBzaXplPVwic21hbGxcIj57aXRlbS5jdXN0b21lcklkfTwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICA8L1RhYmxlLkNlbGw+XG4gICAgICAgICAgICAgICAgICA8VGFibGUuQ2VsbD5cbiAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHNpemU9XCJzbWFsbFwiPntpdGVtLm9yZGVySWR9PC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgIDwvVGFibGUuQ2VsbD5cbiAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsPnt0b0N1cnJlbmN5KGl0ZW0uYm9udXNBbW91bnQpfTwvVGFibGUuQ2VsbD5cbiAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsPntmb3JtYXREYXRlKGl0ZW0uY3JlYXRlZEF0KX08L1RhYmxlLkNlbGw+XG4gICAgICAgICAgICAgICAgICA8VGFibGUuQ2VsbD57Zm9ybWF0RGF0ZShpdGVtLnVwZGF0ZWRBdCl9PC9UYWJsZS5DZWxsPlxuICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+XG4gICAgICAgICAgICAgICAgICAgIDxCYWRnZSBzaXplPVwic21hbGxcIiBwcm9ncmVzcz1cImNvbXBsZXRlXCIgc3RhdHVzPVwic3VjY2Vzc1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLnN0YXR1c31cbiAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgIDwvVGFibGUuQ2VsbD5cbiAgICAgICAgICAgICAgICA8L1RhYmxlLlJvdz5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgIDwvVGFibGUuQm9keT5cbiAgICAgIDwvVGFibGU+XG4gICAgICA8QnV0dG9uIGRpc2FibGVkPXshbmV4dFBhZ2luYXRlVG9rZW59IHByaW1hcnkgb25DbGljaz17bG9hZE1vcmV9PlxuICAgICAgICBMb2FkIG1vcmVcbiAgICAgIDwvQnV0dG9uPlxuICAgIDwvPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEFjY2VwdGVkUGF5bWVudFJlcXVlc3RcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiXHJcbmltcG9ydCB7IEFQSSwgZ3JhcGhxbE9wZXJhdGlvbiB9IGZyb20gXCJhd3MtYW1wbGlmeVwiXHJcbmltcG9ydCB7IEJ1dHRvbiwgSWNvbiwgQ2FyZCwgRGF0YVRhYmxlLCBUZXh0RmllbGQgfSBmcm9tIFwiQHNob3BpZnkvcG9sYXJpc1wiXHJcbmltcG9ydCB7IFNlYXJjaE1ham9yTW9ub3RvbmUgfSBmcm9tIFwiQHNob3BpZnkvcG9sYXJpcy1pY29uc1wiXHJcbmltcG9ydCB7IHVzZUJyYW5jaEVudGl0eSB9IGZyb20gXCIuLi9jb3JlL2hvb2tzXCJcclxuaW1wb3J0IHsgdG9DdXJyZW5jeSwgZm9ybWF0RGF0ZSwgZXh0cmFjdE51bWJlcnNGcm9tU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWxzL2hlbHBlclwiXHJcbmltcG9ydCBjb25maWcgZnJvbSBcIi4uL2F3cy1leHBvcnRzXCJcclxuaW1wb3J0IHsgZ2V0QnJhbmNoQnlJZCB9IGZyb20gXCIuLi9ncmFwaHFsL3F1ZXJpZXNcIlxyXG5cclxuQVBJLmNvbmZpZ3VyZShjb25maWcpXHJcblxyXG5jb25zdCBBZG1pbkJyYW5jaEluZm8gPSAoeyBicmFuY2hJZCwgc2V0QnJhbmNoSWQgfSkgPT4ge1xyXG4gIGNvbnN0IFticmFuY2hJbmZvLCBzZXRCcmFuY2hJbmZvXSA9IHVzZVN0YXRlKFwiXCIpXHJcbiAgY29uc3QgW3NlYXJjaFZhbHVlLCBzZXRTZWFyY2hWYWx1ZV0gPSB1c2VTdGF0ZShudWxsKVxyXG5cclxuICBjb25zdCB7IGRhdGE6IGJyYW5jaERhdGEsIHJlZmV0Y2g6IGZldGNoQnJhbmNoIH0gPSB1c2VCcmFuY2hFbnRpdHkoYnJhbmNoSWQpXHJcblxyXG4gIGNvbnN0IGhhbmRsZVNlYXJjaElucHV0ID0gdXNlQ2FsbGJhY2soKG5ld1ZhbHVlKSA9PiBzZXRTZWFyY2hWYWx1ZShuZXdWYWx1ZSksIFtdKVxyXG5cclxuICBjb25zdCBnZXRCcmFuY2ggPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBmZXRjaEJyYW5jaCgpXHJcbiAgfSwgW2JyYW5jaERhdGFdKVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZ2V0QnJhbmNoKClcclxuICB9LCBbZ2V0QnJhbmNoXSlcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHNldEJyYW5jaEluZm8oYnJhbmNoRGF0YSAmJiBicmFuY2hEYXRhLmRhdGEuZ2V0QnJhbmNoKVxyXG4gIH0sIFticmFuY2hEYXRhXSlcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDw+XHJcbiAgICAgIHticmFuY2hJbmZvICYmIChcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRCcmFuY2hJZChudWxsKX0gcHJpbWFyeT5cclxuICAgICAgICAgICAgR28gYmFja1xyXG4gICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgIGxhYmVsPVwiU2VhcmNoIFByb2R1Y3RcIlxyXG4gICAgICAgICAgICB2YWx1ZT17c2VhcmNoVmFsdWV9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVTZWFyY2hJbnB1dH1cclxuICAgICAgICAgICAgcHJlZml4PXs8SWNvbiBzb3VyY2U9e1NlYXJjaE1ham9yTW9ub3RvbmV9IC8+fVxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBieSBDdXN0b21lciBwaG9uZSBudW1iZXJcIlxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDxDYXJkPlxyXG4gICAgICAgICAgICA8RGF0YVRhYmxlXHJcbiAgICAgICAgICAgICAgY29sdW1uQ29udGVudFR5cGVzPXtbXCJ0ZXh0XCIsIFwidGV4dFwiLCBcInRleHRcIiwgXCJ0ZXh0XCJdfVxyXG4gICAgICAgICAgICAgIGhlYWRpbmdzPXtbXHJcbiAgICAgICAgICAgICAgICBcIkN1c3RvbWVyIHBob25lIG51bWJlclwiLFxyXG4gICAgICAgICAgICAgICAgXCJUb3RhbFByaWNlXCIsXHJcbiAgICAgICAgICAgICAgICBcIlRvdGFsQm9udXNBbW91bnRcIixcclxuICAgICAgICAgICAgICAgIFwiTWludXMgZnJvbSBCb251cyBBbW91bnRcIixcclxuICAgICAgICAgICAgICAgIFwiQ3JlYXRlZEF0XCIsXHJcbiAgICAgICAgICAgICAgXX1cclxuICAgICAgICAgICAgICByb3dzPXtcclxuICAgICAgICAgICAgICAgIGJyYW5jaEluZm8gJiZcclxuICAgICAgICAgICAgICAgIGJyYW5jaEluZm8udHJhbnNhY3Rpb25zLml0ZW1zXHJcbiAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHRyYW5zYWN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaFZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5jdXN0b21lclswXS5waG9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoc2VhcmNoVmFsdWUudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIuY3JlYXRlZEF0KSAtIG5ldyBEYXRlKGEuY3JlYXRlZEF0KSlcclxuICAgICAgICAgICAgICAgICAgLm1hcCgodHJhbnNhY3Rpb24pID0+IFtcclxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdC5kaXNwYXRjaChSZWRpcmVjdC5BY3Rpb24uQURNSU5fUEFUSCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGAvY3VzdG9tZXJzLyR7dHJhbnNhY3Rpb24uY3VzdG9tZXJbMF0uaWR9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZXh0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgfT5cclxuICAgICAgICAgICAgICAgICAgICAgIHt0cmFuc2FjdGlvbi5jdXN0b21lclswXS5waG9uZX1cclxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9DdXJyZW5jeShOdW1iZXIodHJhbnNhY3Rpb24udG90YWxQcmljZSkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvQ3VycmVuY3koTnVtYmVyKHRyYW5zYWN0aW9uLnRvdGFsQm9udXNBbW91bnQpKSxcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5ub3RlID09PSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICA/IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICAgIDogdG9DdXJyZW5jeShleHRyYWN0TnVtYmVyc0Zyb21TdHJpbmcodHJhbnNhY3Rpb24ubm90ZSkpLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdERhdGUodHJhbnNhY3Rpb24uY3JlYXRlZEF0KSxcclxuICAgICAgICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICAgPC8+XHJcbiAgICAgICl9XHJcbiAgICA8Lz5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFkbWluQnJhbmNoSW5mb1xyXG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiXHJcbmltcG9ydCB7IEF1dGgsIEFQSSwgZ3JhcGhxbE9wZXJhdGlvbiB9IGZyb20gXCJhd3MtYW1wbGlmeVwiXHJcbmltcG9ydCBncWwgZnJvbSBcImdyYXBocWwtdGFnXCJcclxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIlxyXG5pbXBvcnQgeyBQYWdlLCBCdXR0b24sIE1vZGFsLCBGb3JtLCBGb3JtTGF5b3V0LCBUZXh0RmllbGQsIEJhZGdlLCBTdGFjayB9IGZyb20gXCJAc2hvcGlmeS9wb2xhcmlzXCJcclxuaW1wb3J0IHsgVGFibGUsIFBvcHVwLCBIZWFkZXIsIEljb24gfSBmcm9tIFwic2VtYW50aWMtdWktcmVhY3RcIlxyXG5pbXBvcnQgeyB1c2VDb25maXJtU2lnblVwLCB1c2VTaWduVXAsIHVzZUNyZWF0ZUJyYW5jaCwgdXNlTGlzdEJyYW5jaGVzIH0gZnJvbSBcIi4uL2NvcmUvaG9va3NcIlxyXG5pbXBvcnQgUHJvZHVjdExpc3QgZnJvbSBcIi4vUHJvZHVjdHNMaXN0XCJcclxuaW1wb3J0IHsgZm9ybWF0RGF0ZSB9IGZyb20gXCIuLi91dGlscy9oZWxwZXJcIlxyXG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi9hd3MtZXhwb3J0c1wiXHJcbmltcG9ydCBCcmFuY2hQcm9kdWN0cyBmcm9tIFwiLi9CcmFuY2hQcm9kdWN0c1wiXHJcbmltcG9ydCBCcmFuY2hMaXN0IGZyb20gXCIuL0JyYW5jaExpc3RcIlxyXG5pbXBvcnQgQWRtaW5CcmFuY2hJbmZvIGZyb20gXCIuL0FkbWluQnJhbmNoSW5mb1wiXHJcbmltcG9ydCB7IGNyZWF0ZUJyYW5jaCB9IGZyb20gXCIuLi9ncmFwaHFsL211dGF0aW9uXCJcclxuaW1wb3J0IHsgbGlzdEJyYW5jaHMgfSBmcm9tIFwiLi4vZ3JhcGhxbC9xdWVyaWVzXCJcclxuXHJcbkFQSS5jb25maWd1cmUoY29uZmlnKVxyXG5cclxuY29uc3QgQnJhbmNoQ29uc29sZSA9ICh7IHVwZGF0ZVVzZXIgfSkgPT4ge1xyXG4gIGNvbnN0IFthY3RpdmUsIHNldEFjdGl2ZV0gPSB1c2VTdGF0ZShmYWxzZSlcclxuICBjb25zdCBbYnJhbmNoTmFtZSwgc2V0QnJhbmNoTmFtZV0gPSB1c2VTdGF0ZShcIlwiKVxyXG4gIGNvbnN0IFt1c2VybmFtZSwgc2V0VXNlcm5hbWVdID0gdXNlU3RhdGUoXCJcIilcclxuICBjb25zdCBbZW1haWwsIHNldEVtYWlsXSA9IHVzZVN0YXRlKFwiXCIpXHJcbiAgY29uc3QgW3Bhc3N3b3JkLCBzZXRQYXNzd29yZF0gPSB1c2VTdGF0ZShcIlwiKVxyXG4gIGNvbnN0IFtjb2RlLCBzZXRDb2RlXSA9IHVzZVN0YXRlKFwiXCIpXHJcbiAgY29uc3QgW2Zvcm1UeXBlLCBzZXRGb3JtVHlwZV0gPSB1c2VTdGF0ZShcInNpZ25VcFwiKVxyXG4gIGNvbnN0IFt1c2VyU3ViLCBzZXRVc2VyU3ViXSA9IHVzZVN0YXRlKG51bGwpXHJcbiAgY29uc3QgW2JyYW5jaGVzLCBzZXRCcmFuY2hlc10gPSB1c2VTdGF0ZShcIlwiKVxyXG4gIGNvbnN0IFticmFuY2hJZCwgc2V0QnJhbmNoSWRdID0gdXNlU3RhdGUobnVsbClcclxuXHJcbiAgY29uc3QgeyBzaWduVXNlclVwLCBkYXRhIH0gPSB1c2VTaWduVXAoKVxyXG4gIGNvbnN0IHsgY29uZmlybVNpZ25VcCB9ID0gdXNlQ29uZmlybVNpZ25VcCgpXHJcbiAgY29uc3QgeyBjcmVhdGVCcmFuY2gsIGRhdGE6IGNyZWF0ZWRCcmFuY2ggfSA9IHVzZUNyZWF0ZUJyYW5jaCgpXHJcbiAgY29uc3QgeyBkYXRhOiBicmFuY2hlc0RhdGEsIHJlZmV0Y2g6IGxpc3RCcmFuY2hlcyB9ID0gdXNlTGlzdEJyYW5jaGVzKClcclxuXHJcbiAgY29uc3Qgb25DaGFuZ2VCcmFuY2hOYW1lID0gdXNlQ2FsbGJhY2soKG5ld1ZhbHVlKSA9PiB7XHJcbiAgICBzZXRCcmFuY2hOYW1lKG5ld1ZhbHVlKVxyXG4gIH0sIFtdKVxyXG5cclxuICBjb25zdCBvbkNoYW5nZVVzZXJuYW1lID0gdXNlQ2FsbGJhY2soKG5ld1ZhbHVlKSA9PiB7XHJcbiAgICBzZXRVc2VybmFtZShuZXdWYWx1ZSlcclxuICB9LCBbXSlcclxuXHJcbiAgY29uc3Qgb25DaGFuZ2VQYXNzd29yZCA9IHVzZUNhbGxiYWNrKChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgc2V0UGFzc3dvcmQobmV3VmFsdWUpXHJcbiAgfSwgW10pXHJcblxyXG4gIGNvbnN0IG9uQ2hhbmdlRW1haWwgPSB1c2VDYWxsYmFjaygobmV3VmFsdWUpID0+IHtcclxuICAgIHNldEVtYWlsKG5ld1ZhbHVlKVxyXG4gIH0sIFtdKVxyXG5cclxuICBjb25zdCBvbkNoYW5nZUNvZGUgPSB1c2VDYWxsYmFjaygobmV3VmFsdWUpID0+IHtcclxuICAgIHNldENvZGUobmV3VmFsdWUpXHJcbiAgfSwgW10pXHJcblxyXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9ICgpID0+IHtcclxuICAgIHNldEFjdGl2ZSghYWN0aXZlKVxyXG4gIH1cclxuXHJcbiAgY29uc3Qgc2lnblVwID0gKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgdHJ5IHtcclxuICAgICAgc2lnblVzZXJVcCh7IHVzZXJuYW1lLCBwYXNzd29yZCwgYXR0cmlidXRlczogeyBlbWFpbCB9IH0pXHJcbiAgICAgIHNldEZvcm1UeXBlKFwiY29uZmlybVwiKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2V0VXNlclN1YihkYXRhICYmIGRhdGEudXNlclN1YilcclxuICB9LCBbZGF0YV0pXHJcblxyXG4gIGNvbnN0IGNvbmZpcm0gPSBhc3luYyAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25maXJtU2lnblVwKHsgdXNlcm5hbWUsIGNvZGUgfSlcclxuICAgICAgY3JlYXRlQnJhbmNoKHsgdXNlclN1YiwgdXNlcm5hbWUsIGJyYW5jaE5hbWUgfSlcclxuICAgICAgc2V0Rm9ybVR5cGUoXCJzaWduVXBcIilcclxuICAgICAgaGFuZGxlQ2hhbmdlKClcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxpc3RCcmFuY2hlcygpXHJcbiAgfSwgW10pXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzZXRCcmFuY2hlcyhicmFuY2hlc0RhdGEgJiYgYnJhbmNoZXNEYXRhLmRhdGEpXHJcbiAgfSwgW2JyYW5jaGVzRGF0YV0pXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICB7YnJhbmNoSWQgJiYgPEFkbWluQnJhbmNoSW5mbyBzZXRCcmFuY2hJZD17c2V0QnJhbmNoSWR9IGJyYW5jaElkPXticmFuY2hJZH0gLz59XHJcbiAgICAgIHshYnJhbmNoSWQgJiYgKFxyXG4gICAgICAgIDw+XHJcbiAgICAgICAgICA8U3RhY2s+XHJcbiAgICAgICAgICAgIDxTdGFjay5JdGVtIGZpbGw+XHJcbiAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDaGFuZ2V9IHByaW1hcnk+XHJcbiAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwiY29kZSBicmFuY2hcIiAvPiBDcmVhdGUgYnJhbmNoXHJcbiAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgIDwvU3RhY2suSXRlbT5cclxuICAgICAgICAgICAgPFN0YWNrLkl0ZW0+XHJcbiAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgcHJpbWFyeVxyXG4gICAgICAgICAgICAgICAgaWQ9XCJMb2dvdXRcIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBBdXRoLnNpZ25PdXQoKVxyXG4gICAgICAgICAgICAgICAgICB1cGRhdGVVc2VyKG51bGwpXHJcbiAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJzaWduIG91dFwiIC8+IExvZ291dFxyXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICA8L1N0YWNrLkl0ZW0+XHJcbiAgICAgICAgICA8L1N0YWNrPlxyXG4gICAgICAgICAgPEJyYW5jaExpc3Qgc2V0QnJhbmNoSWQ9e3NldEJyYW5jaElkfSAvPlxyXG4gICAgICAgICAgPE1vZGFsIG9wZW49e2FjdGl2ZX0gb25DbG9zZT17aGFuZGxlQ2hhbmdlfSB0aXRsZT1cIkZpbGwgaW4gQnJhbmNoIGluZm9cIj5cclxuICAgICAgICAgICAgPE1vZGFsLlNlY3Rpb24+XHJcbiAgICAgICAgICAgICAge2Zvcm1UeXBlID09PSBcInNpZ25VcFwiICYmIChcclxuICAgICAgICAgICAgICAgIDxGb3JtIG9uU3VibWl0PXtzaWduVXB9PlxyXG4gICAgICAgICAgICAgICAgICA8Rm9ybUxheW91dD5cclxuICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17YnJhbmNoTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZUJyYW5jaE5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIkJyYW5jaCBOYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt1c2VybmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZVVzZXJuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJCcmFuY2ggYWRtaW4gdXNlcm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCB2YWx1ZT17ZW1haWx9IG9uQ2hhbmdlPXtvbkNoYW5nZUVtYWlsfSBsYWJlbD1cIkJyYW5jaCBhZG1pbiBlbWFpbFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwYXNzd29yZH1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZVBhc3N3b3JkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJCcmFuY2ggYWRtaW4gcGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBwcmltYXJ5IHN1Ym1pdD5cclxuICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBCcmFuY2hcclxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPC9Gb3JtTGF5b3V0PlxyXG4gICAgICAgICAgICAgICAgPC9Gb3JtPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAge2Zvcm1UeXBlID09PSBcImNvbmZpcm1cIiAmJiAoXHJcbiAgICAgICAgICAgICAgICA8Rm9ybSBvblN1Ym1pdD17Y29uZmlybX0+XHJcbiAgICAgICAgICAgICAgICAgIDxGb3JtTGF5b3V0PlxyXG4gICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt1c2VybmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZVVzZXJuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJCcmFuY2ggYWRtaW4gdXNlcm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCB2YWx1ZT17Y29kZX0gb25DaGFuZ2U9e29uQ2hhbmdlQ29kZX0gbGFiZWw9XCJDb25maXJtYXRpb24gY29kZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBwcmltYXJ5IHN1Ym1pdD5cclxuICAgICAgICAgICAgICAgICAgICAgIENvbmZpcm1cclxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPC9Gb3JtTGF5b3V0PlxyXG4gICAgICAgICAgICAgICAgPC9Gb3JtPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvTW9kYWwuU2VjdGlvbj5cclxuICAgICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgPC8+XHJcbiAgICAgICl9XHJcbiAgICA8Lz5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJyYW5jaENvbnNvbGVcclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCJcclxuaW1wb3J0IHsgQXV0aCwgQVBJLCBncmFwaHFsT3BlcmF0aW9uIH0gZnJvbSBcImF3cy1hbXBsaWZ5XCJcclxuaW1wb3J0IHsgUmVkaXJlY3QgfSBmcm9tIFwiQHNob3BpZnkvYXBwLWJyaWRnZS9hY3Rpb25zXCJcclxuaW1wb3J0IGNyZWF0ZUFwcCBmcm9tIFwiQHNob3BpZnkvYXBwLWJyaWRnZVwiXHJcbmltcG9ydCB7IENhcmQsIERhdGFUYWJsZSwgQnV0dG9uLCBQYWdlLCBUZXh0RmllbGQsIEljb24sIFN0YWNrIH0gZnJvbSBcIkBzaG9waWZ5L3BvbGFyaXNcIlxyXG5pbXBvcnQge1xyXG4gIFNlYXJjaE1ham9yTW9ub3RvbmUsXHJcbiAgVHJhbnNhY3Rpb25NYWpvck1vbm90b25lLFxyXG4gIEJhbGFuY2VNYWpvck1vbm90b25lLFxyXG4gIExvZ091dE1pbm9yLFxyXG59IGZyb20gXCJAc2hvcGlmeS9wb2xhcmlzLWljb25zXCJcclxuaW1wb3J0IHsgdXNlQnJhbmNoQnlBZG1pbiB9IGZyb20gXCIuLi9jb3JlL2hvb2tzXCJcclxuaW1wb3J0IHsgdG9DdXJyZW5jeSwgZm9ybWF0RGF0ZSwgZXh0cmFjdE51bWJlcnNGcm9tU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWxzL2hlbHBlclwiXHJcbmltcG9ydCBjb25maWcgZnJvbSBcIi4uL2F3cy1leHBvcnRzXCJcclxuaW1wb3J0IFBheW1lbnRSZXF1ZXN0IGZyb20gXCIuL1BheW1lbnRSZXF1ZXN0XCJcclxuaW1wb3J0IHsgYnJhbmNoQnlBZG1pbklkIH0gZnJvbSBcIi4uL2dyYXBocWwvcXVlcmllc1wiXHJcbmltcG9ydCB7IG9uQ3JlYXRlVHJhbnNhY3Rpb24sIG9uRGVsZXRlVHJhbnNhY3Rpb24gfSBmcm9tIFwiLi4vZ3JhcGhxbC9zdWJzY3JpcHRpb25zXCJcclxuXHJcbkFQSS5jb25maWd1cmUoY29uZmlnKVxyXG5cclxuY29uc3QgQnJhbmNoRGF0YSA9ICh7IHVzZXIsIHVwZGF0ZVVzZXIgfSkgPT4ge1xyXG4gIGNvbnN0IFticmFuY2hJbmZvLCBzZXRCcmFuY2hJbmZvXSA9IHVzZVN0YXRlKFwiXCIpXHJcbiAgY29uc3QgW3NlYXJjaFZhbHVlLCBzZXRTZWFyY2hWYWx1ZV0gPSB1c2VTdGF0ZShudWxsKVxyXG4gIGNvbnN0IFtuZXdDcmVhdGVkVHJhbnNhY3Rpb24sIHNldE5ld0NyZWF0ZWRUcmFuc2FjdGlvbl0gPSB1c2VTdGF0ZShcIlwiKVxyXG4gIGNvbnN0IFtzaG93UGF5bWVudFJlcXVlc3QsIHNldFNob3dQYXltZW50UmVxdWVzdF0gPSB1c2VTdGF0ZShmYWxzZSlcclxuXHJcbiAgY29uc3QgeyBkYXRhOiBicmFuY2hEYXRhLCByZWZldGNoOiBnZXRCcmFuY2ggfSA9IHVzZUJyYW5jaEJ5QWRtaW4odXNlci5hdHRyaWJ1dGVzLnN1YilcclxuXHJcbiAgY29uc3QgaGFuZGxlU2VhcmNoSW5wdXQgPSB1c2VDYWxsYmFjaygobmV3VmFsdWUpID0+IHNldFNlYXJjaFZhbHVlKG5ld1ZhbHVlKSwgW10pXHJcblxyXG4gIGNvbnN0IGFwcCA9IGNyZWF0ZUFwcCh7XHJcbiAgICBhcGlLZXk6IFwiM2IwMTA2M2JhYzMwMzFkMTMxMDExMDBlZjNlNDRmZDVcIixcclxuICAgIHNob3BPcmlnaW46IFwidHJhbnNhY3Rpb25zLWF2YW50YS5teXNob3BpZnkuY29tXCIsXHJcbiAgfSlcclxuXHJcbiAgY29uc3QgcmVkaXJlY3QgPSBSZWRpcmVjdC5jcmVhdGUoYXBwKVxyXG5cclxuICAvLyBjb25zdCBnZXRCcmFuY2ggPSBhc3luYyAoKSA9PiB7XHJcbiAgLy8gICB0cnkge1xyXG4gIC8vICAgICBjb25zdCBmZXRjaEJyYW5jaCA9IGF3YWl0IEFQSS5ncmFwaHFsKFxyXG4gIC8vICAgICAgIGdyYXBocWxPcGVyYXRpb24oYnJhbmNoQnlBZG1pbklkLCB7IGFkbWluSWQ6IHVzZXIuYXR0cmlidXRlcy5zdWIgfSlcclxuICAvLyAgICAgKVxyXG4gIC8vICAgICBzZXRCcmFuY2hJbmZvKGZldGNoQnJhbmNoLmRhdGEuYnJhbmNoQnlBZG1pbklkLml0ZW1zWzBdKVxyXG4gIC8vICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAvLyAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgLy8gICB9XHJcbiAgLy8gfVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZ2V0QnJhbmNoKClcclxuXHJcbiAgICBjb25zdCBjcmVhdGVMaXN0ZW5lciA9IEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24ob25DcmVhdGVUcmFuc2FjdGlvbikpLnN1YnNjcmliZSh7XHJcbiAgICAgIG5leHQ6IChjcmVhdGVkVHJhbnNhY3Rpb24pID0+IHNldE5ld0NyZWF0ZWRUcmFuc2FjdGlvbihjcmVhdGVkVHJhbnNhY3Rpb24pLFxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBkZWxldGVMaXN0ZW5lciA9IEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24ob25EZWxldGVUcmFuc2FjdGlvbikpLnN1YnNjcmliZSh7XHJcbiAgICAgIG5leHQ6IChkZWxldGVkVHJhbnNhY3Rpb24pID0+IHNldE5ld0NyZWF0ZWRUcmFuc2FjdGlvbihkZWxldGVkVHJhbnNhY3Rpb24pLFxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBjcmVhdGVMaXN0ZW5lci51bnN1YnNjcmliZSgpXHJcbiAgICAgIGRlbGV0ZUxpc3RlbmVyLnVuc3Vic2NyaWJlKClcclxuICAgIH1cclxuICB9LCBbbmV3Q3JlYXRlZFRyYW5zYWN0aW9uXSlcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHNldEJyYW5jaEluZm8oYnJhbmNoRGF0YSAmJiBicmFuY2hEYXRhLmRhdGEuYnJhbmNoQnlBZG1pbklkLml0ZW1zWzBdKVxyXG4gIH0sIFticmFuY2hEYXRhXSlcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDw+XHJcbiAgICAgIHtzaG93UGF5bWVudFJlcXVlc3QgPyAoXHJcbiAgICAgICAgPFBheW1lbnRSZXF1ZXN0XHJcbiAgICAgICAgICBzZXRTaG93UGF5bWVudFJlcXVlc3Q9e3NldFNob3dQYXltZW50UmVxdWVzdH1cclxuICAgICAgICAgIGJyYW5jaElkPXticmFuY2hJbmZvID8gYnJhbmNoSW5mby5pZCA6IFwiXCJ9XHJcbiAgICAgICAgLz5cclxuICAgICAgKSA6IChcclxuICAgICAgICA8UGFnZSB0aXRsZT17YnJhbmNoSW5mbyAmJiBicmFuY2hJbmZvLmJyYW5jaE5hbWV9PlxyXG4gICAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgICBsYWJlbD1cIlNlYXJjaCBQcm9kdWN0XCJcclxuICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFZhbHVlfVxyXG4gICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlU2VhcmNoSW5wdXR9XHJcbiAgICAgICAgICAgIHByZWZpeD17PEljb24gc291cmNlPXtTZWFyY2hNYWpvck1vbm90b25lfSAvPn1cclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggYnkgQ3VzdG9tZXIgcGhvbmUgbnVtYmVyXCJcclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8U3RhY2s+XHJcbiAgICAgICAgICAgIDxTdGFjay5JdGVtIGZpbGw+XHJcbiAgICAgICAgICAgICAgPEJ1dHRvbiBpZD1cIkFjY2VwdC1QYXltZW50XCIgb25DbGljaz17KCkgPT4gc2V0U2hvd1BheW1lbnRSZXF1ZXN0KHRydWUpfT5cclxuICAgICAgICAgICAgICAgIDxJY29uIHNvdXJjZT17QmFsYW5jZU1ham9yTW9ub3RvbmV9IC8+IEFjY2VwdCBQYXltZW50XHJcbiAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgIDwvU3RhY2suSXRlbT5cclxuICAgICAgICAgICAgPFN0YWNrLkl0ZW0+XHJcbiAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgaWQ9XCJDcmVhdGUtVHJhbnNhY3Rpb25cIlxyXG4gICAgICAgICAgICAgICAgcHJpbWFyeVxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT5cclxuICAgICAgICAgICAgICAgICAgcmVkaXJlY3QuZGlzcGF0Y2goUmVkaXJlY3QuQWN0aW9uLlJFTU9URSwge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHVybDogYGh0dHBzOi8vZGV2LmQzaXZncGt6dXo2aGtyLmFtcGxpZnlhcHAuY29tP2FkbWluSWQ9JHt1c2VyLmF0dHJpYnV0ZXMuc3VifWAsXHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBgaHR0cDovL2xvY2FsaG9zdDozMDAxL3RyYW5zYWN0aW9ucy8ke3VzZXIuYXR0cmlidXRlcy5zdWJ9YCxcclxuICAgICAgICAgICAgICAgICAgICBuZXdDb250ZXh0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfT5cclxuICAgICAgICAgICAgICAgIDxJY29uIHNvdXJjZT17VHJhbnNhY3Rpb25NYWpvck1vbm90b25lfSAvPiBDcmVhdGUgdHJhbnNhY3Rpb25cclxuICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgPC9TdGFjay5JdGVtPlxyXG4gICAgICAgICAgICA8U3RhY2suSXRlbT5cclxuICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICBwcmltYXJ5XHJcbiAgICAgICAgICAgICAgICBpZD1cIkxvZ291dFwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIEF1dGguc2lnbk91dCgpXHJcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZVVzZXIobnVsbClcclxuICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgPEljb24gc291cmNlPXtMb2dPdXRNaW5vcn0gLz4gTG9nb3V0XHJcbiAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgIDwvU3RhY2suSXRlbT5cclxuICAgICAgICAgIDwvU3RhY2s+XHJcbiAgICAgICAgICB7YnJhbmNoSW5mbyAmJiAoXHJcbiAgICAgICAgICAgIDxDYXJkPlxyXG4gICAgICAgICAgICAgIDxEYXRhVGFibGVcclxuICAgICAgICAgICAgICAgIGNvbHVtbkNvbnRlbnRUeXBlcz17W1widGV4dFwiLCBcInRleHRcIiwgXCJ0ZXh0XCIsIFwidGV4dFwiXX1cclxuICAgICAgICAgICAgICAgIGhlYWRpbmdzPXtbXHJcbiAgICAgICAgICAgICAgICAgIFwiQ3VzdG9tZXIgcGhvbmUgbnVtYmVyXCIsXHJcbiAgICAgICAgICAgICAgICAgIFwiVG90YWxQcmljZVwiLFxyXG4gICAgICAgICAgICAgICAgICBcIlRvdGFsQm9udXNBbW91bnRcIixcclxuICAgICAgICAgICAgICAgICAgXCJNaW51cyBmcm9tIEJvbnVzIEFtb3VudFwiLFxyXG4gICAgICAgICAgICAgICAgICBcIkNyZWF0ZWRBdFwiLFxyXG4gICAgICAgICAgICAgICAgXX1cclxuICAgICAgICAgICAgICAgIHJvd3M9e1xyXG4gICAgICAgICAgICAgICAgICBicmFuY2hJbmZvICYmXHJcbiAgICAgICAgICAgICAgICAgIGJyYW5jaEluZm8udHJhbnNhY3Rpb25zLml0ZW1zXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigodHJhbnNhY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hWYWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24uY3VzdG9tZXJbMF0ucGhvbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhzZWFyY2hWYWx1ZS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIuY3JlYXRlZEF0KSAtIG5ldyBEYXRlKGEuY3JlYXRlZEF0KSlcclxuICAgICAgICAgICAgICAgICAgICAubWFwKCh0cmFuc2FjdGlvbikgPT4gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3QuZGlzcGF0Y2goUmVkaXJlY3QuQWN0aW9uLkFETUlOX1BBVEgsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGAvY3VzdG9tZXJzLyR7dHJhbnNhY3Rpb24uY3VzdG9tZXJbMF0uaWR9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbnRleHQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RyYW5zYWN0aW9uLmN1c3RvbWVyWzBdLnBob25lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgdG9DdXJyZW5jeShOdW1iZXIodHJhbnNhY3Rpb24udG90YWxQcmljZSkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdG9DdXJyZW5jeShOdW1iZXIodHJhbnNhY3Rpb24udG90YWxCb251c0Ftb3VudCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ubm90ZSA9PT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0b0N1cnJlbmN5KGV4dHJhY3ROdW1iZXJzRnJvbVN0cmluZyh0cmFuc2FjdGlvbi5ub3RlKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICBmb3JtYXREYXRlKHRyYW5zYWN0aW9uLmNyZWF0ZWRBdCksXHJcbiAgICAgICAgICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvUGFnZT5cclxuICAgICAgKX1cclxuICAgIDwvPlxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQnJhbmNoRGF0YVxyXG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgQVdTIGZyb20gJ2F3cy1zZGsnXHJcbmltcG9ydCB7IEFQSSwgZ3JhcGhxbE9wZXJhdGlvbiB9IGZyb20gJ2F3cy1hbXBsaWZ5J1xyXG5pbXBvcnQgeyBCdXR0b24sIEZvcm0gfSBmcm9tICdAc2hvcGlmeS9wb2xhcmlzJ1xyXG5pbXBvcnQgeyBUYWJsZSwgUG9wdXAsIEljb24gfSBmcm9tICdzZW1hbnRpYy11aS1yZWFjdCdcclxuaW1wb3J0IHsgdXNlTGlzdEJyYW5jaGVzLCB1c2VEZWxldGVCcmFuY2ggfSBmcm9tICcuLi9jb3JlL2hvb2tzJ1xyXG5pbXBvcnQgeyBmb3JtYXREYXRlIH0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2F3cy1leHBvcnRzJ1xyXG5pbXBvcnQgQnJhbmNoUHJvZHVjdHMgZnJvbSAnLi9CcmFuY2hQcm9kdWN0cydcclxuaW1wb3J0IHsgbGlzdEJyYW5jaHMgfSBmcm9tICcuLi9ncmFwaHFsL3F1ZXJpZXMnXHJcbmltcG9ydCB7IG9uQ3JlYXRlQnJhbmNoU3Vic2NyaXB0aW9uLCBvbkRlbGV0ZUJyYW5jaFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL2dyYXBocWwvc3Vic2NyaXB0aW9ucydcclxuaW1wb3J0IHtcclxuICAgIHJlbW92ZUJyYW5jaCxcclxuICAgIGRlbGV0ZVRyYW5zYWN0aW9uLFxyXG4gICAgZGVsZXRlQnJhbmNoUHJvZHVjdCxcclxuICAgIGRlbGV0ZVBheW1lbnRSZXF1ZXN0XHJcbn0gZnJvbSAnLi4vZ3JhcGhxbC9tdXRhdGlvbidcclxuXHJcbkFQSS5jb25maWd1cmUoY29uZmlnKVxyXG5cclxuQVdTLmNvbmZpZy51cGRhdGUoe1xyXG4gICAgYWNjZXNzS2V5SWQ6ICdBS0lBSUY2V0tWS1NPVFFDVVJFUScsXHJcbiAgICBzZWNyZXRBY2Nlc3NLZXk6ICdvRU1RTklpRFYrUUszUnh0ZnArRFJSd0dSOTBPV2NLVnB5alhkMUp3JyxcclxuICAgIHJlZ2lvbjogJ3VzLWVhc3QtMSdcclxufSlcclxuXHJcbmNvbnN0IGNvZ25pdG8gPSBuZXcgQVdTLkNvZ25pdG9JZGVudGl0eVNlcnZpY2VQcm92aWRlcigpXHJcblxyXG5jb25zdCBCcmFuY2hMaXN0ID0gKHsgc2V0QnJhbmNoSWQsIGJyYW5jaElkIH0pID0+IHtcclxuICAgIGNvbnN0IFthY3RpdmUsIHNldEFjdGl2ZV0gPSB1c2VTdGF0ZShmYWxzZSlcclxuICAgIGNvbnN0IFticmFuY2hlcywgc2V0QnJhbmNoZXNdID0gdXNlU3RhdGUoJycpXHJcbiAgICBjb25zdCBbYnJhbmNoTmFtZSwgc2V0QnJhbmNoTmFtZV0gPSB1c2VTdGF0ZSgnJylcclxuICAgIGNvbnN0IFtwcm9kdWN0QnJhbmNoSWQsIHNldFByb2R1Y3RCcmFuY2hJZF0gPSB1c2VTdGF0ZSgnJylcclxuICAgIGNvbnN0IFtuZXdDcmVhdGVkQnJhbmNoLCBzZXROZXdDcmVhdGVkQnJhbmNoXSA9IHVzZVN0YXRlKCcnKVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YTogYnJhbmNoZXNEYXRhLCByZWZldGNoOiBmZXRjaEJyYW5jaGVzIH0gPSB1c2VMaXN0QnJhbmNoZXMoKVxyXG4gICAgY29uc3QgeyBkZWxldGVCcmFuY2gsIGlzTG9hZGluZywgZXJyb3IsIGRhdGEgfSA9IHVzZURlbGV0ZUJyYW5jaCgpXHJcblxyXG4gICAgY29uc3QgaGFuZGxlQ2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgIHNldEFjdGl2ZSghYWN0aXZlKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnN0IGRlbGV0ZUJyYW5jaCA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgLy8gICAgIGNvbnN0IGJyYW5jaFRvRGVsZXRlID0gYnJhbmNoZXMubGlzdEJyYW5jaHMuaXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkID09PSBpZClbMF1cclxuXHJcbiAgICAvLyAgICAgY29uc3QgdHJhbnNhY3Rpb25zVG9EZWxldGUgPSBicmFuY2hUb0RlbGV0ZS50cmFuc2FjdGlvbnMuaXRlbXNcclxuICAgIC8vICAgICAgICAgPyBicmFuY2hUb0RlbGV0ZS50cmFuc2FjdGlvbnMuaXRlbXMubWFwKCh0cmFuc2FjdGlvbikgPT4gdHJhbnNhY3Rpb24uaWQpXHJcbiAgICAvLyAgICAgICAgIDogJydcclxuXHJcbiAgICAvLyAgICAgY29uc3QgcHJvZHVjdHNUb0RlbGV0ZSA9IGJyYW5jaFRvRGVsZXRlLmJyYW5jaFByb2R1Y3RzLml0ZW1zXHJcbiAgICAvLyAgICAgICAgID8gYnJhbmNoVG9EZWxldGUuYnJhbmNoUHJvZHVjdHMuaXRlbXMubWFwKChwcm9kdWN0KSA9PiBwcm9kdWN0LmlkKVxyXG4gICAgLy8gICAgICAgICA6ICcnXHJcblxyXG4gICAgLy8gICAgIGNvbnN0IHBheW1lbnRSZXF1ZXN0VG9EZWxldGUgPSBicmFuY2hUb0RlbGV0ZS5icmFuY2hQYXltZW50UmVxdWVzdHMuaXRlbXNcclxuICAgIC8vICAgICAgICAgPyBicmFuY2hUb0RlbGV0ZS5icmFuY2hQYXltZW50UmVxdWVzdHMuaXRlbXMubWFwKChwYXltZW50UmVxdWVzdCkgPT4gcGF5bWVudFJlcXVlc3QuaWQpXHJcbiAgICAvLyAgICAgICAgIDogJydcclxuXHJcbiAgICAvLyAgICAgdHJ5IHtcclxuICAgIC8vICAgICAgICAgY29uc3QgZGVsZXRlZEJyYW5jaCA9IGF3YWl0IEFQSS5ncmFwaHFsKFxyXG4gICAgLy8gICAgICAgICAgICAgZ3JhcGhxbE9wZXJhdGlvbihyZW1vdmVCcmFuY2gsIHsgaW5wdXQ6IHsgaWQgfSB9KVxyXG4gICAgLy8gICAgICAgICApXHJcblxyXG4gICAgLy8gICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgIC8vICAgICAgICAgICAgIHRyYW5zYWN0aW9uc1RvRGVsZXRlLm1hcCgodHJhbnNhY3Rpb25JZCkgPT4ge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIEFQSS5ncmFwaHFsKFxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBncmFwaHFsT3BlcmF0aW9uKGRlbGV0ZVRyYW5zYWN0aW9uLCB7IGlucHV0OiB7IGlkOiB0cmFuc2FjdGlvbklkIH0gfSlcclxuICAgIC8vICAgICAgICAgICAgICAgICApXHJcbiAgICAvLyAgICAgICAgICAgICB9KVxyXG4gICAgLy8gICAgICAgICApLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcblxyXG4gICAgLy8gICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgIC8vICAgICAgICAgICAgIHByb2R1Y3RzVG9EZWxldGUubWFwKChwcm9kdWN0SWQpID0+IHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKGRlbGV0ZUJyYW5jaFByb2R1Y3QsIHsgaW5wdXQ6IHsgaWQ6IHByb2R1Y3RJZCB9IH0pKVxyXG4gICAgLy8gICAgICAgICAgICAgfSlcclxuICAgIC8vICAgICAgICAgKS5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG5cclxuICAgIC8vICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAvLyAgICAgICAgICAgICBwYXltZW50UmVxdWVzdFRvRGVsZXRlLm1hcCgocGF5bWVudElkKSA9PiB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgQVBJLmdyYXBocWwoXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGdyYXBocWxPcGVyYXRpb24oZGVsZXRlUGF5bWVudFJlcXVlc3QsIHsgaW5wdXQ6IHsgaWQ6IHBheW1lbnRJZCB9IH0pXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgKVxyXG4gICAgLy8gICAgICAgICAgICAgfSlcclxuICAgIC8vICAgICAgICAgKVxyXG4gICAgLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBjb25zdCBkZWxldGVVc2VyRnJvbUNvZ25pdG8gPSBhc3luYyAodXNlcm5hbWUpID0+IHtcclxuICAgIC8vICAgICB0cnkge1xyXG4gICAgLy8gICAgICAgICBhd2FpdCBjb2duaXRvXHJcbiAgICAvLyAgICAgICAgICAgICAuYWRtaW5EZWxldGVVc2VyKHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBVc2VyUG9vbElkOiAndXMtZWFzdC0xX0lmcm5uekdGUicsXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgVXNlcm5hbWU6IHVzZXJuYW1lXHJcbiAgICAvLyAgICAgICAgICAgICB9KVxyXG4gICAgLy8gICAgICAgICAgICAgLnByb21pc2UoKVxyXG4gICAgLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGZldGNoQnJhbmNoZXMoKVxyXG5cclxuICAgICAgICBjb25zdCBjcmVhdGVMaXN0ZW5lciA9IEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24ob25DcmVhdGVCcmFuY2hTdWJzY3JpcHRpb24pKS5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICBuZXh0OiAoY3JlYXRlZEJyYW5jaCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0TmV3Q3JlYXRlZEJyYW5jaChjcmVhdGVkQnJhbmNoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3QgZGVsZXRlTGlzdGVuZXIgPSBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKG9uRGVsZXRlQnJhbmNoU3Vic2NyaXB0aW9uKSkuc3Vic2NyaWJlKHtcclxuICAgICAgICAgICAgbmV4dDogKGRlbGV0ZWRCcmFuY2gpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldE5ld0NyZWF0ZWRCcmFuY2goZGVsZXRlZEJyYW5jaClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNyZWF0ZUxpc3RlbmVyLnVuc3Vic2NyaWJlKClcclxuICAgICAgICAgICAgZGVsZXRlTGlzdGVuZXIudW5zdWJzY3JpYmUoKVxyXG4gICAgICAgIH1cclxuICAgIH0sIFtuZXdDcmVhdGVkQnJhbmNoXSlcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIHNldEJyYW5jaGVzKGJyYW5jaGVzRGF0YSAmJiBicmFuY2hlc0RhdGEuZGF0YSlcclxuICAgIH0sIFticmFuY2hlc0RhdGFdKVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgICAgPFRhYmxlIHNlbGVjdGFibGUgY2VsbGVkPlxyXG4gICAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlcj5cclxuICAgICAgICAgICAgICAgICAgICA8VGFibGUuUm93PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuSGVhZGVyQ2VsbD5CcmFuY2ggTmFtZTwvVGFibGUuSGVhZGVyQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGwgdGV4dEFsaWduPVwiY2VudGVyXCI+Q3JlYXRlZCBBdDwvVGFibGUuSGVhZGVyQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGwgdGV4dEFsaWduPVwiY2VudGVyXCI+QWN0aW9uczwvVGFibGUuSGVhZGVyQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLlJvdz5cclxuICAgICAgICAgICAgICAgIDwvVGFibGUuSGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgPFRhYmxlLkJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAge2JyYW5jaGVzICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5jaGVzLmxpc3RCcmFuY2hzLml0ZW1zLm1hcCgoaXRlbSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLlJvdyBrZXk9e2l0ZW0uaWR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnJhbmNoSWQoaXRlbS5pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cImNvZGUgYnJhbmNoXCIgLz4ge2l0ZW0uYnJhbmNoTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZS5DZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsIHRleHRBbGlnbj1cImNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0RGF0ZShpdGVtLmNyZWF0ZWRBdCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZS5DZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsIHRleHRBbGlnbj1cImNlbnRlclwiIGNsYXNzTmFtZT1cImJyYW5jaC1hY3Rpb25zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3B1cFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudD1cIkVkaXQgYnJhbmNoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXI9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFByb2R1Y3RCcmFuY2hJZChpdGVtLmlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnJhbmNoTmFtZShpdGVtLmJyYW5jaE5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDaGFuZ2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJlZGl0LWJyYW5jaFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJlZGl0IG91dGxpbmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3B1cFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudD1cIkRlbGV0ZSBCcmFuY2hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcj17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVtb3ZlLWJyYW5jaFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJ0cmFzaCBhbHRlcm5hdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVCcmFuY2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5jaGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBpdGVtLmJyYW5jaFVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVsZXRlQnJhbmNoKGl0ZW0uaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkZWxldGVVc2VyRnJvbUNvZ25pdG8oaXRlbS5icmFuY2hVc2VybmFtZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGUuUm93PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgIDwvVGFibGUuQm9keT5cclxuICAgICAgICAgICAgPC9UYWJsZT5cclxuICAgICAgICAgICAgPEJyYW5jaFByb2R1Y3RzXHJcbiAgICAgICAgICAgICAgICBicmFuY2hOYW1lPXticmFuY2hOYW1lfVxyXG4gICAgICAgICAgICAgICAgYnJhbmNoSWQ9e3Byb2R1Y3RCcmFuY2hJZH1cclxuICAgICAgICAgICAgICAgIGFjdGl2ZT17YWN0aXZlfVxyXG4gICAgICAgICAgICAgICAgaGFuZGxlQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgPC8+XHJcbiAgICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJyYW5jaExpc3RcclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCJcclxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIlxyXG5pbXBvcnQgeyBBUEksIGdyYXBocWxPcGVyYXRpb24gfSBmcm9tIFwiYXdzLWFtcGxpZnlcIlxyXG5pbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gXCJAYXBvbGxvL2NsaWVudFwiXHJcbmltcG9ydCB7IE1vZGFsIH0gZnJvbSBcIkBzaG9waWZ5L3BvbGFyaXNcIlxyXG5pbXBvcnQgeyBUYWJsZSB9IGZyb20gXCJzZW1hbnRpYy11aS1yZWFjdFwiXHJcbmltcG9ydCB7IHVzZUJyYW5jaEVudGl0eSB9IGZyb20gXCIuLi9jb3JlL2hvb2tzXCJcclxuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi4vYXdzLWV4cG9ydHNcIlxyXG5pbXBvcnQgQnJhbmNoUm93IGZyb20gXCIuL0JyYW5jaFJvd1wiXHJcbmltcG9ydCB7IGxpc3RQcm9kdWN0cywgZ2V0QnJhbmNoQnlJZCB9IGZyb20gXCIuLi9ncmFwaHFsL3F1ZXJpZXNcIlxyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZUJyYW5jaFByb2R1Y3QsXHJcbiAgcHJvZHVjdFVwZGF0ZSxcclxuICB1cGRhdGVCcmFuY2hQcm9kdWN0LFxyXG4gIGRlbGV0ZUJyYW5jaFByb2R1Y3QsXHJcbn0gZnJvbSBcIi4uL2dyYXBocWwvbXV0YXRpb25cIlxyXG5pbXBvcnQge1xyXG4gIG9uQ3JlYXRlQnJhbmNoUHJvZHVjdCxcclxuICBvblVwZGF0ZUJyYW5jaFByb2R1Y3QsXHJcbiAgb25EZWxldGVCcmFuY2hQcm9kdWN0LFxyXG59IGZyb20gXCIuLi9ncmFwaHFsL3N1YnNjcmlwdGlvbnNcIlxyXG5cclxuQVBJLmNvbmZpZ3VyZShjb25maWcpXHJcblxyXG5jb25zdCBQcm9kdWN0c0xpc3QgPSAoeyBhY3RpdmUsIGhhbmRsZUNoYW5nZSwgYnJhbmNoSWQgfSkgPT4ge1xyXG4gIGNvbnN0IHsgbG9hZGluZywgZXJyb3IsIGRhdGEgfSA9IHVzZVF1ZXJ5KGxpc3RQcm9kdWN0cylcclxuICBjb25zdCBbYnJhbmNoUHJvZHVjdFN1YnNjcmlwdGlvbiwgc2V0QnJhbmNoUHJvZHVjdFN1YnNjcmlwdGlvbl0gPSB1c2VTdGF0ZShcIlwiKVxyXG4gIGNvbnN0IFtyb3dJZCwgc2V0Um93SWRdID0gdXNlU3RhdGUoW10pXHJcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSh7XHJcbiAgICBwcm9kdWN0czogW10sXHJcbiAgfSlcclxuICBjb25zdCBbYnJhbmNoSW5mbywgc2V0QnJhbmNoSW5mb10gPSB1c2VTdGF0ZShcIlwiKVxyXG5cclxuICBjb25zdCB7IGRhdGE6IGJyYW5jaERhdGEsIHJlZmV0Y2g6IGdldEJyYW5jaCB9ID0gdXNlQnJhbmNoRW50aXR5KGJyYW5jaElkKVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZ2V0QnJhbmNoKClcclxuXHJcbiAgICBjb25zdCBjcmVhdGVMaXN0ZW5lciA9IEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24ob25DcmVhdGVCcmFuY2hQcm9kdWN0KSkuc3Vic2NyaWJlKHtcclxuICAgICAgbmV4dDogKGNyZWF0ZWRCcmFuY2hQcm9kdWN0KSA9PiBzZXRCcmFuY2hQcm9kdWN0U3Vic2NyaXB0aW9uKGNyZWF0ZWRCcmFuY2hQcm9kdWN0KSxcclxuICAgIH0pXHJcbiAgICBjb25zdCB1cGRhdGVMaXN0ZW5lciA9IEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24ob25VcGRhdGVCcmFuY2hQcm9kdWN0KSkuc3Vic2NyaWJlKHtcclxuICAgICAgbmV4dDogKHVwZGF0ZWRCcmFuY2hQcm9kdWN0KSA9PiBzZXRCcmFuY2hQcm9kdWN0U3Vic2NyaXB0aW9uKHVwZGF0ZWRCcmFuY2hQcm9kdWN0KSxcclxuICAgIH0pXHJcbiAgICBjb25zdCBkZWxldGVMaXN0ZW5lciA9IEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24ob25EZWxldGVCcmFuY2hQcm9kdWN0KSkuc3Vic2NyaWJlKHtcclxuICAgICAgbmV4dDogKGRlbGV0ZWRCcmFuY2hQcm9kdWN0KSA9PiBzZXRCcmFuY2hQcm9kdWN0U3Vic2NyaXB0aW9uKGRlbGV0ZWRCcmFuY2hQcm9kdWN0KSxcclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgY3JlYXRlTGlzdGVuZXIudW5zdWJzY3JpYmUoKVxyXG4gICAgICB1cGRhdGVMaXN0ZW5lci51bnN1YnNjcmliZSgpXHJcbiAgICAgIGRlbGV0ZUxpc3RlbmVyLnVuc3Vic2NyaWJlKClcclxuICAgIH1cclxuICB9LCBbYnJhbmNoSWQsIGJyYW5jaFByb2R1Y3RTdWJzY3JpcHRpb25dKVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFicmFuY2hEYXRhKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgc2V0QnJhbmNoSW5mbyhicmFuY2hEYXRhLmRhdGEuZ2V0QnJhbmNoKVxyXG4gICAgc2V0Um93SWQoWy4uLmJyYW5jaERhdGEuZGF0YS5nZXRCcmFuY2guYnJhbmNoUHJvZHVjdHMuaXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLnByb2R1Y3RJZCldKVxyXG4gICAgc2V0U3RhdGUoe1xyXG4gICAgICBwcm9kdWN0czogW1xyXG4gICAgICAgIC4uLmJyYW5jaERhdGEuZGF0YS5nZXRCcmFuY2guYnJhbmNoUHJvZHVjdHMuaXRlbXMubWFwKChwcm9kdWN0KSA9PiAoe1xyXG4gICAgICAgICAgaWQ6IHByb2R1Y3QucHJvZHVjdElkLFxyXG4gICAgICAgIH0pKSxcclxuICAgICAgXSxcclxuICAgIH0pXHJcbiAgfSwgW2JyYW5jaERhdGFdKVxyXG5cclxuICBpZiAobG9hZGluZykge1xyXG4gICAgcmV0dXJuIDxkaXY+TG9hZGluZyBwcm9kdWN0cy4uLjwvZGl2PlxyXG4gIH1cclxuXHJcbiAgaWYgKGVycm9yKSB7XHJcbiAgICByZXR1cm4gPGRpdj5Tb21lIGVycm9yIG9jY3VyZWQ8L2Rpdj5cclxuICB9XHJcblxyXG4gIGNvbnN0IGRlbGV0ZVByb2R1Y3RzRnJvbUJyYW5jaCA9ICgpID0+IHtcclxuICAgIGNvbnN0IHByb2R1Y3RzVG9EZWxldGVGcm9tQnJhbmNoID0gYnJhbmNoSW5mby5icmFuY2hQcm9kdWN0cy5pdGVtcy5maWx0ZXIoXHJcbiAgICAgIChicmFuY2hQcm9kdWN0KSA9PlxyXG4gICAgICAgICFzdGF0ZS5wcm9kdWN0cy5tYXAoKHByb2R1Y3QpID0+IHByb2R1Y3QuaWQpLmluY2x1ZGVzKGJyYW5jaFByb2R1Y3QucHJvZHVjdElkKVxyXG4gICAgKVxyXG5cclxuICAgIFByb21pc2UuYWxsKFxyXG4gICAgICBwcm9kdWN0c1RvRGVsZXRlRnJvbUJyYW5jaC5tYXAoKGRlbGV0ZVByb2R1Y3QpID0+IHtcclxuICAgICAgICBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKGRlbGV0ZUJyYW5jaFByb2R1Y3QsIHsgaW5wdXQ6IHsgaWQ6IGRlbGV0ZVByb2R1Y3QuaWQgfSB9KSlcclxuICAgICAgfSlcclxuICAgICkuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuXHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGNvbnN0IGFkZFByb2R1Y3RzVG9CcmFuY2ggPSAoKSA9PiB7XHJcbiAgICBQcm9taXNlLmFsbChcclxuICAgICAgc3RhdGUucHJvZHVjdHMubWFwKChwcm9kdWN0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBicmFuY2hJbmZvLmJyYW5jaFByb2R1Y3RzLml0ZW1zLmZpbHRlcihcclxuICAgICAgICAgIChicmFuY2hQcm9kdWN0KSA9PiBicmFuY2hQcm9kdWN0LnByb2R1Y3RJZCA9PT0gcHJvZHVjdC5pZFxyXG4gICAgICAgIClbMF1cclxuICAgICAgICBpZiAodXBkYXRlZFByb2R1Y3QpIHtcclxuICAgICAgICAgIEFQSS5ncmFwaHFsKFxyXG4gICAgICAgICAgICBncmFwaHFsT3BlcmF0aW9uKHVwZGF0ZUJyYW5jaFByb2R1Y3QsIHtcclxuICAgICAgICAgICAgICBpbnB1dDoge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHVwZGF0ZWRQcm9kdWN0LmlkLFxyXG4gICAgICAgICAgICAgICAgdGFnczogcHJvZHVjdC50YWdzLFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIEFQSS5ncmFwaHFsKFxyXG4gICAgICAgICAgICBncmFwaHFsT3BlcmF0aW9uKGNyZWF0ZUJyYW5jaFByb2R1Y3QsIHtcclxuICAgICAgICAgICAgICBpbnB1dDoge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHV1aWR2NCgpLFxyXG4gICAgICAgICAgICAgICAgYnJhbmNoSWQ6IGJyYW5jaElkLFxyXG4gICAgICAgICAgICAgICAgcHJvZHVjdElkOiBwcm9kdWN0LmlkLFxyXG4gICAgICAgICAgICAgICAgdGFnczogcHJvZHVjdC50YWdzLFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgKS5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG5cclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxNb2RhbFxyXG4gICAgICBvcGVuPXthY3RpdmV9XHJcbiAgICAgIG9uQ2xvc2U9eygpID0+IGhhbmRsZUNoYW5nZSgpfVxyXG4gICAgICB0aXRsZT1cIkNob29zZSBwcm9kdWN0c1wiXHJcbiAgICAgIHByaW1hcnlBY3Rpb249e3tcclxuICAgICAgICBjb250ZW50OiBcIlNhdmUgY2hhbmdlc1wiLFxyXG4gICAgICAgIG9uQWN0aW9uOiAoKSA9PiB7XHJcbiAgICAgICAgICBhZGRQcm9kdWN0c1RvQnJhbmNoKClcclxuICAgICAgICAgIGRlbGV0ZVByb2R1Y3RzRnJvbUJyYW5jaCgpXHJcbiAgICAgICAgICBoYW5kbGVDaGFuZ2UoKVxyXG4gICAgICAgIH0sXHJcbiAgICAgIH19PlxyXG4gICAgICA8TW9kYWwuU2VjdGlvbj5cclxuICAgICAgICA8VGFibGUgY2VsbGVkIHN0cmlwZWQgc2VsZWN0YWJsZT5cclxuICAgICAgICAgIDxUYWJsZS5IZWFkZXI+XHJcbiAgICAgICAgICAgIDxUYWJsZS5Sb3c+XHJcbiAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+UHJvZHVjdHM8L1RhYmxlLkhlYWRlckNlbGw+XHJcbiAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGwgdGV4dEFsaWduPVwiY2VudGVyXCI+UHJpY2U8L1RhYmxlLkhlYWRlckNlbGw+XHJcbiAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+Qm9udXMgUGVyY2VudGFnZTwvVGFibGUuSGVhZGVyQ2VsbD5cclxuICAgICAgICAgICAgPC9UYWJsZS5Sb3c+XHJcbiAgICAgICAgICA8L1RhYmxlLkhlYWRlcj5cclxuICAgICAgICAgIDxUYWJsZS5Cb2R5PlxyXG4gICAgICAgICAgICB7ZGF0YSAmJlxyXG4gICAgICAgICAgICAgIGJyYW5jaEluZm8gJiZcclxuICAgICAgICAgICAgICBkYXRhLnByb2R1Y3RzLmVkZ2VzLm1hcCgocHJvZHVjdCkgPT4gKFxyXG4gICAgICAgICAgICAgICAgPEJyYW5jaFJvd1xyXG4gICAgICAgICAgICAgICAgICByb3dJZD17cm93SWR9XHJcbiAgICAgICAgICAgICAgICAgIHNldFJvd0lkPXtzZXRSb3dJZH1cclxuICAgICAgICAgICAgICAgICAgYnJhbmNoSW5mbz17YnJhbmNoSW5mb31cclxuICAgICAgICAgICAgICAgICAgYnJhbmNoSWQ9e2JyYW5jaElkfVxyXG4gICAgICAgICAgICAgICAgICBwcm9kdWN0PXtwcm9kdWN0fVxyXG4gICAgICAgICAgICAgICAgICBzdGF0ZT17c3RhdGV9XHJcbiAgICAgICAgICAgICAgICAgIHNldFN0YXRlPXtzZXRTdGF0ZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICA8L1RhYmxlLkJvZHk+XHJcbiAgICAgICAgICA8VGFibGUuRm9vdGVyIGZ1bGxXaWR0aD5cclxuICAgICAgICAgICAgPFRhYmxlLlJvdz48L1RhYmxlLlJvdz5cclxuICAgICAgICAgIDwvVGFibGUuRm9vdGVyPlxyXG4gICAgICAgIDwvVGFibGU+XHJcbiAgICAgIDwvTW9kYWwuU2VjdGlvbj5cclxuICAgIDwvTW9kYWw+XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0c0xpc3RcclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCJcclxuaW1wb3J0IHsgVGh1bWJuYWlsLCBDaGVja2JveCwgVGV4dFN0eWxlLCBUZXh0RmllbGQgfSBmcm9tIFwiQHNob3BpZnkvcG9sYXJpc1wiXHJcbmltcG9ydCB7IFRhYmxlLCBIZWFkZXIsIEljb24gfSBmcm9tIFwic2VtYW50aWMtdWktcmVhY3RcIlxyXG5pbXBvcnQgeyB0b0N1cnJlbmN5IH0gZnJvbSBcIi4uL3V0aWxzL2hlbHBlclwiXHJcblxyXG5jb25zdCBCcmFuY2hSb3cgPSAoeyBwcm9kdWN0LCBzdGF0ZSwgc2V0U3RhdGUsIGJyYW5jaEluZm8sIHJvd0lkLCBzZXRSb3dJZCB9KSA9PiB7XHJcbiAgY29uc3QgW2ZldGNoZWRQcm9kdWN0LCBzZXRGZXRjaGVkUHJvZHVjdF0gPSB1c2VTdGF0ZSh7XHJcbiAgICBkZXNjcmlwdGlvbjogcHJvZHVjdC5ub2RlLmRlc2NyaXB0aW9uLFxyXG4gICAgaWQ6IHByb2R1Y3Qubm9kZS5pZCxcclxuICAgIGltYWdlOiBwcm9kdWN0Lm5vZGUuaW1hZ2VzLmVkZ2VzWzBdID8gcHJvZHVjdC5ub2RlLmltYWdlcy5lZGdlc1swXS5ub2RlLm9yaWdpbmFsU3JjIDogXCJcIixcclxuICAgIHRhZ3M6IHByb2R1Y3Qubm9kZS50YWdzLFxyXG4gICAgdGl0bGU6IHByb2R1Y3Qubm9kZS50aXRsZSxcclxuICAgIHZhcmlhbnRzOiB7XHJcbiAgICAgIGlkOiBwcm9kdWN0Lm5vZGUudmFyaWFudHMuZWRnZXNbMF0ubm9kZS5pZCxcclxuICAgICAgcHJpY2U6IHByb2R1Y3Qubm9kZS52YXJpYW50cy5lZGdlc1swXS5ub2RlLnByaWNlLFxyXG4gICAgfSxcclxuICB9KVxyXG5cclxuICBjb25zdCBbc2VhcmNoVmFsdWUsIHNldFNlYXJjaFZhbHVlXSA9IHVzZVN0YXRlKG51bGwpXHJcbiAgY29uc3QgW2JvbnVzLCBzZXRCb251c10gPSB1c2VTdGF0ZShcIlwiKVxyXG4gIGNvbnN0IGhhbmRsZVNlYXJjaElucHV0ID0gdXNlQ2FsbGJhY2soKG5ld1ZhbHVlKSA9PiBzZXRTZWFyY2hWYWx1ZShuZXdWYWx1ZSksIFtdKVxyXG5cclxuICBjb25zdCBoYW5kbGVCb251cyA9IHVzZUNhbGxiYWNrKCh2YWx1ZSkgPT4ge1xyXG4gICAgc2V0Qm9udXModmFsdWUpXHJcbiAgICBmZXRjaGVkUHJvZHVjdC50YWdzID0gW3ZhbHVlXVxyXG4gICAgc2V0RmV0Y2hlZFByb2R1Y3QoZmV0Y2hlZFByb2R1Y3QpXHJcbiAgfSwgW10pXHJcblxyXG4gIGNvbnN0IGNvbXBhcmVQcm9kdWN0ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY29tcGFyZWRQcm9kdWN0ID0gYnJhbmNoSW5mby5icmFuY2hQcm9kdWN0cy5pdGVtcy5maWx0ZXIoXHJcbiAgICAgIChicmFuY2hQcm9kdWN0KSA9PiBicmFuY2hQcm9kdWN0LnByb2R1Y3RJZCA9PT0gZmV0Y2hlZFByb2R1Y3QuaWRcclxuICAgIClcclxuXHJcbiAgICBpZiAoIWNvbXBhcmVkUHJvZHVjdCB8fCBjb21wYXJlZFByb2R1Y3QgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBzZXRCb251cyhjb21wYXJlZFByb2R1Y3RbMF0gPyBjb21wYXJlZFByb2R1Y3RbMF0udGFncyAmJiBjb21wYXJlZFByb2R1Y3RbMF0udGFnc1swXSA6IFwiXCIpXHJcblxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29tcGFyZVByb2R1Y3QoKVxyXG4gIH0sIFtwcm9kdWN0LCBicmFuY2hJbmZvXSlcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxUYWJsZS5Sb3cga2V5PXtmZXRjaGVkUHJvZHVjdC5pZH0+XHJcbiAgICAgIDxUYWJsZS5DZWxsPlxyXG4gICAgICAgIDxIZWFkZXIgYXM9XCJoNFwiIGltYWdlIGNsYXNzTmFtZT1cInByb2R1Y3QtaGVhZGVyXCI+XHJcbiAgICAgICAgICA8Q2hlY2tib3hcclxuICAgICAgICAgICAgY2hlY2tlZD17cm93SWQuaW5jbHVkZXMoZmV0Y2hlZFByb2R1Y3QuaWQpICYmIHRydWV9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKHJvd0lkLmluY2x1ZGVzKGZldGNoZWRQcm9kdWN0LmlkKSkge1xyXG4gICAgICAgICAgICAgICAgc2V0Um93SWQocm93SWQuZmlsdGVyKChpZCkgPT4gaWQgIT09IGZldGNoZWRQcm9kdWN0LmlkKSlcclxuICAgICAgICAgICAgICAgIHNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgcHJvZHVjdHM6IHN0YXRlLnByb2R1Y3RzLmZpbHRlcihcclxuICAgICAgICAgICAgICAgICAgICAoZmlsdGVyZWRQcm9kdWN0KSA9PiBmaWx0ZXJlZFByb2R1Y3QuaWQgIT09IGZldGNoZWRQcm9kdWN0LmlkXHJcbiAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXRSb3dJZChbLi4ucm93SWQsIGZldGNoZWRQcm9kdWN0LmlkXSlcclxuICAgICAgICAgICAgICAgIHNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgcHJvZHVjdHM6IFsuLi5zdGF0ZS5wcm9kdWN0cywgZmV0Y2hlZFByb2R1Y3RdLFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICAgPFRodW1ibmFpbCBzb3VyY2U9e2ZldGNoZWRQcm9kdWN0LmltYWdlfSBzaXplPVwic21hbGxcIiBhbHQ9XCJcIiAvPlxyXG4gICAgICAgICAgPEhlYWRlci5Db250ZW50PntmZXRjaGVkUHJvZHVjdC50aXRsZX08L0hlYWRlci5Db250ZW50PlxyXG4gICAgICAgIDwvSGVhZGVyPlxyXG4gICAgICA8L1RhYmxlLkNlbGw+XHJcbiAgICAgIDxUYWJsZS5DZWxsIHRleHRBbGlnbj1cImNlbnRlclwiPlxyXG4gICAgICAgIDxUZXh0U3R5bGUgdmFyaWF0aW9uPVwic3ViZHVlZFwiPlxyXG4gICAgICAgICAge2ZldGNoZWRQcm9kdWN0LnZhcmlhbnRzICYmIHRvQ3VycmVuY3koZmV0Y2hlZFByb2R1Y3QudmFyaWFudHMucHJpY2UpfVxyXG4gICAgICAgIDwvVGV4dFN0eWxlPlxyXG4gICAgICA8L1RhYmxlLkNlbGw+XHJcbiAgICAgIDxUYWJsZS5DZWxsPlxyXG4gICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgIGlkPVwicGVyY2VudGFnZS1pbnB1dFwiXHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIkJvbnVzIFBlcmNlbnRhZ2VcIlxyXG4gICAgICAgICAgdmFsdWU9e2JvbnVzfVxyXG4gICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUJvbnVzfVxyXG4gICAgICAgICAgcHJlZml4PXs8SWNvbiBuYW1lPVwicGVyY2VudFwiIC8+fVxyXG4gICAgICAgICAgZGlzYWJsZWQ9eyFyb3dJZC5pbmNsdWRlcyhmZXRjaGVkUHJvZHVjdC5pZCl9XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9UYWJsZS5DZWxsPlxyXG4gICAgPC9UYWJsZS5Sb3c+XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCcmFuY2hSb3dcclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IFRhYmxlIH0gZnJvbSBcInNlbWFudGljLXVpLXJlYWN0XCJcbmltcG9ydCB7IEFQSSwgZ3JhcGhxbE9wZXJhdGlvbiB9IGZyb20gXCJhd3MtYW1wbGlmeVwiXG5pbXBvcnQgeyBCYWRnZSwgQnV0dG9uIH0gZnJvbSBcIkBzaG9waWZ5L3BvbGFyaXNcIlxuaW1wb3J0IHsgdXNlRmV0Y2hQYXltZW50UmVxdWVzdCB9IGZyb20gXCIuLi9jb3JlL2hvb2tzXCJcbmltcG9ydCB7IHRvQ3VycmVuY3ksIGZvcm1hdERhdGUgfSBmcm9tIFwiLi4vdXRpbHMvaGVscGVyXCJcbmltcG9ydCBjb25maWcgZnJvbSBcImF3cy1hbXBsaWZ5XCJcbmltcG9ydCB7IGxpc3RQYXltZW50UmVxdWVzdCB9IGZyb20gXCIuLi9ncmFwaHFsL3F1ZXJpZXNcIlxuXG5BUEkuY29uZmlndXJlKGNvbmZpZylcblxuY29uc3QgRGVjbGluZWRQYXltZW50UmVxdWVzdCA9ICh7IGJyYW5jaElkIH0pID0+IHtcbiAgY29uc3QgW25leHRQYWdpbmF0ZVRva2VuLCBzZXROZXh0UGFnaW5hdGVUb2tlbl0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCBbcGF5bWVudFJlcXVlc3RJdGVtcywgc2V0UGF5bWVudFJlcXVlc3RJdGVtc10gPSB1c2VTdGF0ZShbXSlcblxuICBjb25zdCB7IGRhdGE6IHBheW1lbnRSZXF1ZXN0cywgcmVmZXRjaDogZ2V0UGF5bWVudFJlcXVlc3RzIH0gPSB1c2VGZXRjaFBheW1lbnRSZXF1ZXN0KFxuICAgIGJyYW5jaElkLFxuICAgIFwiREVDTElORURcIixcbiAgICAyMFxuICApXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBnZXRQYXltZW50UmVxdWVzdHMoKVxuICB9LCBbYnJhbmNoSWRdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0TmV4dFBhZ2luYXRlVG9rZW4ocGF5bWVudFJlcXVlc3RzICYmIHBheW1lbnRSZXF1ZXN0cy5kYXRhLmxpc3RQYXltZW50UmVxdWVzdHMubmV4dFRva2VuKVxuICAgIHNldFBheW1lbnRSZXF1ZXN0SXRlbXMocGF5bWVudFJlcXVlc3RzICYmIHBheW1lbnRSZXF1ZXN0cy5kYXRhLmxpc3RQYXltZW50UmVxdWVzdHMuaXRlbXMpXG4gIH0sIFtwYXltZW50UmVxdWVzdHNdKVxuXG4gIGNvbnN0IGxvYWRNb3JlID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBBUEkuZ3JhcGhxbChcbiAgICAgICAgZ3JhcGhxbE9wZXJhdGlvbihsaXN0UGF5bWVudFJlcXVlc3QsIHtcbiAgICAgICAgICBsaW1pdDogMjAsXG4gICAgICAgICAgbmV4dFRva2VuOiBuZXh0UGFnaW5hdGVUb2tlbixcbiAgICAgICAgICBicmFuY2hJZCxcbiAgICAgICAgICBzdGF0dXM6IFwiREVDTElORURcIixcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIHNldE5leHRQYWdpbmF0ZVRva2VuKHJlcy5kYXRhLmxpc3RQYXltZW50UmVxdWVzdHMubmV4dFRva2VuKVxuICAgICAgc2V0UGF5bWVudFJlcXVlc3RJdGVtcyhbLi4ucGF5bWVudFJlcXVlc3RJdGVtcywgLi4ucmVzLmRhdGEubGlzdFBheW1lbnRSZXF1ZXN0cy5pdGVtc10pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxUYWJsZSBjZWxsZWQ+XG4gICAgICAgIDxUYWJsZS5IZWFkZXI+XG4gICAgICAgICAgPFRhYmxlLlJvdz5cbiAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPkN1c3RvbWVyIElkPC9UYWJsZS5IZWFkZXJDZWxsPlxuICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+Qm9udXMgQW1vdW50PC9UYWJsZS5IZWFkZXJDZWxsPlxuICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+Q3JlYXRlZCBBdDwvVGFibGUuSGVhZGVyQ2VsbD5cbiAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPlVwZGF0ZWQgQXQ8L1RhYmxlLkhlYWRlckNlbGw+XG4gICAgICAgICAgICA8VGFibGUuSGVhZGVyQ2VsbD5TdGF0dXM8L1RhYmxlLkhlYWRlckNlbGw+XG4gICAgICAgICAgPC9UYWJsZS5Sb3c+XG4gICAgICAgIDwvVGFibGUuSGVhZGVyPlxuICAgICAgICA8VGFibGUuQm9keT5cbiAgICAgICAgICB7cGF5bWVudFJlcXVlc3RJdGVtcyAmJlxuICAgICAgICAgICAgcGF5bWVudFJlcXVlc3RJdGVtc1xuICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi51cGRhdGVkQXQpIC0gbmV3IERhdGUoYS51cGRhdGVkQXQpKVxuICAgICAgICAgICAgICAubWFwKChpdGVtKSA9PiAoXG4gICAgICAgICAgICAgICAgPFRhYmxlLlJvdyBrZXk9e2l0ZW0uaWR9PlxuICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+XG4gICAgICAgICAgICAgICAgICAgIDxCYWRnZSBzaXplPVwic21hbGxcIj57aXRlbS5jdXN0b21lcklkfTwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICA8L1RhYmxlLkNlbGw+XG4gICAgICAgICAgICAgICAgICA8VGFibGUuQ2VsbD57dG9DdXJyZW5jeShpdGVtLmJvbnVzQW1vdW50KX08L1RhYmxlLkNlbGw+XG4gICAgICAgICAgICAgICAgICA8VGFibGUuQ2VsbD57Zm9ybWF0RGF0ZShpdGVtLmNyZWF0ZWRBdCl9PC9UYWJsZS5DZWxsPlxuICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+e2Zvcm1hdERhdGUoaXRlbS51cGRhdGVkQXQpfTwvVGFibGUuQ2VsbD5cbiAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsPlxuICAgICAgICAgICAgICAgICAgICA8QmFkZ2Ugc2l6ZT1cInNtYWxsXCIgcHJvZ3Jlc3M9XCJpbmNvbXBsZXRlXCIgc3RhdHVzPVwiY3JpdGljYWxcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICA8L1RhYmxlLkNlbGw+XG4gICAgICAgICAgICAgICAgPC9UYWJsZS5Sb3c+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICA8L1RhYmxlLkJvZHk+XG4gICAgICA8L1RhYmxlPlxuICAgICAgPEJ1dHRvbiBkaXNhYmxlZD17IW5leHRQYWdpbmF0ZVRva2VufSBwcmltYXJ5IG9uQ2xpY2s9e2xvYWRNb3JlfT5cbiAgICAgICAgTG9hZCBtb3JlXG4gICAgICA8L0J1dHRvbj5cbiAgICA8Lz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBEZWNsaW5lZFBheW1lbnRSZXF1ZXN0XG4iLCJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IHVzZUZvcm0gfSBmcm9tICdyZWFjdC1ob29rLWZvcm0nXHJcbmltcG9ydCB7IENhcmQsIEJ1dHRvbiwgVGV4dEZpZWxkLCBGb3JtLCBGb3JtTGF5b3V0IH0gZnJvbSAnQHNob3BpZnkvcG9sYXJpcydcclxuaW1wb3J0IHsgSWNvbiwgRGltbWVyLCBMb2FkZXIgfSBmcm9tICdzZW1hbnRpYy11aS1yZWFjdCdcclxuaW1wb3J0IHsgdXNlTXV0YXRpb24gfSBmcm9tICdyZWFjdC1xdWVyeSdcclxuaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL3NlcnZpY2VzJ1xyXG5pbXBvcnQgeyB1c2VMb2dpbiB9IGZyb20gJy4uL2NvcmUvaG9va3MnXHJcblxyXG5jb25zdCBMb2dpbiA9ICh7IHNldFVzZXIgfSkgPT4ge1xyXG4gICAgY29uc3QgW3Bhc3N3b3JkLCBzZXRQYXNzd29yZF0gPSB1c2VTdGF0ZSgnJylcclxuICAgIGNvbnN0IFthY3RpdmVVc2VybmFtZSwgc2V0QWN0aXZlVXNlcm5hbWVdID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgICBjb25zdCBbYWN0aXZlUGFzc3dvcmQsIHNldEFjdGl2ZVBhc3N3b3JkXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG4gICAgY29uc3QgW3Nob3dQYXNzd29yZCwgc2V0U2hvd1Bhc3N3b3JkXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG5cclxuICAgIGNvbnN0IHBhc3N3b3JkUmVmID0gdXNlUmVmKG51bGwpXHJcbiAgICBjb25zdCB1c2VybmFtZVJlZiA9IHVzZVJlZihudWxsKVxyXG5cclxuICAgIGNvbnN0IHsgaGFuZGxlU3VibWl0LCBlcnJvcnMsIHJlZ2lzdGVyIH0gPSB1c2VGb3JtKClcclxuXHJcbiAgICBjb25zdCB7IGxvZ2luLCBzdGF0dXMsIGRhdGEsIGVycm9yIH0gPSB1c2VMb2dpbigpXHJcblxyXG4gICAgY29uc3Qgb25DaGFuZ2VVc2VybmFtZSA9IHVzZUNhbGxiYWNrKChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgICAgIHNldFVzZXJuYW1lKG5ld1ZhbHVlKVxyXG4gICAgfSwgW10pXHJcblxyXG4gICAgY29uc3Qgb25DaGFuZ2VQYXNzd29yZCA9IHVzZUNhbGxiYWNrKChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgICAgIHNldFBhc3N3b3JkKG5ld1ZhbHVlKVxyXG4gICAgfSwgW10pXHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBzZXRVc2VyKGRhdGEpXHJcbiAgICB9LCBbZGF0YV0pXHJcblxyXG4gICAgY29uc29sZS5sb2coJ1NpZ24gaW4gc3RhdHVzIGlzJywgc3RhdHVzKVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdXRoZW50aWNhdGlvbi1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgPENhcmQgdGl0bGU9XCJMb2cgaW50byB5b3VyIGJyYW5jaFwiIHNlY3Rpb25lZD5cclxuICAgICAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXQobG9naW4pfT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tY29udHJvbGxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwidXNlcm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtyZWdpc3Rlcih7IHJlcXVpcmVkOiAnVXNlcm5hbWUgaXMgcmVxdWlyZWQhJyB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldEFjdGl2ZVVzZXJuYW1lKHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRBY3RpdmVVc2VybmFtZShmYWxzZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJ1c2VyXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT17YWN0aXZlVXNlcm5hbWUgPyAnYWN0aXZlJyA6ICcnfSBodG1sRm9yPVwidXNlcm5hbWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJuYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtlcnJvcnMudXNlcm5hbWUgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZXJyb3Itbm90aWZpY2F0aW9uXCI+e2Vycm9ycy51c2VybmFtZS5tZXNzYWdlfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tY29udHJvbGxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwicGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT17c2hvd1Bhc3N3b3JkID8gJ3RleHQnIDogJ3Bhc3N3b3JkJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17cmVnaXN0ZXIoeyByZXF1aXJlZDogJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkIScgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFBhc3N3b3JkKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldEFjdGl2ZVBhc3N3b3JkKHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRBY3RpdmVQYXNzd29yZChmYWxzZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJsb2NrXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT17YWN0aXZlUGFzc3dvcmQgPyAnYWN0aXZlJyA6ICcnfSBodG1sRm9yPVwicGFzc3dvcmRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3Bhc3N3b3JkID8gJ3Nob3ctZXllJyA6ICdub3Qtc2hvdy1leWUnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1Bhc3N3b3JkKCFzaG93UGFzc3dvcmQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT17c2hvd1Bhc3N3b3JkID8gJ2V5ZSBzbGFzaCcgOiAnZXllJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBzaG93UGFzc3dvcmQgPyAnIzY3NzRjOCcgOiAnJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZXJyb3JzLnBhc3N3b3JkICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImVycm9yLW5vdGlmaWNhdGlvblwiPntlcnJvcnMucGFzc3dvcmQubWVzc2FnZX08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBwcmltYXJ5IHN1Ym1pdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cInNpZ24taW5cIiAvPiBMb2dpblxyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExvZ2luXHJcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiXHJcbmltcG9ydCB7IEFQSSwgZ3JhcGhxbE9wZXJhdGlvbiB9IGZyb20gXCJhd3MtYW1wbGlmeVwiXHJcbmltcG9ydCB7IFBhZ2UsIENhcmQsIFRvYXN0LCBGcmFtZSwgVGFicywgQnV0dG9uIH0gZnJvbSBcIkBzaG9waWZ5L3BvbGFyaXNcIlxyXG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi9hd3MtZXhwb3J0c1wiXHJcbmltcG9ydCBBY2NlcHRlZFBheW1lbnRSZXF1ZXN0IGZyb20gXCIuL0FjY2VwdGVkUGF5bWVudFJlcXVlc3RcIlxyXG5pbXBvcnQgUGVuZGluZ1BheW1lbnRSZXF1ZXN0IGZyb20gXCIuL1BlbmRpbmdQYXltZW50UmVxdWVzdFwiXHJcbmltcG9ydCBEZWNsaW5lZFBheW1lbnRSZXF1ZXN0IGZyb20gXCIuL0RlY2xpbmVkUGF5bWVudFJlcXVlc3RcIlxyXG5pbXBvcnQgeyBvblVwZGF0ZVBheW1lbnRTdWJzY3JpcHRpb24sIHBheW1lbnRTdWJzY3JpcHRpb24gfSBmcm9tIFwiLi4vZ3JhcGhxbC9zdWJzY3JpcHRpb25zXCJcclxuXHJcbkFQSS5jb25maWd1cmUoY29uZmlnKVxyXG5cclxuY29uc3QgQWNjZXB0UGF5bWVudCA9ICh7IGJyYW5jaElkLCBzZXRTaG93UGF5bWVudFJlcXVlc3QgfSkgPT4ge1xyXG4gIGNvbnN0IFthY3RpdmVUb2FzdCwgc2V0QWN0aXZlVG9hc3RdID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgY29uc3QgW3NlbGVjdGVkLCBzZXRTZWxlY3RlZF0gPSB1c2VTdGF0ZSgwKVxyXG4gIGNvbnN0IFtjcmVhdGVVcGRhdGVQYXltZW50U3Vic2NyaXB0aW9uLCBzZXRDcmVhdGVVcGRhdGVQYXltZW50U3Vic2NyaXB0aW9uXSA9IHVzZVN0YXRlKFwiXCIpXHJcblxyXG4gIGNvbnN0IGhhbmRsZVRhYkNoYW5nZSA9IHVzZUNhbGxiYWNrKChzZWxlY3RlZFRhYkluZGV4KSA9PiBzZXRTZWxlY3RlZChzZWxlY3RlZFRhYkluZGV4KSwgW10pXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBsaXN0ZW5lciA9IEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24ocGF5bWVudFN1YnNjcmlwdGlvbikpLnN1YnNjcmliZSh7XHJcbiAgICAgIG5leHQ6IChwYXltZW50UmVzcG9uc2UpID0+IHtcclxuICAgICAgICBzZXRDcmVhdGVVcGRhdGVQYXltZW50U3Vic2NyaXB0aW9uKHBheW1lbnRSZXNwb25zZSlcclxuICAgICAgfSxcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3Qgb25VcGRhdGVQYXltZW50ID0gQVBJLmdyYXBocWwoZ3JhcGhxbE9wZXJhdGlvbihvblVwZGF0ZVBheW1lbnRTdWJzY3JpcHRpb24pKS5zdWJzY3JpYmUoe1xyXG4gICAgICBuZXh0OiAob25VcGRhdGVQYXltZW50UmVzcG9uc2UpID0+IHtcclxuICAgICAgICBzZXRDcmVhdGVVcGRhdGVQYXltZW50U3Vic2NyaXB0aW9uKG9uVXBkYXRlUGF5bWVudFJlc3BvbnNlKVxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBsaXN0ZW5lci51bnN1YnNjcmliZSgpXHJcbiAgICAgIG9uVXBkYXRlUGF5bWVudC51bnN1YnNjcmliZSgpXHJcbiAgICB9XHJcbiAgfSwgW10pXHJcblxyXG4gIGNvbnN0IHRhYnMgPSBbXHJcbiAgICB7XHJcbiAgICAgIGlkOiBcInBlbmRpbmctcGF5bWVudHNcIixcclxuICAgICAgY29udGVudDogXCJQZW5kaW5nIFBheW1lbnQgUmVxdWVzdHNcIixcclxuICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsOiBcIlBlbmRpbmcgUmVxdWVzdHNcIixcclxuICAgICAgcGFuZWxJRDogXCJwZW5kaW5nLXBheW1lbnRzLWNvbnRlbnRcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGlkOiBcImFjY2VwdGVkLXBheW1lbnRzXCIsXHJcbiAgICAgIGNvbnRlbnQ6IFwiQWNjZXB0ZWQgUGF5bWVudCBSZXF1ZXN0c1wiLFxyXG4gICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw6IFwiQWNjZXB0ZWQgUmVxdWVzdFwiLFxyXG4gICAgICBwYW5lbElEOiBcImFjY2VwdGVkLXBheW1lbnRzLWNvbnRlbnRcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGlkOiBcImRlY2xpbmVkLXBheW1lbnRzXCIsXHJcbiAgICAgIGNvbnRlbnQ6IFwiRGVjbGluZWQgUGF5bWVudCBSZXF1ZXN0c1wiLFxyXG4gICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw6IFwiRGVjbGluZWQgUmVxdWVzdHNcIixcclxuICAgICAgcGFuZWxJRDogXCJkZWNsaW5lZC1wYXltZW50cy1jb250ZW50XCIsXHJcbiAgICB9LFxyXG4gIF1cclxuXHJcbiAgY29uc3QgdG9hc3RNYXJrdXAgPSBhY3RpdmVUb2FzdCA/IChcclxuICAgIDxUb2FzdCBjb250ZW50PVwiT3JkZXIgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGNyZWF0ZWRcIiBvbkRpc21pc3M9eygpID0+IHNldEFjdGl2ZVRvYXN0KGZhbHNlKX0gLz5cclxuICApIDogbnVsbFxyXG5cclxuICBjb25zdCByZW5kZXJQYXltZW50UmVxdWVzdCA9IChzZWxlY3RlZCkgPT4ge1xyXG4gICAgc3dpdGNoIChzZWxlY3RlZCkge1xyXG4gICAgICBjYXNlIDA6XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxQZW5kaW5nUGF5bWVudFJlcXVlc3RcclxuICAgICAgICAgICAgYnJhbmNoSWQ9e2JyYW5jaElkfVxyXG4gICAgICAgICAgICBjcmVhdGVVcGRhdGVQYXltZW50U3Vic2NyaXB0aW9uPXtjcmVhdGVVcGRhdGVQYXltZW50U3Vic2NyaXB0aW9ufVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApXHJcbiAgICAgIGNhc2UgMTpcclxuICAgICAgICByZXR1cm4gPEFjY2VwdGVkUGF5bWVudFJlcXVlc3QgYnJhbmNoSWQ9e2JyYW5jaElkfSAvPlxyXG4gICAgICBjYXNlIDI6XHJcbiAgICAgICAgcmV0dXJuIDxEZWNsaW5lZFBheW1lbnRSZXF1ZXN0IGJyYW5jaElkPXticmFuY2hJZH0gLz5cclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8RnJhbWU+XHJcbiAgICAgIDxQYWdlIHRpdGxlPVwiUGF5bWVudCBSZXF1ZXN0XCI+XHJcbiAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93UGF5bWVudFJlcXVlc3QoZmFsc2UpfT5HbyBiYWNrPC9CdXR0b24+XHJcbiAgICAgICAgPENhcmQ+XHJcbiAgICAgICAgICA8VGFicyB0YWJzPXt0YWJzfSBzZWxlY3RlZD17c2VsZWN0ZWR9IG9uU2VsZWN0PXtoYW5kbGVUYWJDaGFuZ2V9PlxyXG4gICAgICAgICAgICA8Q2FyZC5TZWN0aW9uIHRpdGxlPXt0YWJzW3NlbGVjdGVkXS5jb250ZW50fT5cclxuICAgICAgICAgICAgICB7cmVuZGVyUGF5bWVudFJlcXVlc3Qoc2VsZWN0ZWQpfVxyXG4gICAgICAgICAgICA8L0NhcmQuU2VjdGlvbj5cclxuICAgICAgICAgIDwvVGFicz5cclxuICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICAge3RvYXN0TWFya3VwfVxyXG4gICAgICA8L1BhZ2U+XHJcbiAgICA8L0ZyYW1lPlxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQWNjZXB0UGF5bWVudFxyXG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgVGFibGUsIEljb24sIFBvcHVwLCBIZWFkZXIgfSBmcm9tIFwic2VtYW50aWMtdWktcmVhY3RcIlxuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tIFwiQHNob3BpZnkvcG9sYXJpc1wiXG5pbXBvcnQgeyB1c2VGZXRjaFBheW1lbnRSZXF1ZXN0LCB1c2VVcGRhdGVQYXltZW50UmVxdWVzdCB9IGZyb20gXCIuLi9jb3JlL2hvb2tzXCJcbmltcG9ydCB7IHRvQ3VycmVuY3ksIGZvcm1hdERhdGUgfSBmcm9tIFwiLi4vdXRpbHMvaGVscGVyXCJcbmltcG9ydCBQcm9kdWN0TGlzdCBmcm9tIFwiLi9Qcm9kdWN0c0xpc3RcIlxuaW1wb3J0IHsgdXBkYXRlUGF5bWVudFJlcXVlc3QgfSBmcm9tIFwiLi4vZ3JhcGhxbC9tdXRhdGlvblwiXG5pbXBvcnQgeyBsaXN0UGF5bWVudFJlcXVlc3QgfSBmcm9tIFwiLi4vZ3JhcGhxbC9xdWVyaWVzXCJcbmltcG9ydCB7IHBheW1lbnRTdWJzY3JpcHRpb24gfSBmcm9tIFwiLi4vZ3JhcGhxbC9zdWJzY3JpcHRpb25zXCJcblxuY29uc3QgUGVuZGluZ1BheW1lbnRSZXF1ZXN0ID0gKHsgY3JlYXRlVXBkYXRlUGF5bWVudFN1YnNjcmlwdGlvbiwgYnJhbmNoSWQgfSkgPT4ge1xuICBjb25zdCBbcGF5bWVudFJlcXVlc3RJZCwgc2V0UGF5bWVudFJlcXVlc3RJZF0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCBbYWN0aXZlLCBzZXRBY3RpdmVdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtwYXltZW50UmVxdWVzdEl0ZW1zLCBzZXRQYXltZW50UmVxdWVzdEl0ZW1zXSA9IHVzZVN0YXRlKFtdKVxuICBjb25zdCB7IGRhdGE6IHBheW1lbnRSZXF1ZXN0cywgcmVmZXRjaDogZ2V0UGF5bWVudFJlcXVlc3RzIH0gPSB1c2VGZXRjaFBheW1lbnRSZXF1ZXN0KFxuICAgIGJyYW5jaElkLFxuICAgIFwiUEVORElOR1wiXG4gIClcbiAgY29uc3QgeyB1cGRhdGVQYXltZW50UmVxdWVzdCB9ID0gdXNlVXBkYXRlUGF5bWVudFJlcXVlc3QoKVxuXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IHVzZUNhbGxiYWNrKCgpID0+IHNldEFjdGl2ZSghYWN0aXZlKSwgW2FjdGl2ZV0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBnZXRQYXltZW50UmVxdWVzdHMoKVxuICB9LCBbYnJhbmNoSWQsIGNyZWF0ZVVwZGF0ZVBheW1lbnRTdWJzY3JpcHRpb25dKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0UGF5bWVudFJlcXVlc3RJdGVtcyhwYXltZW50UmVxdWVzdHMgJiYgcGF5bWVudFJlcXVlc3RzLmRhdGEubGlzdFBheW1lbnRSZXF1ZXN0cy5pdGVtcylcbiAgfSwgW3BheW1lbnRSZXF1ZXN0c10pXG5cbiAgY29uc3QgZGVjbGluZVBheW1lbnQgPSAocGF5bWVudElkKSA9PiB7XG4gICAgdXBkYXRlUGF5bWVudFJlcXVlc3QoeyBwYXltZW50SWQsIHN0YXR1czogXCJERUNMSU5FRFwiIH0pXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8VGFibGUgc2VsZWN0YWJsZSBjZWxsZWQ+XG4gICAgICAgIDxUYWJsZS5IZWFkZXI+XG4gICAgICAgICAgPFRhYmxlLlJvdz5cbiAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPkN1c3RvbWVyIElkPC9UYWJsZS5IZWFkZXJDZWxsPlxuICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+Qm9udXMgQW1vdW50PC9UYWJsZS5IZWFkZXJDZWxsPlxuICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+Q3JlYXRlZCBBdDwvVGFibGUuSGVhZGVyQ2VsbD5cbiAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPlVwZGF0ZWQgQXQ8L1RhYmxlLkhlYWRlckNlbGw+XG4gICAgICAgICAgICA8VGFibGUuSGVhZGVyQ2VsbD5TdGF0dXM8L1RhYmxlLkhlYWRlckNlbGw+XG4gICAgICAgICAgICA8VGFibGUuSGVhZGVyQ2VsbD5BY3Rpb248L1RhYmxlLkhlYWRlckNlbGw+XG4gICAgICAgICAgPC9UYWJsZS5Sb3c+XG4gICAgICAgIDwvVGFibGUuSGVhZGVyPlxuICAgICAgICA8VGFibGUuQm9keT5cbiAgICAgICAgICB7cGF5bWVudFJlcXVlc3RJdGVtcyAmJlxuICAgICAgICAgICAgcGF5bWVudFJlcXVlc3RJdGVtc1xuICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi51cGRhdGVkQXQpIC0gbmV3IERhdGUoYS51cGRhdGVkQXQpKVxuICAgICAgICAgICAgICAubWFwKChpdGVtKSA9PiAoXG4gICAgICAgICAgICAgICAgPFRhYmxlLlJvdyBrZXk9e2l0ZW0uaWR9PlxuICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+XG4gICAgICAgICAgICAgICAgICAgIDxCYWRnZSBzaXplPVwic21hbGxcIj57aXRlbS5jdXN0b21lcklkfTwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICA8L1RhYmxlLkNlbGw+XG4gICAgICAgICAgICAgICAgICA8VGFibGUuQ2VsbD57dG9DdXJyZW5jeShpdGVtLmJvbnVzQW1vdW50KX08L1RhYmxlLkNlbGw+XG4gICAgICAgICAgICAgICAgICA8VGFibGUuQ2VsbD57Zm9ybWF0RGF0ZShpdGVtLmNyZWF0ZWRBdCl9PC9UYWJsZS5DZWxsPlxuICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+e2Zvcm1hdERhdGUoaXRlbS51cGRhdGVkQXQpfTwvVGFibGUuQ2VsbD5cbiAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsPlxuICAgICAgICAgICAgICAgICAgICA8QmFkZ2Ugc2l6ZT1cInNtYWxsXCIgcHJvZ3Jlc3M9XCJwYXJ0aWFsbHlDb21wbGV0ZVwiIHN0YXR1cz1cImF0dGVudGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLnN0YXR1c31cbiAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgIDwvVGFibGUuQ2VsbD5cbiAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsIGNsYXNzTmFtZT1cImFjdGlvbnMtY2VsbFwiPlxuICAgICAgICAgICAgICAgICAgICA8UG9wdXBcbiAgICAgICAgICAgICAgICAgICAgICBjb250ZW50PVwiQXBwcm92ZSBwYXltZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyPXtcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFjY2VwdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJjaGVja1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXltZW50UmVxdWVzdElkKGl0ZW0uaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ2hhbmdlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8UG9wdXBcbiAgICAgICAgICAgICAgICAgICAgICBjb250ZW50PVwiRGVjbGluZSBwYXltZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyPXtcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRlY2xpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwicmVtb3ZlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2xpbmVQYXltZW50KGl0ZW0uaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvVGFibGUuQ2VsbD5cbiAgICAgICAgICAgICAgICA8L1RhYmxlLlJvdz5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgIDwvVGFibGUuQm9keT5cbiAgICAgIDwvVGFibGU+XG4gICAgICA8UHJvZHVjdExpc3RcbiAgICAgICAgcGF5bWVudFJlcXVlc3RJZD17cGF5bWVudFJlcXVlc3RJZH1cbiAgICAgICAgYWN0aXZlPXthY3RpdmV9XG4gICAgICAgIGhhbmRsZUNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgLz5cbiAgICA8Lz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBQZW5kaW5nUGF5bWVudFJlcXVlc3RcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gXCJAYXBvbGxvL2NsaWVudFwiXG5pbXBvcnQgeyBNb2RhbCwgVGh1bWJuYWlsLCBDaGVja2JveCwgVGV4dFN0eWxlIH0gZnJvbSBcIkBzaG9waWZ5L3BvbGFyaXNcIlxuaW1wb3J0IHsgVGFibGUsIEhlYWRlciB9IGZyb20gXCJzZW1hbnRpYy11aS1yZWFjdFwiXG5pbXBvcnQgeyB1c2VVcGRhdGVQYXltZW50UmVxdWVzdCB9IGZyb20gXCIuLi9jb3JlL2hvb2tzXCJcbmltcG9ydCB7IHRvQ3VycmVuY3kgfSBmcm9tIFwiLi4vdXRpbHMvaGVscGVyXCJcbmltcG9ydCB7IGxpc3RQcm9kdWN0cyB9IGZyb20gXCIuLi9ncmFwaHFsL3F1ZXJpZXNcIlxuaW1wb3J0IHsgdXBkYXRlUGF5bWVudFJlcXVlc3QgfSBmcm9tIFwiLi4vZ3JhcGhxbC9tdXRhdGlvblwiXG5cbmNvbnN0IFByb2R1Y3RzTGlzdCA9ICh7IGFjdGl2ZSwgaGFuZGxlQ2hhbmdlLCBwYXltZW50UmVxdWVzdElkIH0pID0+IHtcbiAgY29uc3QgeyBsb2FkaW5nLCBlcnJvciwgZGF0YSB9ID0gdXNlUXVlcnkobGlzdFByb2R1Y3RzKVxuICBjb25zdCBbcm93SWQsIHNldFJvd0lkXSA9IHVzZVN0YXRlKFtdKVxuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKHtcbiAgICBwcm9kdWN0czogW10sXG4gIH0pXG5cbiAgY29uc3QgeyB1cGRhdGVQYXltZW50UmVxdWVzdCB9ID0gdXNlVXBkYXRlUGF5bWVudFJlcXVlc3QoKVxuXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIDxkaXY+TG9hZGluZyBwcm9kdWN0cy4uLjwvZGl2PlxuICB9XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIDxkaXY+U29tZSBlcnJvciBvY2N1cmVkPC9kaXY+XG4gIH1cblxuICBjb25zdCBhY2NlcHRQYXltZW50ID0gKCkgPT4ge1xuICAgIHJldHVybiB1cGRhdGVQYXltZW50UmVxdWVzdCh7XG4gICAgICBwYXltZW50SWQ6IHBheW1lbnRSZXF1ZXN0SWQsXG4gICAgICBzdGF0dXM6IFwiQVBQUk9WRURcIixcbiAgICAgIHByb2R1Y3RzOiBzdGF0ZS5wcm9kdWN0cy5tYXAoKHByb2R1Y3QpID0+ICh7XG4gICAgICAgIG9yaWdpbmFsVW5pdFByaWNlOiBwcm9kdWN0Lm5vZGUudmFyaWFudHMuZWRnZXNbMF0ubm9kZS5wcmljZSxcbiAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgIHZhcmlhbnRJZDogcHJvZHVjdC5ub2RlLnZhcmlhbnRzLmVkZ2VzWzBdLm5vZGUuaWQsXG4gICAgICB9KSksXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPE1vZGFsXG4gICAgICBvcGVuPXthY3RpdmV9XG4gICAgICBvbkNsb3NlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICB0aXRsZT1cIkNob29zZSBwcm9kdWN0c1wiXG4gICAgICBwcmltYXJ5QWN0aW9uPXt7XG4gICAgICAgIGNvbnRlbnQ6IFwiUHJvY2VlZFwiLFxuICAgICAgICBvbkFjdGlvbjogKCkgPT4ge1xuICAgICAgICAgIGFjY2VwdFBheW1lbnQoKVxuICAgICAgICAgIGhhbmRsZUNoYW5nZSgpXG4gICAgICAgIH0sXG4gICAgICB9fT5cbiAgICAgIDxNb2RhbC5TZWN0aW9uPlxuICAgICAgICA8VGFibGUgY2VsbGVkIHN0cmlwZWQgc2VsZWN0YWJsZT5cbiAgICAgICAgICA8VGFibGUuSGVhZGVyPlxuICAgICAgICAgICAgPFRhYmxlLlJvdz5cbiAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+UHJvZHVjdHM8L1RhYmxlLkhlYWRlckNlbGw+XG4gICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPkRlc2NyaXB0aW9uPC9UYWJsZS5IZWFkZXJDZWxsPlxuICAgICAgICAgICAgICA8VGFibGUuSGVhZGVyQ2VsbCB0ZXh0QWxpZ249XCJjZW50ZXJcIj5QcmljZTwvVGFibGUuSGVhZGVyQ2VsbD5cbiAgICAgICAgICAgIDwvVGFibGUuUm93PlxuICAgICAgICAgIDwvVGFibGUuSGVhZGVyPlxuICAgICAgICAgIDxUYWJsZS5Cb2R5PlxuICAgICAgICAgICAge2RhdGEgJiZcbiAgICAgICAgICAgICAgZGF0YS5wcm9kdWN0cy5lZGdlcy5tYXAoKHByb2R1Y3QpID0+IChcbiAgICAgICAgICAgICAgICA8VGFibGUuUm93XG4gICAgICAgICAgICAgICAgICBrZXk9e3Byb2R1Y3Qubm9kZS5pZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd0lkLmluY2x1ZGVzKHByb2R1Y3Qubm9kZS5pZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRSb3dJZChyb3dJZC5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gcHJvZHVjdC5ub2RlLmlkKSlcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0czogc3RhdGUucHJvZHVjdHMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoZmlsdGVyZWRQcm9kdWN0KSA9PiBmaWx0ZXJlZFByb2R1Y3Qubm9kZS5pZCAhPT0gcHJvZHVjdC5ub2RlLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Um93SWQoWy4uLnJvd0lkLCBwcm9kdWN0Lm5vZGUuaWRdKVxuICAgICAgICAgICAgICAgICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM6IFsuLi5zdGF0ZS5wcm9kdWN0cywgcHJvZHVjdF0sXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICA8VGFibGUuQ2VsbD5cbiAgICAgICAgICAgICAgICAgICAgPEhlYWRlciBhcz1cImg0XCIgaW1hZ2UgY2xhc3NOYW1lPVwicHJvZHVjdC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggY2hlY2tlZD17cm93SWQuaW5jbHVkZXMocHJvZHVjdC5ub2RlLmlkKSAmJiB0cnVlfSAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxUaHVtYm5haWxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Qubm9kZS5pbWFnZXMuZWRnZXNbMF0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdC5ub2RlLmltYWdlcy5lZGdlc1swXS5ub2RlLm9yaWdpbmFsU3JjXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxIZWFkZXIuQ29udGVudD57cHJvZHVjdC5ub2RlLnRpdGxlfTwvSGVhZGVyLkNvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgIDwvSGVhZGVyPlxuICAgICAgICAgICAgICAgICAgPC9UYWJsZS5DZWxsPlxuICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+XG4gICAgICAgICAgICAgICAgICAgIDxUZXh0U3R5bGUgdmFyaWF0aW9uPVwic3ViZHVlZFwiPntwcm9kdWN0Lm5vZGUuZGVzY3JpcHRpb259PC9UZXh0U3R5bGU+XG4gICAgICAgICAgICAgICAgICA8L1RhYmxlLkNlbGw+XG4gICAgICAgICAgICAgICAgICA8VGFibGUuQ2VsbCB0ZXh0QWxpZ249XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPFRleHRTdHlsZSB2YXJpYXRpb249XCJzdWJkdWVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3Byb2R1Y3Qubm9kZS52YXJpYW50cy5lZGdlc1swXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdG9DdXJyZW5jeShwcm9kdWN0Lm5vZGUudmFyaWFudHMuZWRnZXNbMF0ubm9kZS5wcmljZSl9XG4gICAgICAgICAgICAgICAgICAgIDwvVGV4dFN0eWxlPlxuICAgICAgICAgICAgICAgICAgPC9UYWJsZS5DZWxsPlxuICAgICAgICAgICAgICAgIDwvVGFibGUuUm93PlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICA8L1RhYmxlLkJvZHk+XG4gICAgICAgICAgPFRhYmxlLkZvb3RlciBmdWxsV2lkdGg+XG4gICAgICAgICAgICA8VGFibGUuUm93PjwvVGFibGUuUm93PlxuICAgICAgICAgIDwvVGFibGUuRm9vdGVyPlxuICAgICAgICA8L1RhYmxlPlxuICAgICAgPC9Nb2RhbC5TZWN0aW9uPlxuICAgIDwvTW9kYWw+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdHNMaXN0XG4iLCJleHBvcnQgeyBkZWZhdWx0IGFzIHVzZUxvZ2luIH0gZnJvbSAnLi91c2VMb2dpbidcclxuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VGZXRjaFBheW1lbnRSZXF1ZXN0IH0gZnJvbSAnLi91c2VGZXRjaFBheW1lbnRSZXF1ZXN0J1xyXG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZVVwZGF0ZVBheW1lbnRSZXF1ZXN0IH0gZnJvbSAnLi91c2VVcGRhdGVQYXltZW50UmVxdWVzdCdcclxuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VCcmFuY2hFbnRpdHkgfSBmcm9tICcuL3VzZUJyYW5jaEVudGl0eSdcclxuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VTaWduVXAgfSBmcm9tICcuL3VzZVNpZ25VcCdcclxuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VDb25maXJtU2lnblVwIH0gZnJvbSAnLi91c2VDb25maXJtU2lnblVwJ1xyXG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZUNyZWF0ZUJyYW5jaCB9IGZyb20gJy4vdXNlQ3JlYXRlQnJhbmNoJ1xyXG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZUxpc3RCcmFuY2hlcyB9IGZyb20gJy4vdXNlTGlzdEJyYW5jaGVzJ1xyXG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZUJyYW5jaEJ5QWRtaW4gfSBmcm9tICcuL3VzZUJyYW5jaEJ5QWRtaW4nXHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlRGVsZXRlQnJhbmNoIH0gZnJvbSAnLi91c2VEZWxldGVCcmFuY2gnXHJcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxyXG5pbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gXCJyZWFjdC1xdWVyeVwiXHJcbmltcG9ydCB7IEJyYW5jaFNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXNcIlxyXG5cclxuY29uc3QgdXNlQnJhbmNoQnlBZG1pbiA9IChhZG1pbklkKSA9PiB7XHJcbiAgY29uc3QgYnJhbmNoQnlBZG1pbiA9IHVzZVF1ZXJ5KFtcImJyYW5jaC1ieS1hZG1pblwiLCB7IGFkbWluSWQgfV0sIEJyYW5jaFNlcnZpY2UuZ2V0QnJhbmNoQnlBZG1pbiwge1xyXG4gICAgZW5hYmxlZDogZmFsc2UsXHJcbiAgfSlcclxuXHJcbiAgcmV0dXJuIGJyYW5jaEJ5QWRtaW5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlQnJhbmNoQnlBZG1pblxyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSBcInJlYWN0LXF1ZXJ5XCJcbmltcG9ydCB7IEJyYW5jaFNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXNcIlxuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi4vLi4vYXdzLWV4cG9ydHNcIlxuXG5jb25zdCB1c2VCcmFuY2hFbnRpdHkgPSAoYnJhbmNoSWQpID0+IHtcbiAgY29uc3QgYnJhbmNoSW5mbyA9IHVzZVF1ZXJ5KFtcImJyYW5jaC1lbnRpdHlcIiwgeyBicmFuY2hJZCB9XSwgQnJhbmNoU2VydmljZS5nZXRCcmFuY2gsIHtcbiAgICBlbmFibGVkOiBmYWxzZSxcbiAgfSlcblxuICByZXR1cm4gYnJhbmNoSW5mb1xufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VCcmFuY2hFbnRpdHlcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxyXG5pbXBvcnQgeyB1c2VNdXRhdGlvbiB9IGZyb20gXCJyZWFjdC1xdWVyeVwiXHJcbmltcG9ydCB7IEF1dGhTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzXCJcclxuXHJcbmNvbnN0IHVzZUNvbmZpcm1TaWduVXAgPSAoKSA9PiB7XHJcbiAgY29uc3QgW2NvbmZpcm1TaWduVXAsIHsgc3RhdHVzLCBlcnJvciwgZGF0YSB9XSA9IHVzZU11dGF0aW9uKEF1dGhTZXJ2aWNlLmNvbmZpcm1TaWduVXApXHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBjb25maXJtU2lnblVwLFxyXG4gICAgc3RhdHVzLFxyXG4gICAgZGF0YSxcclxuICAgIGVycm9yLFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlQ29uZmlybVNpZ25VcFxyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcclxuaW1wb3J0IHsgdXNlTXV0YXRpb24gfSBmcm9tIFwicmVhY3QtcXVlcnlcIlxyXG5pbXBvcnQgeyBCcmFuY2hTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzXCJcclxuXHJcbmNvbnN0IHVzZUNyZWF0ZUJyYW5jaCA9ICgpID0+IHtcclxuICBjb25zdCBbY3JlYXRlQnJhbmNoLCB7IGlzTG9hZGluZywgZXJyb3IsIGRhdGEgfV0gPSB1c2VNdXRhdGlvbihCcmFuY2hTZXJ2aWNlLmNyZWF0ZUJyYW5jaEVudGl0eSlcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGNyZWF0ZUJyYW5jaCxcclxuICAgIGlzTG9hZGluZyxcclxuICAgIGVycm9yLFxyXG4gICAgZGF0YSxcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZUNyZWF0ZUJyYW5jaFxyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IHVzZU11dGF0aW9uIH0gZnJvbSAncmVhY3QtcXVlcnknXHJcbmltcG9ydCB7IEJyYW5jaFNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcydcclxuXHJcbmNvbnN0IHVzZURlbGV0ZUJyYW5jaCA9ICgpID0+IHtcclxuICAgIGNvbnN0IFtkZWxldGVCcmFuY2gsIHsgaXNMb2FkaW5nLCBlcnJvciwgZGF0YSB9XSA9IHVzZU11dGF0aW9uKEJyYW5jaFNlcnZpY2UuZGVsZXRlQnJhbmNoKVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGVsZXRlQnJhbmNoLFxyXG4gICAgICAgIGlzTG9hZGluZyxcclxuICAgICAgICBlcnJvcixcclxuICAgICAgICBkYXRhXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZURlbGV0ZUJyYW5jaFxyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSBcInJlYWN0LXF1ZXJ5XCJcbmltcG9ydCB7IFBheW1lbnRTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzXCJcblxuY29uc3QgdXNlRmV0Y2hQYXltZW50UmVxdWVzdCA9IChicmFuY2hJZCwgc3RhdHVzLCBsaW1pdCkgPT4ge1xuICBjb25zdCBwYXltZW50UmVxdWVzdHMgPSB1c2VRdWVyeShcbiAgICBbXCJwYXltZW50LXJlcXVlc3RcIiwgeyBicmFuY2hJZCwgc3RhdHVzLCBsaW1pdCB9XSxcbiAgICBQYXltZW50U2VydmljZS5mZXRjaFBheW1lbnRSZXF1ZXN0LFxuICAgIHsgZW5hYmxlZDogZmFsc2UgfVxuICApXG4gIHJldHVybiBwYXltZW50UmVxdWVzdHNcbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlRmV0Y2hQYXltZW50UmVxdWVzdFxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXHJcbmltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSBcInJlYWN0LXF1ZXJ5XCJcclxuaW1wb3J0IHsgQnJhbmNoU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlc1wiXHJcbmltcG9ydCBjb25maWcgZnJvbSBcIi4uLy4uL2F3cy1leHBvcnRzXCJcclxuXHJcbmNvbnN0IHVzZUJyYW5jaEVudGl0eSA9ICgpID0+IHtcclxuICBjb25zdCBicmFuY2hJbmZvID0gdXNlUXVlcnkoW1wibGlzdC1icmFuY2hlc1wiXSwgQnJhbmNoU2VydmljZS5saXN0QnJhbmNoRW50aXRpZXMsIHtcclxuICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gIH0pXHJcblxyXG4gIHJldHVybiBicmFuY2hJbmZvXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZUJyYW5jaEVudGl0eVxyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHVzZU11dGF0aW9uIH0gZnJvbSBcInJlYWN0LXF1ZXJ5XCJcbmltcG9ydCB7IEF1dGhTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzXCJcblxuY29uc3QgdXNlTG9naW4gPSAoKSA9PiB7XG4gIGNvbnN0IFtsb2dpbiwgeyBzdGF0dXMsIGVycm9yLCBkYXRhIH1dID0gdXNlTXV0YXRpb24oQXV0aFNlcnZpY2UubG9naW4pXG5cbiAgcmV0dXJuIHtcbiAgICBsb2dpbixcbiAgICBzdGF0dXMsXG4gICAgZGF0YSxcbiAgICBlcnJvcixcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VMb2dpblxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXHJcbmltcG9ydCB7IHVzZU11dGF0aW9uIH0gZnJvbSBcInJlYWN0LXF1ZXJ5XCJcclxuaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXNcIlxyXG5cclxuY29uc3QgdXNlU2lnblVwID0gKCkgPT4ge1xyXG4gIGNvbnN0IFtzaWduVXNlclVwLCB7IHN0YXR1cywgZXJyb3IsIGRhdGEgfV0gPSB1c2VNdXRhdGlvbihBdXRoU2VydmljZS5zaWduVXApXHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBzaWduVXNlclVwLFxyXG4gICAgc3RhdHVzLFxyXG4gICAgZGF0YSxcclxuICAgIGVycm9yLFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlU2lnblVwXHJcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgdXNlTXV0YXRpb24gfSBmcm9tIFwicmVhY3QtcXVlcnlcIlxuaW1wb3J0IHsgUGF5bWVudFNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXNcIlxuXG5jb25zdCB1c2VVcGRhdGVQYXltZW50UmVxdWVzdCA9ICgpID0+IHtcbiAgY29uc3QgW3VwZGF0ZVBheW1lbnRSZXF1ZXN0LCB7IGlzTG9hZGluZywgZXJyb3IsIGRhdGEgfV0gPSB1c2VNdXRhdGlvbihcbiAgICBQYXltZW50U2VydmljZS51cGRhdGVQYXltZW50XG4gIClcblxuICByZXR1cm4ge1xuICAgIHVwZGF0ZVBheW1lbnRSZXF1ZXN0LFxuICAgIGlzTG9hZGluZyxcbiAgICBlcnJvcixcbiAgICBkYXRhLFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZVVwZGF0ZVBheW1lbnRSZXF1ZXN0XG4iLCJpbXBvcnQgQW1wbGlmeSwgeyBBdXRoIH0gZnJvbSBcImF3cy1hbXBsaWZ5XCJcclxuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi4vLi4vYXdzLWV4cG9ydHNcIlxyXG5cclxuQW1wbGlmeS5jb25maWd1cmUoY29uZmlnKVxyXG5cclxuZXhwb3J0IGNvbnN0IGxvZ2luID0gKHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0pID0+IEF1dGguc2lnbkluKHVzZXJuYW1lLCBwYXNzd29yZClcclxuXHJcbmV4cG9ydCBjb25zdCBzaWduVXAgPSAoeyB1c2VybmFtZSwgcGFzc3dvcmQsIGF0dHJpYnV0ZXM6IHsgZW1haWwgfSB9KSA9PlxyXG4gIEF1dGguc2lnblVwKHsgdXNlcm5hbWUsIHBhc3N3b3JkLCBhdHRyaWJ1dGVzOiB7IGVtYWlsIH0gfSlcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maXJtU2lnblVwID0gKHsgdXNlcm5hbWUsIGNvZGUgfSkgPT4gQXV0aC5jb25maXJtU2lnblVwKHVzZXJuYW1lLCBjb2RlKVxyXG4iLCJpbXBvcnQgQVdTIGZyb20gJ2F3cy1zZGsnXHJcbmltcG9ydCB7IEFQSSwgZ3JhcGhxbE9wZXJhdGlvbiB9IGZyb20gJ2F3cy1hbXBsaWZ5J1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJ1xyXG5pbXBvcnQgeyBnZXRCcmFuY2hCeUlkLCBsaXN0QnJhbmNocywgYnJhbmNoQnlBZG1pbklkIH0gZnJvbSAnLi4vLi4vZ3JhcGhxbC9xdWVyaWVzJ1xyXG5pbXBvcnQge1xyXG4gICAgY3JlYXRlQnJhbmNoLFxyXG4gICAgcmVtb3ZlQnJhbmNoLFxyXG4gICAgZGVsZXRlVHJhbnNhY3Rpb24sXHJcbiAgICBkZWxldGVCcmFuY2hQcm9kdWN0LFxyXG4gICAgZGVsZXRlUGF5bWVudFJlcXVlc3RcclxufSBmcm9tICcuLi8uLi9ncmFwaHFsL211dGF0aW9uJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uLy4uL2F3cy1leHBvcnRzJ1xyXG5cclxuQVBJLmNvbmZpZ3VyZShjb25maWcpXHJcblxyXG5BV1MuY29uZmlnLnVwZGF0ZSh7XHJcbiAgICBhY2Nlc3NLZXlJZDogJ0FLSUFJRjZXS1ZLU09UUUNVUkVRJyxcclxuICAgIHNlY3JldEFjY2Vzc0tleTogJ29FTVFOSWlEVitRSzNSeHRmcCtEUlJ3R1I5ME9XY0tWcHlqWGQxSncnLFxyXG4gICAgcmVnaW9uOiAndXMtZWFzdC0xJ1xyXG59KVxyXG5cclxuY29uc3QgY29nbml0byA9IG5ldyBBV1MuQ29nbml0b0lkZW50aXR5U2VydmljZVByb3ZpZGVyKClcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRCcmFuY2ggPSAoa2V5LCB7IGJyYW5jaElkIH0pID0+XHJcbiAgICBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKGdldEJyYW5jaEJ5SWQsIHsgaWQ6IGJyYW5jaElkIH0pKVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldEJyYW5jaEJ5QWRtaW4gPSAoa2V5LCB7IGFkbWluSWQgfSkgPT5cclxuICAgIEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24oYnJhbmNoQnlBZG1pbklkLCB7IGFkbWluSWQgfSkpXHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQnJhbmNoRW50aXR5ID0gKHsgdXNlclN1YiwgdXNlcm5hbWUsIGJyYW5jaE5hbWUgfSkgPT5cclxuICAgIEFQSS5ncmFwaHFsKFxyXG4gICAgICAgIGdyYXBocWxPcGVyYXRpb24oY3JlYXRlQnJhbmNoLCB7XHJcbiAgICAgICAgICAgIGlucHV0OiB7XHJcbiAgICAgICAgICAgICAgICBhZG1pbklkOiB1c2VyU3ViLFxyXG4gICAgICAgICAgICAgICAgYnJhbmNoVXNlcm5hbWU6IHVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgYnJhbmNoTmFtZTogYnJhbmNoTmFtZSxcclxuICAgICAgICAgICAgICAgIGlkOiB1dWlkdjQoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIClcclxuXHJcbmV4cG9ydCBjb25zdCBsaXN0QnJhbmNoRW50aXRpZXMgPSAoa2V5KSA9PiBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKGxpc3RCcmFuY2hzKSlcclxuXHJcbmV4cG9ydCBjb25zdCBkZWxldGVCcmFuY2ggPSBhc3luYyAoeyBicmFuY2hlcywgdXNlcm5hbWUsIGlkIH0pID0+IHtcclxuICAgIGNvbnN0IGJyYW5jaFRvRGVsZXRlID0gYnJhbmNoZXMubGlzdEJyYW5jaHMuaXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkID09PSBpZClbMF1cclxuXHJcbiAgICBjb25zdCB0cmFuc2FjdGlvbnNUb0RlbGV0ZSA9IGJyYW5jaFRvRGVsZXRlLnRyYW5zYWN0aW9ucy5pdGVtc1xyXG4gICAgICAgID8gYnJhbmNoVG9EZWxldGUudHJhbnNhY3Rpb25zLml0ZW1zLm1hcCgodHJhbnNhY3Rpb24pID0+IHRyYW5zYWN0aW9uLmlkKVxyXG4gICAgICAgIDogJydcclxuXHJcbiAgICBjb25zdCBwcm9kdWN0c1RvRGVsZXRlID0gYnJhbmNoVG9EZWxldGUuYnJhbmNoUHJvZHVjdHMuaXRlbXNcclxuICAgICAgICA/IGJyYW5jaFRvRGVsZXRlLmJyYW5jaFByb2R1Y3RzLml0ZW1zLm1hcCgocHJvZHVjdCkgPT4gcHJvZHVjdC5pZClcclxuICAgICAgICA6ICcnXHJcblxyXG4gICAgY29uc3QgcGF5bWVudFJlcXVlc3RUb0RlbGV0ZSA9IGJyYW5jaFRvRGVsZXRlLmJyYW5jaFBheW1lbnRSZXF1ZXN0cy5pdGVtc1xyXG4gICAgICAgID8gYnJhbmNoVG9EZWxldGUuYnJhbmNoUGF5bWVudFJlcXVlc3RzLml0ZW1zLm1hcCgocGF5bWVudFJlcXVlc3QpID0+IHBheW1lbnRSZXF1ZXN0LmlkKVxyXG4gICAgICAgIDogJydcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGRlbGV0ZWRCcmFuY2ggPSBhd2FpdCBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKHJlbW92ZUJyYW5jaCwgeyBpbnB1dDogeyBpZCB9IH0pKVxyXG5cclxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb25zVG9EZWxldGUubWFwKCh0cmFuc2FjdGlvbklkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKGRlbGV0ZVRyYW5zYWN0aW9uLCB7IGlucHV0OiB7IGlkOiB0cmFuc2FjdGlvbklkIH0gfSkpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKS5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG5cclxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgICAgICAgcHJvZHVjdHNUb0RlbGV0ZS5tYXAoKHByb2R1Y3RJZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgQVBJLmdyYXBocWwoZ3JhcGhxbE9wZXJhdGlvbihkZWxldGVCcmFuY2hQcm9kdWN0LCB7IGlucHV0OiB7IGlkOiBwcm9kdWN0SWQgfSB9KSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcblxyXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxyXG4gICAgICAgICAgICBwYXltZW50UmVxdWVzdFRvRGVsZXRlLm1hcCgocGF5bWVudElkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKGRlbGV0ZVBheW1lbnRSZXF1ZXN0LCB7IGlucHV0OiB7IGlkOiBwYXltZW50SWQgfSB9KSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApXHJcblxyXG4gICAgICAgIGF3YWl0IGNvZ25pdG9cclxuICAgICAgICAgICAgLmFkbWluRGVsZXRlVXNlcih7XHJcbiAgICAgICAgICAgICAgICBVc2VyUG9vbElkOiAndXMtZWFzdC0xX0lmcm5uekdGUicsXHJcbiAgICAgICAgICAgICAgICBVc2VybmFtZTogdXNlcm5hbWVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnByb21pc2UoKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBBdXRoU2VydmljZSBmcm9tIFwiLi9hdXRoLnNlcnZpY2VcIlxuaW1wb3J0ICogYXMgUGF5bWVudFNlcnZpY2UgZnJvbSBcIi4vcGF5bWVudFJlcXVlc3Quc2VydmljZVwiXG5pbXBvcnQgKiBhcyBCcmFuY2hTZXJ2aWNlIGZyb20gXCIuL2JyYW5jaC5zZXJ2aWNlXCJcblxuZXhwb3J0IHsgQXV0aFNlcnZpY2UsIFBheW1lbnRTZXJ2aWNlLCBCcmFuY2hTZXJ2aWNlIH1cbiIsImltcG9ydCB7IEFQSSwgZ3JhcGhxbE9wZXJhdGlvbiB9IGZyb20gXCJhd3MtYW1wbGlmeVwiXG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi8uLi9hd3MtZXhwb3J0c1wiXG5pbXBvcnQgeyBsaXN0UGF5bWVudFJlcXVlc3QgfSBmcm9tIFwiLi4vLi4vZ3JhcGhxbC9xdWVyaWVzXCJcbmltcG9ydCB7IHVwZGF0ZVBheW1lbnRSZXF1ZXN0IH0gZnJvbSBcIi4uLy4uL2dyYXBocWwvbXV0YXRpb25cIlxuXG5BUEkuY29uZmlndXJlKGNvbmZpZylcblxuZXhwb3J0IGNvbnN0IGZldGNoUGF5bWVudFJlcXVlc3QgPSAoa2V5LCB7IGJyYW5jaElkLCBzdGF0dXMsIGxpbWl0LCBuZXh0VG9rZW4gfSkgPT5cbiAgQVBJLmdyYXBocWwoZ3JhcGhxbE9wZXJhdGlvbihsaXN0UGF5bWVudFJlcXVlc3QsIHsgYnJhbmNoSWQsIHN0YXR1cywgbGltaXQsIG5leHRUb2tlbiB9KSlcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVBheW1lbnQgPSAoeyBwYXltZW50SWQsIHN0YXR1cywgcHJvZHVjdHMgfSkgPT4ge1xuICBpZiAocHJvZHVjdHMpIHtcbiAgICByZXR1cm4gQVBJLmdyYXBocWwoXG4gICAgICBncmFwaHFsT3BlcmF0aW9uKHVwZGF0ZVBheW1lbnRSZXF1ZXN0LCB7XG4gICAgICAgIGlucHV0OiB7XG4gICAgICAgICAgaWQ6IHBheW1lbnRJZCxcbiAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgcHJvZHVjdHMsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIClcbiAgfVxuXG4gIHJldHVybiBBUEkuZ3JhcGhxbChcbiAgICBncmFwaHFsT3BlcmF0aW9uKHVwZGF0ZVBheW1lbnRSZXF1ZXN0LCB7XG4gICAgICBpbnB1dDoge1xuICAgICAgICBpZDogcGF5bWVudElkLFxuICAgICAgICBzdGF0dXMsXG4gICAgICB9LFxuICAgIH0pXG4gIClcbn1cbiIsImltcG9ydCBncWwgZnJvbSBcImdyYXBocWwtdGFnXCJcblxuY29uc3QgY3JlYXRlRHJhZnRPcmRlciA9IGdxbGBcbiAgbXV0YXRpb24gQ3JlYXRlT3JkZXIoJGlucHV0OiBEcmFmdE9yZGVySW5wdXQhKSB7XG4gICAgZHJhZnRPcmRlckNyZWF0ZShpbnB1dDogJGlucHV0KSB7XG4gICAgICBkcmFmdE9yZGVyIHtcbiAgICAgICAgaWRcbiAgICAgICAgY3VzdG9tZXIge1xuICAgICAgICAgIGlkXG4gICAgICAgIH1cbiAgICAgICAgZW1haWxcbiAgICAgICAgbGluZUl0ZW1zKGZpcnN0OiAxMCkge1xuICAgICAgICAgIGVkZ2VzIHtcbiAgICAgICAgICAgIG5vZGUge1xuICAgICAgICAgICAgICB0aXRsZVxuICAgICAgICAgICAgICBxdWFudGl0eVxuICAgICAgICAgICAgICBvcmlnaW5hbFVuaXRQcmljZVxuICAgICAgICAgICAgICB2YXJpYW50IHtcbiAgICAgICAgICAgICAgICBpZFxuICAgICAgICAgICAgICAgIHByaWNlXG4gICAgICAgICAgICAgICAgdGl0bGVcbiAgICAgICAgICAgICAgICBwcm9kdWN0IHtcbiAgICAgICAgICAgICAgICAgIHRhZ3NcbiAgICAgICAgICAgICAgICAgIHRpdGxlXG4gICAgICAgICAgICAgICAgICBpbWFnZXMoZmlyc3Q6IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgZWRnZXMge1xuICAgICAgICAgICAgICAgICAgICAgIG5vZGUge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTcmNcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbmBcblxuZXhwb3J0IGNvbnN0IGNvbXBsZXRlT3JkZXIgPSBncWxgXG4gIG11dGF0aW9uIENvbXBsZXRlT3JkZXIoJGlkOiBJRCEpIHtcbiAgICBkcmFmdE9yZGVyQ29tcGxldGUoaWQ6ICRpZCwgcGF5bWVudFBlbmRpbmc6IHRydWUpIHtcbiAgICAgIGRyYWZ0T3JkZXIge1xuICAgICAgICBjdXN0b21lciB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfVxuICAgICAgICBlbWFpbFxuICAgICAgICBuYW1lXG4gICAgICB9XG4gICAgfVxuICB9XG5gXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVQYXltZW50UmVxdWVzdCA9IGdxbGBcbiAgbXV0YXRpb24gdXBkYXRlUGF5bWVudFJlcXVlc3QoJGlucHV0OiBVcGRhdGVQYXltZW50UmVxdWVzdElucHV0ISkge1xuICAgIHVwZGF0ZVBheW1lbnRSZXF1ZXN0KGlucHV0OiAkaW5wdXQpIHtcbiAgICAgIGJvbnVzQW1vdW50XG4gICAgICBjdXN0b21lcklkXG4gICAgICBpZFxuICAgICAgb3JkZXJJZFxuICAgICAgc3RhdHVzXG4gICAgICBwcm9kdWN0cyB7XG4gICAgICAgIG9yaWdpbmFsVW5pdFByaWNlXG4gICAgICAgIHF1YW50aXR5XG4gICAgICAgIHZhcmlhbnRJZFxuICAgICAgfVxuICAgICAgY3JlYXRlZEF0XG4gICAgICB1cGRhdGVkQXRcbiAgICB9XG4gIH1cbmBcbmV4cG9ydCBjb25zdCBjcmVhdGVCcmFuY2ggPSBncWxgXG4gIG11dGF0aW9uIGNyZWF0ZUJyYW5jaCgkaW5wdXQ6IENyZWF0ZUJyYW5jaElucHV0ISkge1xuICAgIGNyZWF0ZUJyYW5jaChpbnB1dDogJGlucHV0KSB7XG4gICAgICBpZFxuICAgICAgYWRtaW5JZFxuICAgICAgYnJhbmNoTmFtZVxuICAgIH1cbiAgfVxuYFxuXG5leHBvcnQgY29uc3QgcmVtb3ZlQnJhbmNoID0gZ3FsYFxuICBtdXRhdGlvbiBkZWxldGVCcmFuY2goJGlucHV0OiBEZWxldGVCcmFuY2hJbnB1dCEpIHtcbiAgICBkZWxldGVCcmFuY2goaW5wdXQ6ICRpbnB1dCkge1xuICAgICAgaWRcbiAgICB9XG4gIH1cbmBcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZVRyYW5zYWN0aW9uID0gZ3FsYFxuICBtdXRhdGlvbiBkZWxldGVUcmFuc2FjdGlvbigkaW5wdXQ6IERlbGV0ZVRyYW5zYWN0aW9uSW5wdXQhKSB7XG4gICAgZGVsZXRlVHJhbnNhY3Rpb24oaW5wdXQ6ICRpbnB1dCkge1xuICAgICAgaWRcbiAgICB9XG4gIH1cbmBcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZUJyYW5jaFByb2R1Y3QgPSBncWxgXG4gIG11dGF0aW9uIGRlbGV0ZUJyYW5jaFByb2R1Y3QoJGlucHV0OiBEZWxldGVCcmFuY2hQcm9kdWN0SW5wdXQhKSB7XG4gICAgZGVsZXRlQnJhbmNoUHJvZHVjdChpbnB1dDogJGlucHV0KSB7XG4gICAgICBpZFxuICAgIH1cbiAgfVxuYFxuXG5leHBvcnQgY29uc3QgZGVsZXRlUGF5bWVudFJlcXVlc3QgPSBncWxgXG4gIG11dGF0aW9uIGRlbGV0ZVBheW1lbnRSZXF1ZXN0KCRpbnB1dDogRGVsZXRlUGF5bWVudFJlcXVlc3RJbnB1dCEpIHtcbiAgICBkZWxldGVQYXltZW50UmVxdWVzdChpbnB1dDogJGlucHV0KSB7XG4gICAgICBpZFxuICAgIH1cbiAgfVxuYFxuXG5leHBvcnQgY29uc3QgY3JlYXRlQnJhbmNoUHJvZHVjdCA9IGdxbGBcbiAgbXV0YXRpb24gY3JlYXRlQnJhbmNoUHJvZHVjdCgkaW5wdXQ6IENyZWF0ZUJyYW5jaFByb2R1Y3RJbnB1dCEpIHtcbiAgICBjcmVhdGVCcmFuY2hQcm9kdWN0KGlucHV0OiAkaW5wdXQpIHtcbiAgICAgIGlkXG4gICAgICBicmFuY2hJZFxuICAgICAgcHJvZHVjdElkXG4gICAgICB0YWdzXG4gICAgfVxuICB9XG5gXG5cbmV4cG9ydCBjb25zdCBwcm9kdWN0VXBkYXRlID0gZ3FsYFxuICBtdXRhdGlvbiBwcm9kdWN0VXBkYXRlKCRpbnB1dDogUHJvZHVjdElucHV0ISkge1xuICAgIHByb2R1Y3RVcGRhdGUoaW5wdXQ6ICRpbnB1dCkge1xuICAgICAgcHJvZHVjdCB7XG4gICAgICAgIGlkXG4gICAgICAgIG1ldGFmaWVsZHMoZmlyc3Q6IDEwMCkge1xuICAgICAgICAgIGVkZ2VzIHtcbiAgICAgICAgICAgIG5vZGUge1xuICAgICAgICAgICAgICBuYW1lc3BhY2VcbiAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5gXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVCcmFuY2hQcm9kdWN0ID0gZ3FsYFxuICBtdXRhdGlvbiB1cGRhdGVCcmFuY2hQcm9kdWN0KCRpbnB1dDogVXBkYXRlQnJhbmNoUHJvZHVjdElucHV0ISkge1xuICAgIHVwZGF0ZUJyYW5jaFByb2R1Y3QoaW5wdXQ6ICRpbnB1dCkge1xuICAgICAgaWRcbiAgICAgIHRhZ3NcbiAgICAgIGJyYW5jaElkXG4gICAgICBwcm9kdWN0SWRcbiAgICB9XG4gIH1cbmBcbiIsImltcG9ydCBncWwgZnJvbSBcImdyYXBocWwtdGFnXCJcblxuZXhwb3J0IGNvbnN0IGxpc3RUcmFuc2FjdGlvbnMgPSBncWxgXG4gIHF1ZXJ5IGxpc3RUcmFuc2FjdGlvbnMoJGxpbWl0OiBJbnQsICRuZXh0VG9rZW46IFN0cmluZykge1xuICAgIGxpc3RUcmFuc2FjdGlvbnMobGltaXQ6ICRsaW1pdCwgbmV4dFRva2VuOiAkbmV4dFRva2VuKSB7XG4gICAgICBuZXh0VG9rZW5cbiAgICAgIGl0ZW1zIHtcbiAgICAgICAgaWRcbiAgICAgICAgdG90YWxQcmljZVxuICAgICAgICB0b3RhbEJvbnVzQW1vdW50XG4gICAgICAgIG5vdGVcbiAgICAgICAgY3VycmVuY3lcbiAgICAgICAgcHJvZHVjdHMge1xuICAgICAgICAgIGlkXG4gICAgICAgICAgdGl0bGVcbiAgICAgICAgICBib251c1BlcmNlbnRhZ2VcbiAgICAgICAgICBwcmljZUFtb3VudFxuICAgICAgICAgIHByaWNlQ3VycmVuY3lcbiAgICAgICAgICBpbWFnZVxuICAgICAgICB9XG4gICAgICAgIGN1c3RvbWVyIHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIGZpcnN0TmFtZVxuICAgICAgICAgIGxhc3ROYW1lXG4gICAgICAgICAgcGhvbmVcbiAgICAgICAgICBlbWFpbFxuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZWRBdFxuICAgICAgfVxuICAgIH1cbiAgfVxuYFxuXG5leHBvcnQgY29uc3QgbGlzdFByb2R1Y3RzID0gZ3FsYFxuICBxdWVyeSBQcm9kdWN0cyB7XG4gICAgcHJvZHVjdHMoZmlyc3Q6IDEwMCkge1xuICAgICAgZWRnZXMge1xuICAgICAgICBub2RlIHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIHRpdGxlXG4gICAgICAgICAgdGFnc1xuICAgICAgICAgIGRlc2NyaXB0aW9uKHRydW5jYXRlQXQ6IDEwMClcbiAgICAgICAgICB2YXJpYW50cyhmaXJzdDogMSkge1xuICAgICAgICAgICAgZWRnZXMge1xuICAgICAgICAgICAgICBub2RlIHtcbiAgICAgICAgICAgICAgICBpZFxuICAgICAgICAgICAgICAgIHByaWNlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaW1hZ2VzKGZpcnN0OiAxKSB7XG4gICAgICAgICAgICBlZGdlcyB7XG4gICAgICAgICAgICAgIG5vZGUge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsU3JjXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbmBcblxuZXhwb3J0IGNvbnN0IGJyYW5jaEJ5QWRtaW5JZCA9IGdxbGBcbiAgcXVlcnkgYnJhbmNoQnlBZG1pbklkKCRhZG1pbklkOiBJRCEpIHtcbiAgICBicmFuY2hCeUFkbWluSWQoYWRtaW5JZDogJGFkbWluSWQpIHtcbiAgICAgIGl0ZW1zIHtcbiAgICAgICAgYWRtaW5JZFxuICAgICAgICBicmFuY2hOYW1lXG4gICAgICAgIGlkXG4gICAgICAgIHRyYW5zYWN0aW9ucyB7XG4gICAgICAgICAgaXRlbXMge1xuICAgICAgICAgICAgYnJhbmNoSWRcbiAgICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgICAgY3VycmVuY3lcbiAgICAgICAgICAgIGlkXG4gICAgICAgICAgICBub3RlXG4gICAgICAgICAgICBjdXN0b21lciB7XG4gICAgICAgICAgICAgIGVtYWlsXG4gICAgICAgICAgICAgIGZpcnN0TmFtZVxuICAgICAgICAgICAgICBpZFxuICAgICAgICAgICAgICBsYXN0TmFtZVxuICAgICAgICAgICAgICBwaG9uZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvZHVjdHMge1xuICAgICAgICAgICAgICBib251c1BlcmNlbnRhZ2VcbiAgICAgICAgICAgICAgaWRcbiAgICAgICAgICAgICAgaW1hZ2VcbiAgICAgICAgICAgICAgcHJpY2VBbW91bnRcbiAgICAgICAgICAgICAgcHJpY2VDdXJyZW5jeVxuICAgICAgICAgICAgICB0aXRsZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc29ydERhdGVcbiAgICAgICAgICAgIHRvdGFsQm9udXNBbW91bnRcbiAgICAgICAgICAgIHRvdGFsUHJpY2VcbiAgICAgICAgICAgIHVwZGF0ZWRBdFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmFuY2hQcm9kdWN0cyB7XG4gICAgICAgICAgaXRlbXMge1xuICAgICAgICAgICAgYnJhbmNoSWRcbiAgICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgICAgaWRcbiAgICAgICAgICAgIHByb2R1Y3RJZFxuICAgICAgICAgICAgdGFnc1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuYFxuZXhwb3J0IGNvbnN0IGxpc3RQYXltZW50UmVxdWVzdCA9IGdxbGBcbiAgcXVlcnkgbGlzdFBheW1lbnRSZXF1ZXN0KCRicmFuY2hJZDogSUQsICRzdGF0dXM6IFBheW1lbnRTdGF0dXMsICRsaW1pdDogSW50LCAkbmV4dFRva2VuOiBTdHJpbmcpIHtcbiAgICBsaXN0UGF5bWVudFJlcXVlc3RzKFxuICAgICAgbGltaXQ6ICRsaW1pdFxuICAgICAgbmV4dFRva2VuOiAkbmV4dFRva2VuXG4gICAgICBmaWx0ZXI6IHsgYnJhbmNoSWQ6IHsgZXE6ICRicmFuY2hJZCB9LCBzdGF0dXM6IHsgZXE6ICRzdGF0dXMgfSB9XG4gICAgKSB7XG4gICAgICBpdGVtcyB7XG4gICAgICAgIGJvbnVzQW1vdW50XG4gICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICBjdXN0b21lcklkXG4gICAgICAgIGlkXG4gICAgICAgIG9yZGVySWRcbiAgICAgICAgc3RhdHVzXG4gICAgICAgIHVwZGF0ZWRBdFxuICAgICAgfVxuICAgICAgbmV4dFRva2VuXG4gICAgfVxuICB9XG5gXG5leHBvcnQgY29uc3QgZ2V0QnJhbmNoQnlJZCA9IGdxbGBcbiAgcXVlcnkgZ2V0QnJhbmNoKCRpZDogSUQhKSB7XG4gICAgZ2V0QnJhbmNoKGlkOiAkaWQpIHtcbiAgICAgIHRyYW5zYWN0aW9ucyhzb3J0RGlyZWN0aW9uOiBERVNDKSB7XG4gICAgICAgIGl0ZW1zIHtcbiAgICAgICAgICBicmFuY2hJZFxuICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgIGN1cnJlbmN5XG4gICAgICAgICAgbm90ZVxuICAgICAgICAgIGN1c3RvbWVyIHtcbiAgICAgICAgICAgIGVtYWlsXG4gICAgICAgICAgICBpZFxuICAgICAgICAgICAgZmlyc3ROYW1lXG4gICAgICAgICAgICBsYXN0TmFtZVxuICAgICAgICAgICAgcGhvbmVcbiAgICAgICAgICB9XG4gICAgICAgICAgdG90YWxCb251c0Ftb3VudFxuICAgICAgICAgIHRvdGFsUHJpY2VcbiAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgICBzb3J0RGF0ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmFuY2hOYW1lXG4gICAgICBhZG1pbklkXG4gICAgICBpZFxuICAgICAgYnJhbmNoUHJvZHVjdHMge1xuICAgICAgICBpdGVtcyB7XG4gICAgICAgICAgYnJhbmNoSWRcbiAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICBpZFxuICAgICAgICAgIHByb2R1Y3RJZFxuICAgICAgICAgIHRhZ3NcbiAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuYFxuXG5leHBvcnQgY29uc3QgbGlzdEJyYW5jaHMgPSBncWxgXG4gIHF1ZXJ5IGxpc3RCcmFuY2hzIHtcbiAgICBsaXN0QnJhbmNocyB7XG4gICAgICBpdGVtcyB7XG4gICAgICAgIGFkbWluSWRcbiAgICAgICAgYnJhbmNoTmFtZVxuICAgICAgICBicmFuY2hVc2VybmFtZVxuICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgaWRcbiAgICAgICAgYnJhbmNoUHJvZHVjdHMge1xuICAgICAgICAgIGl0ZW1zIHtcbiAgICAgICAgICAgIGJyYW5jaElkXG4gICAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICAgIGlkXG4gICAgICAgICAgICBwcm9kdWN0SWRcbiAgICAgICAgICAgIHRhZ3NcbiAgICAgICAgICAgIHVwZGF0ZWRBdFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmFuY2hQYXltZW50UmVxdWVzdHMge1xuICAgICAgICAgIGl0ZW1zIHtcbiAgICAgICAgICAgIGJyYW5jaElkXG4gICAgICAgICAgICBpZFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cmFuc2FjdGlvbnMge1xuICAgICAgICAgIGl0ZW1zIHtcbiAgICAgICAgICAgIGJyYW5jaElkXG4gICAgICAgICAgICBpZFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuYFxuIiwiaW1wb3J0IGdxbCBmcm9tIFwiZ3JhcGhxbC10YWdcIlxuXG5leHBvcnQgY29uc3Qgb25VcGRhdGVQYXltZW50U3Vic2NyaXB0aW9uID0gZ3FsYFxuICBzdWJzY3JpcHRpb24gb25VcGRhdGVQYXltZW50UmVxdWVzdCB7XG4gICAgb25VcGRhdGVQYXltZW50UmVxdWVzdCB7XG4gICAgICBpZFxuICAgICAgc3RhdHVzXG4gICAgfVxuICB9XG5gXG5cbmV4cG9ydCBjb25zdCBwYXltZW50U3Vic2NyaXB0aW9uID0gZ3FsYFxuICBzdWJzY3JpcHRpb24gcGF5bWVudFJlcXVlc3Qge1xuICAgIG9uQ3JlYXRlUGF5bWVudFJlcXVlc3Qge1xuICAgICAgYm9udXNBbW91bnRcbiAgICAgIGNyZWF0ZWRBdFxuICAgICAgY3VzdG9tZXJJZFxuICAgICAgaWRcbiAgICAgIG9yZGVySWRcbiAgICAgIHN0YXR1c1xuICAgICAgdXBkYXRlZEF0XG4gICAgfVxuICB9XG5gXG5cbmV4cG9ydCBjb25zdCBvbkNyZWF0ZVRyYW5zYWN0aW9uID0gZ3FsYFxuICBzdWJzY3JpcHRpb24gb25DcmVhdGVUcmFuc2FjdGlvbiB7XG4gICAgb25DcmVhdGVUcmFuc2FjdGlvbiB7XG4gICAgICBpZFxuICAgIH1cbiAgfVxuYFxuXG5leHBvcnQgY29uc3Qgb25EZWxldGVUcmFuc2FjdGlvbiA9IGdxbGBcbiAgc3Vic2NyaXB0aW9uIG9uRGVsZXRlVHJhbnNhY3Rpb24ge1xuICAgIG9uRGVsZXRlVHJhbnNhY3Rpb24ge1xuICAgICAgaWRcbiAgICB9XG4gIH1cbmBcblxuZXhwb3J0IGNvbnN0IG9uQ3JlYXRlQnJhbmNoU3Vic2NyaXB0aW9uID0gZ3FsYFxuICBzdWJzY3JpcHRpb24gb25DcmVhdGVCcmFuY2gge1xuICAgIG9uQ3JlYXRlQnJhbmNoIHtcbiAgICAgIGFkbWluSWRcbiAgICAgIGJyYW5jaE5hbWVcbiAgICAgIGlkXG4gICAgICBjcmVhdGVkQXRcbiAgICB9XG4gIH1cbmBcblxuZXhwb3J0IGNvbnN0IG9uRGVsZXRlQnJhbmNoU3Vic2NyaXB0aW9uID0gZ3FsYFxuICBzdWJzY3JpcHRpb24gb25EZWxldGVCcmFuY2gge1xuICAgIG9uRGVsZXRlQnJhbmNoIHtcbiAgICAgIGlkXG4gICAgfVxuICB9XG5gXG5leHBvcnQgY29uc3Qgb25DcmVhdGVCcmFuY2hQcm9kdWN0ID0gZ3FsYFxuICBzdWJzY3JpcHRpb24gb25DcmVhdGVCcmFuY2hQcm9kdWN0IHtcbiAgICBvbkNyZWF0ZUJyYW5jaFByb2R1Y3Qge1xuICAgICAgaWRcbiAgICB9XG4gIH1cbmBcbmV4cG9ydCBjb25zdCBvblVwZGF0ZUJyYW5jaFByb2R1Y3QgPSBncWxgXG4gIHN1YnNjcmlwdGlvbiBvblVwZGF0ZUJyYW5jaFByb2R1Y3Qge1xuICAgIG9uVXBkYXRlQnJhbmNoUHJvZHVjdCB7XG4gICAgICBpZFxuICAgIH1cbiAgfVxuYFxuXG5leHBvcnQgY29uc3Qgb25EZWxldGVCcmFuY2hQcm9kdWN0ID0gZ3FsYFxuICBzdWJzY3JpcHRpb24gb25EZWxldGVCcmFuY2hQcm9kdWN0IHtcbiAgICBvbkRlbGV0ZUJyYW5jaFByb2R1Y3Qge1xuICAgICAgaWRcbiAgICB9XG4gIH1cbmBcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBBdXRoIH0gZnJvbSBcImF3cy1hbXBsaWZ5XCJcbmltcG9ydCBjb25maWcgZnJvbSBcIi4uL2F3cy1leHBvcnRzXCJcbmltcG9ydCBMb2dpbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Mb2dpblwiXG5pbXBvcnQgQnJhbmNoQ29uc29sZSBmcm9tIFwiLi4vY29tcG9uZW50cy9CcmFuY2hDb25zb2xlXCJcbmltcG9ydCBCcmFuY2hEYXRhIGZyb20gXCIuLi9jb21wb25lbnRzL0JyYW5jaERhdGFcIlxuXG5jb25zdCBJbmRleCA9ICgpID0+IHtcbiAgY29uc3QgW3VzZXIsIHVwZGF0ZVVzZXJdID0gdXNlU3RhdGUobnVsbClcblxuICBjb25zdCBjaGVja1VzZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBBdXRoLmN1cnJlbnRBdXRoZW50aWNhdGVkVXNlcigpXG5cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHVwZGF0ZVVzZXIodXNlcilcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVmID0gUmVhY3QuY3JlYXRlUmVmKClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNoZWNrVXNlcigpXG4gIH0sIFtdKVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHt1c2VyICYmIHVzZXIudXNlcm5hbWUgIT09IFwic3VwZXJhZG1pblwiICYmIDxCcmFuY2hEYXRhIHVwZGF0ZVVzZXI9e3VwZGF0ZVVzZXJ9IHVzZXI9e3VzZXJ9IC8+fVxuICAgICAgeyF1c2VyICYmIDxMb2dpbiByZWY9e3JlZn0gc2V0VXNlcj17KGZldGNoZWRVc2VyKSA9PiB1cGRhdGVVc2VyKGZldGNoZWRVc2VyKX0gLz59XG4gICAgICB7dXNlciAmJiB1c2VyLnVzZXJuYW1lID09PSBcInN1cGVyYWRtaW5cIiAmJiA8QnJhbmNoQ29uc29sZSB1cGRhdGVVc2VyPXt1cGRhdGVVc2VyfSAvPn1cbiAgICA8Lz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbmRleFxuIiwiZXhwb3J0IGNvbnN0IHRvQ3VycmVuY3kgPSAocHJpY2UpID0+IHtcbiAgICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KCdoeS1BTScsIHtcbiAgICAgICAgY3VycmVuY3k6ICdBTUQnLFxuICAgICAgICBzdHlsZTogJ2N1cnJlbmN5J1xuICAgIH0pLmZvcm1hdChwcmljZSlcbn1cblxuZXhwb3J0IGNvbnN0IGZvcm1hdERhdGUgPSAocm93RGF0ZSkgPT4ge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShyb3dEYXRlKVxuICAgIGNvbnN0IHllYXIgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgnZW4nLCB7IHllYXI6ICdudW1lcmljJyB9KS5mb3JtYXQoZGF0ZSlcbiAgICBjb25zdCBtb250aCA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KCdlbicsIHsgbW9udGg6ICdzaG9ydCcgfSkuZm9ybWF0KGRhdGUpXG4gICAgY29uc3QgZGF5ID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoJ2VuJywgeyBkYXk6ICcyLWRpZ2l0JyB9KS5mb3JtYXQoZGF0ZSlcblxuICAgIHJldHVybiBgJHtkYXl9LSR7bW9udGh9LSR7eWVhcn1gXG59XG5cbmV4cG9ydCBjb25zdCBleHRyYWN0TnVtYmVyc0Zyb21TdHJpbmcgPSAoc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIE51bWJlcihzdHJpbmcubWF0Y2goL1xcZCsvZykpXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAYXBvbGxvL2NsaWVudFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAc2hvcGlmeS9hcHAtYnJpZGdlXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBzaG9waWZ5L2FwcC1icmlkZ2UvYWN0aW9uc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAc2hvcGlmeS9wb2xhcmlzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBzaG9waWZ5L3BvbGFyaXMtaWNvbnNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYXdzLWFtcGxpZnlcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYXdzLXNka1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJncmFwaHFsLXRhZ1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdC1ob29rLWZvcm1cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3QtcXVlcnlcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwic2VtYW50aWMtdWktcmVhY3RcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXVpZFwiKTsiXSwic291cmNlUm9vdCI6IiJ9