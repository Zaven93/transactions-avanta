{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport { Auth, API, graphqlOperation } from 'aws-amplify';\nimport gql from 'graphql-tag';\nconst ListBranchesByAdminId = gql`\n    query listBranchesByAdminId($adminId: ID!) {\n        listBranchs(filter: { adminId: { eq: $adminId } }) {\n            items {\n                adminId\n                branchName\n                createdAt\n                id\n                updatedAt\n            }\n        }\n    }\n`;\n\nconst Branch = () => {\n  const {\n    0: user,\n    1: setUser\n  } = useState(null);\n  const {\n    0: branches,\n    1: setBranches\n  } = useState(null);\n  useEffect(() => {\n    checkUser();\n  }, []);\n\n  const checkUser = async () => {\n    try {\n      const user = await Auth.currentAuthenticatedUser();\n      const fetchedBranches = await API.graphql(graphqlOperation(ListBranchesByAdminId, {\n        adminId: user.attributes.sub\n      }));\n      setUser(user);\n      setBranch(fetchedBranches);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  console.log('User from branches', user);\n  return __jsx(\"div\", null, \"Hi there Zaven jan\");\n};\n\nexport default Branch;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/transactions/pages/branch.js"],"names":["useState","useEffect","Auth","API","graphqlOperation","gql","ListBranchesByAdminId","Branch","user","setUser","branches","setBranches","checkUser","currentAuthenticatedUser","fetchedBranches","graphql","adminId","attributes","sub","setBranch","error","console","log"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,gBAApB,QAA4C,aAA5C;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,MAAMC,qBAAqB,GAAGD,GAAI;;;;;;;;;;;;CAAlC;;AAcA,MAAME,MAAM,GAAG,MAAM;AACjB,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBT,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAM;AAAA,OAACU,QAAD;AAAA,OAAWC;AAAX,MAA0BX,QAAQ,CAAC,IAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZW,IAAAA,SAAS;AACZ,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,SAAS,GAAG,YAAY;AAC1B,QAAI;AACA,YAAMJ,IAAI,GAAG,MAAMN,IAAI,CAACW,wBAAL,EAAnB;AACA,YAAMC,eAAe,GAAG,MAAMX,GAAG,CAACY,OAAJ,CAC1BX,gBAAgB,CAACE,qBAAD,EAAwB;AAAEU,QAAAA,OAAO,EAAER,IAAI,CAACS,UAAL,CAAgBC;AAA3B,OAAxB,CADU,CAA9B;AAGAT,MAAAA,OAAO,CAACD,IAAD,CAAP;AACAW,MAAAA,SAAS,CAACL,eAAD,CAAT;AACH,KAPD,CAOE,OAAOM,KAAP,EAAc;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AACJ,GAXD;;AAaAC,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCd,IAAlC;AAEA,SAAO,wCAAP;AACH,CAxBD;;AA0BA,eAAeD,MAAf","sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { Auth, API, graphqlOperation } from 'aws-amplify'\r\nimport gql from 'graphql-tag'\r\n\r\nconst ListBranchesByAdminId = gql`\r\n    query listBranchesByAdminId($adminId: ID!) {\r\n        listBranchs(filter: { adminId: { eq: $adminId } }) {\r\n            items {\r\n                adminId\r\n                branchName\r\n                createdAt\r\n                id\r\n                updatedAt\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nconst Branch = () => {\r\n    const [user, setUser] = useState(null)\r\n    const [branches, setBranches] = useState(null)\r\n\r\n    useEffect(() => {\r\n        checkUser()\r\n    }, [])\r\n\r\n    const checkUser = async () => {\r\n        try {\r\n            const user = await Auth.currentAuthenticatedUser()\r\n            const fetchedBranches = await API.graphql(\r\n                graphqlOperation(ListBranchesByAdminId, { adminId: user.attributes.sub })\r\n            )\r\n            setUser(user)\r\n            setBranch(fetchedBranches)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    console.log('User from branches', user)\r\n\r\n    return <div>Hi there Zaven jan</div>\r\n}\r\n\r\nexport default Branch\r\n"]},"metadata":{},"sourceType":"module"}