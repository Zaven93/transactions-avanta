module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = require('../ssr-module-cache.js');
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		var threw = true;
/******/ 		try {
/******/ 			modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 			threw = false;
/******/ 		} finally {
/******/ 			if(threw) delete installedModules[moduleId];
/******/ 		}
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./pages/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./aws-exports.js":
/*!************************!*\
  !*** ./aws-exports.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.
const awsmobile = {
  "aws_appsync_graphqlEndpoint": "https://kytejmxrrrgahiikcodklhf6rq.appsync-api.us-east-1.amazonaws.com/graphql",
  "aws_appsync_region": "us-east-1",
  "aws_appsync_authenticationType": "API_KEY",
  "aws_appsync_apiKey": "da2-iwznaxe3h5bxznagzuctrhqekm"
};
/* harmony default export */ __webpack_exports__["default"] = (awsmobile);

/***/ }),

/***/ "./components/AcceptedPaymentRequest.js":
/*!**********************************************!*\
  !*** ./components/AcceptedPaymentRequest.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;







aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_6__["default"]);
const listPaymentRequest = graphql_tag__WEBPACK_IMPORTED_MODULE_2___default.a`
    query listPaymentRequest($limit: Int, $nextToken: String) {
        listPaymentRequests(
            limit: $limit
            nextToken: $nextToken
            filter: { status: { eq: APPROVED } }
        ) {
            items {
                bonusAmount
                createdAt
                customerId
                id
                orderId
                status
                updatedAt
            }
            nextToken
        }
    }
`;

const AcceptedPaymentRequest = () => {
  const {
    0: nextPaginateToken,
    1: setNextPaginateToken
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: paymentRequestItems,
    1: setPaymentRequestItems
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]);
  console.log('Next token is', nextPaginateToken);
  const fetchAcceptedPayments = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(async () => {
    try {
      const res = await aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(listPaymentRequest, {
        limit: 20
      }));
      setNextPaginateToken(res.data.listPaymentRequests.nextToken);
      setPaymentRequestItems(res.data.listPaymentRequests.items);
      console.log('Accepted payments', res.data);
    } catch (error) {
      console.log(error);
    }
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    fetchAcceptedPayments();
  }, [fetchAcceptedPayments]);

  const loadMore = async () => {
    try {
      const res = await aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(listPaymentRequest, {
        limit: 20,
        nextToken: nextPaginateToken
      }));
      setNextPaginateToken(res.data.listPaymentRequests.nextToken);
      setPaymentRequestItems([...paymentRequestItems, ...res.data.listPaymentRequests.items]);
    } catch (error) {
      console.log(error);
    }
  };

  console.log('Next paginate token', nextPaginateToken);
  console.log('Accepted state data', paymentRequestItems);
  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"], {
    celled: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Header, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Row, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].HeaderCell, null, "Customer Id"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].HeaderCell, null, "Order Id"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].HeaderCell, null, "Bonus Amount"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].HeaderCell, null, "Created At"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].HeaderCell, null, "Updated At"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].HeaderCell, null, "Status"))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Body, null, paymentRequestItems && paymentRequestItems.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt)).map(item => __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Row, {
    key: item.id
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Badge"], {
    size: "small"
  }, item.customerId)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Badge"], {
    size: "small"
  }, item.orderId)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["toCurrency"])(item.bonusAmount)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["formatDate"])(item.createdAt)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["formatDate"])(item.updatedAt)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Badge"], {
    size: "small",
    progress: "complete",
    status: "success"
  }, item.status)))))), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    disabled: !nextPaginateToken,
    primary: true,
    onClick: loadMore
  }, "Load more"));
};

/* harmony default export */ __webpack_exports__["default"] = (AcceptedPaymentRequest);

/***/ }),

/***/ "./components/AdminBranchInfo.js":
/*!***************************************!*\
  !*** ./components/AdminBranchInfo.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @shopify/polaris-icons */ "@shopify/polaris-icons");
/* harmony import */ var _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;







aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_6__["default"]);
const getBranchById = graphql_tag__WEBPACK_IMPORTED_MODULE_2___default.a`
    query getBranch($id: ID!) {
        getBranch(id: $id) {
            transactions(sortDirection: DESC) {
                items {
                    branchId
                    createdAt
                    currency
                    note
                    customer {
                        email
                        id
                        firstName
                        lastName
                        phone
                    }
                    totalBonusAmount
                    totalPrice
                    updatedAt
                    sortDate
                }
            }
            branchName
            adminId
            id
            branchProducts {
                items {
                    branchId
                    createdAt
                    id
                    productId
                    tags
                    updatedAt
                }
            }
        }
    }
`;

const AdminBranchInfo = ({
  branchId,
  setBranchId
}) => {
  const {
    0: branchInfo,
    1: setBranchInfo
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: searchValue,
    1: setSearchValue
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
  const handleSearchInput = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => setSearchValue(newValue), []);

  const getBranch = async () => {
    try {
      const branch = await aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(getBranchById, {
        id: branchId
      }));
      setBranchInfo(branch.data.getBranch);
    } catch (error) {
      console.log(error);
    }
  };

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    getBranch();
  }, []);
  console.log('Branch info from admin', branchId);
  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, branchInfo && __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__["Button"], {
    onClick: () => setBranchId(null),
    primary: true
  }, "Go back"), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__["TextField"], {
    label: "Search Product",
    value: searchValue,
    onChange: handleSearchInput,
    prefix: __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__["Icon"], {
      source: _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_4__["SearchMajorMonotone"]
    }),
    placeholder: "Search by Customer phone number"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__["Card"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__["DataTable"], {
    columnContentTypes: ['text', 'text', 'text', 'text'],
    headings: ['Customer phone number', 'TotalPrice', 'TotalBonusAmount', 'Minus from Bonus Amount', 'CreatedAt'],
    rows: branchInfo && branchInfo.transactions.items.filter(transaction => {
      if (searchValue == null) {
        return transaction;
      } else if (transaction.customer[0].phone.toLowerCase().includes(searchValue.toLowerCase())) {
        return transaction;
      }
    }).sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)).map(transaction => [__jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_3__["Button"], {
      primary: true,
      onClick: () => redirect.dispatch(Redirect.Action.ADMIN_PATH, {
        path: `/customers/${transaction.customer[0].id}`,
        newContext: true
      })
    }, transaction.customer[0].phone), Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["toCurrency"])(Number(transaction.totalPrice)), Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["toCurrency"])(Number(transaction.totalBonusAmount)), transaction.note === null ? '' : Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["toCurrency"])(extractNumbersFromString(transaction.note)), Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["formatDate"])(transaction.createdAt)])
  }))));
};

/* harmony default export */ __webpack_exports__["default"] = (AdminBranchInfo);

/***/ }),

/***/ "./components/BranchConsole.js":
/*!*************************************!*\
  !*** ./components/BranchConsole.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ "uuid");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _ProductsList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ProductsList */ "./components/ProductsList.js");
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _BranchProducts__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BranchProducts */ "./components/BranchProducts.js");
/* harmony import */ var _BranchList__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./BranchList */ "./components/BranchList.js");
/* harmony import */ var _AdminBranchInfo__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./AdminBranchInfo */ "./components/AdminBranchInfo.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;












aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_8__["default"]);
const createBranch = graphql_tag__WEBPACK_IMPORTED_MODULE_2___default.a`
    mutation createBranch($input: CreateBranchInput!) {
        createBranch(input: $input) {
            id
            adminId
            branchName
        }
    }
`;
const listBranchs = graphql_tag__WEBPACK_IMPORTED_MODULE_2___default.a`
    query listBranchs {
        listBranchs {
            items {
                adminId
                branchName
                createdAt
                id
            }
        }
    }
`;

const BranchConsole = ({
  updateUser
}) => {
  const {
    0: active,
    1: setActive
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);
  const {
    0: branchName,
    1: setBranchName
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: username,
    1: setUsername
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: email,
    1: setEmail
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: password,
    1: setPassword
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: code,
    1: setCode
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: formType,
    1: setFormType
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('signUp');
  const {
    0: userSub,
    1: setUserSub
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
  const {
    0: branches,
    1: setBranches
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: branchId,
    1: setBranchId
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
  const onChangeBranchName = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => {
    setBranchName(newValue);
  }, []);
  const onChangeUsername = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => {
    setUsername(newValue);
  }, []);
  const onChangePassword = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => {
    setPassword(newValue);
  }, []);
  const onChangeEmail = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => {
    setEmail(newValue);
  }, []);
  const onChangeCode = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => {
    setCode(newValue);
  }, []);

  const handleChange = () => {
    setActive(!active);
  };

  const signUp = async e => {
    e.preventDefault();

    try {
      const user = await aws_amplify__WEBPACK_IMPORTED_MODULE_1__["Auth"].signUp({
        username,
        password,
        attributes: {
          email
        }
      });
      setUserSub(user.userSub);
      console.log('Signed Up User from Modal', user);
      setFormType('confirm');
    } catch (error) {
      console.log(error);
    }
  };

  const confirm = async e => {
    e.preventDefault();

    try {
      const confirmedUser = await aws_amplify__WEBPACK_IMPORTED_MODULE_1__["Auth"].confirmSignUp(username, code);
      console.log('Confirmed user', confirmedUser);
      const branch = await aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(createBranch, {
        input: {
          adminId: userSub,
          branchUsername: username,
          branchName: branchName,
          id: Object(uuid__WEBPACK_IMPORTED_MODULE_3__["v4"])()
        }
      }));
      console.log('New created branch', branch);
      setFormType('signUp');
      handleChange();
    } catch (error) {
      console.log(error);
    }
  };

  const fetchBranches = async () => {
    try {
      const getBranches = await aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(listBranchs));
      setBranches(getBranches.data);
    } catch (error) {
      console.log(error);
    }
  };

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    fetchBranches();
  }, []);
  console.log('Branch name', branchName);
  console.log('Username', username);
  console.log('Password', password);
  console.log('Email', email);
  console.log('Code', code);
  console.log('Fetched branches', branches);
  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, branchId && __jsx(_AdminBranchInfo__WEBPACK_IMPORTED_MODULE_11__["default"], {
    setBranchId: setBranchId,
    branchId: branchId
  }), !branchId && __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    onClick: handleChange,
    primary: true
  }, "Create branch"), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    primary: true,
    id: "Logout",
    onClick: () => {
      aws_amplify__WEBPACK_IMPORTED_MODULE_1__["Auth"].signOut();
      updateUser(null);
    }
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Icon"], {
    name: "sign out"
  }), " Logout"), __jsx(_BranchList__WEBPACK_IMPORTED_MODULE_10__["default"], {
    setBranchId: setBranchId
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Modal"], {
    open: active,
    onClose: handleChange,
    title: "Fill in Branch info"
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Modal"].Section, null, formType === 'signUp' && __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Form"], {
    onSubmit: signUp
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["FormLayout"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    value: branchName,
    onChange: onChangeBranchName,
    label: "Branch Name"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    value: username,
    onChange: onChangeUsername,
    label: "Branch admin username"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    value: email,
    onChange: onChangeEmail,
    label: "Branch admin email"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    type: "password",
    value: password,
    onChange: onChangePassword,
    label: "Branch admin password"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    primary: true,
    submit: true
  }, "Create Branch"))), formType === 'confirm' && __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Form"], {
    onSubmit: confirm
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["FormLayout"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    value: username,
    onChange: onChangeUsername,
    label: "Branch admin username"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    value: code,
    onChange: onChangeCode,
    label: "Confirmation code"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    primary: true,
    submit: true
  }, "Confirm")))))));
};

/* harmony default export */ __webpack_exports__["default"] = (BranchConsole);

/***/ }),

/***/ "./components/BranchData.js":
/*!**********************************!*\
  !*** ./components/BranchData.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ "axios");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ "next/router");
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _shopify_app_bridge__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @shopify/app-bridge */ "@shopify/app-bridge");
/* harmony import */ var _shopify_app_bridge__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_shopify_app_bridge__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @shopify/app-bridge/actions */ "@shopify/app-bridge/actions");
/* harmony import */ var _shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @shopify/polaris-icons */ "@shopify/polaris-icons");
/* harmony import */ var _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _components_Login__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/Login */ "./components/Login.js");
/* harmony import */ var _components_BranchConsole__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/BranchConsole */ "./components/BranchConsole.js");
/* harmony import */ var _components_PaymentRequest__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/PaymentRequest */ "./components/PaymentRequest.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;














aws_amplify__WEBPACK_IMPORTED_MODULE_3__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_10__["default"]);
const branchByAdminId = graphql_tag__WEBPACK_IMPORTED_MODULE_6___default.a`
    query branchByAdminId($adminId: ID!) {
        branchByAdminId(adminId: $adminId) {
            items {
                adminId
                branchName
                id
                transactions {
                    items {
                        branchId
                        createdAt
                        currency
                        id
                        note
                        customer {
                            email
                            firstName
                            id
                            lastName
                            phone
                        }
                        products {
                            bonusPercentage
                            id
                            image
                            priceAmount
                            priceCurrency
                            title
                        }
                        sortDate
                        totalBonusAmount
                        totalPrice
                        updatedAt
                    }
                }
                branchProducts {
                    items {
                        branchId
                        createdAt
                        id
                        productId
                        tags
                    }
                }
            }
        }
    }
`;
const onCreateTransaction = graphql_tag__WEBPACK_IMPORTED_MODULE_6___default.a`
    subscription onCreateTransaction {
        onCreateTransaction {
            id
        }
    }
`;

const BranchData = ({
  user,
  updateUser
}) => {
  const {
    0: branchInfo,
    1: setBranchInfo
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: searchValue,
    1: setSearchValue
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
  const {
    0: newCreatedTransaction,
    1: setNewCreatedTransaction
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: showPaymentRequest,
    1: setShowPaymentRequest
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false); // const [transactionItems, setTransactionItems] = useState(transactions.listTransactions.items)
  // const [nextPaginateToken, setNextPaginateToken] = useState(
  //     transactions.listTransactions.nextToken
  // )
  // const [previousPaginateTokens, setPreviousPaginateTokens] = useState([])

  const handleSearchInput = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => setSearchValue(newValue), []);
  const router = Object(next_router__WEBPACK_IMPORTED_MODULE_2__["useRouter"])();
  const app = _shopify_app_bridge__WEBPACK_IMPORTED_MODULE_4___default()({
    apiKey: '3b01063bac3031d13101100ef3e44fd5',
    shopOrigin: 'transactions-avanta.myshopify.com'
  });
  const redirect = _shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_5__["Redirect"].create(app); // const paginateNext = async () => {
  //     setPreviousPaginateTokens([...previousPaginateTokens, nextPaginateToken])
  //     try {
  //         const data = await API.graphql(
  //             graphqlOperation(listTransactions, { limit: 5, nextToken: nextPaginateToken })
  //         )
  //         console.log('Data from pagination', data)
  //         setTransactionItems(data.data.listTransactions.items)
  //         setNextPaginateToken(data.data.listTransactions.nextToken)
  //     } catch (error) {
  //         console.log(error)
  //     }
  // }
  // const paginatePrevious = async () => {
  //     const previousToken =
  //         previousPaginateTokens[
  //             previousPaginateTokens.length === 1 ? 0 : previousPaginateTokens.length - 2
  //         ]
  //     setPreviousPaginateTokens([
  //         ...previousPaginateTokens.slice(0, previousPaginateTokens.length - 1)
  //     ])
  //     try {
  //         if (previousPaginateTokens.length === 1) {
  //             const data = await API.graphql(graphqlOperation(listTransactions, { limit: 5 }))
  //             setTransactionItems(data.data.listTransactions.items)
  //             setNextPaginateToken(data.data.listTransactions.nextToken)
  //         } else {
  //             const data = await API.graphql(
  //                 graphqlOperation(listTransactions, { limit: 5, nextToken: previousToken })
  //             )
  //             setTransactionItems(data.data.listTransactions.items)
  //             setNextPaginateToken(data.data.listTransactions.nextToken)
  //         }
  //     } catch (error) {
  //         console.log(error)
  //     }
  // }

  const getBranch = async () => {
    try {
      const fetchBranch = await aws_amplify__WEBPACK_IMPORTED_MODULE_3__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_3__["graphqlOperation"])(branchByAdminId, {
        adminId: user.attributes.sub
      }));
      setBranchInfo(fetchBranch.data.branchByAdminId.items[0]);
    } catch (error) {
      console.log(error);
    }
  };

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    getBranch();
    aws_amplify__WEBPACK_IMPORTED_MODULE_3__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_3__["graphqlOperation"])(onCreateTransaction)).subscribe({
      next: createdTransaction => setNewCreatedTransaction(createdTransaction)
    });
  }, [newCreatedTransaction]);
  console.log('Branch data user', user);
  console.log('Branch info', branchInfo);
  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, showPaymentRequest ? __jsx(_components_PaymentRequest__WEBPACK_IMPORTED_MODULE_13__["default"], {
    setShowPaymentRequest: setShowPaymentRequest,
    branchId: branchInfo.id
  }) : __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["Page"], {
    title: branchInfo && branchInfo.branchName
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["TextField"], {
    label: "Search Product",
    value: searchValue,
    onChange: handleSearchInput,
    prefix: __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["Icon"], {
      source: _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_8__["SearchMajorMonotone"]
    }),
    placeholder: "Search by Customer phone number"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["Stack"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["Stack"].Item, {
    fill: true
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["Button"], {
    id: "Accept-Payment",
    onClick: () => // redirect.dispatch(
    //     Redirect.Action.ADMIN_PATH,
    //     '/apps/3b01063bac3031d13101100ef3e44fd5/accept-payment'
    // )
    setShowPaymentRequest(true)
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["Icon"], {
    source: _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_8__["BalanceMajorMonotone"]
  }), " Accept Payment")), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["Stack"].Item, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["Button"], {
    id: "Create-Transaction",
    primary: true,
    onClick: () => redirect.dispatch(_shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_5__["Redirect"].Action.REMOTE, {
      // url: `https://dev.d3ivgpkzuz6hkr.amplifyapp.com?adminId=${user.attributes.sub}`,
      url: `http://localhost:3001/transactions/${user.attributes.sub}`,
      newContext: true
    })
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["Icon"], {
    source: _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_8__["TransactionMajorMonotone"]
  }), " Create transaction")), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["Stack"].Item, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["Button"], {
    primary: true,
    id: "Logout",
    onClick: () => {
      aws_amplify__WEBPACK_IMPORTED_MODULE_3__["Auth"].signOut();
      updateUser(null);
    }
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["Icon"], {
    source: _shopify_polaris_icons__WEBPACK_IMPORTED_MODULE_8__["LogOutMinor"]
  }), " Logout"))), branchInfo && __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["Card"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["DataTable"], {
    columnContentTypes: ['text', 'text', 'text', 'text'],
    headings: ['Customer phone number', 'TotalPrice', 'TotalBonusAmount', 'Minus from Bonus Amount', 'CreatedAt'],
    rows: branchInfo && branchInfo.transactions.items.filter(transaction => {
      if (searchValue == null) {
        return transaction;
      } else if (transaction.customer[0].phone.toLowerCase().includes(searchValue.toLowerCase())) {
        return transaction;
      }
    }).sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)).map(transaction => [__jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["Button"], {
      primary: true,
      onClick: () => redirect.dispatch(_shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_5__["Redirect"].Action.ADMIN_PATH, {
        path: `/customers/${transaction.customer[0].id}`,
        newContext: true
      })
    }, transaction.customer[0].phone), Object(_utils_helper__WEBPACK_IMPORTED_MODULE_9__["toCurrency"])(Number(transaction.totalPrice)), Object(_utils_helper__WEBPACK_IMPORTED_MODULE_9__["toCurrency"])(Number(transaction.totalBonusAmount)), transaction.note === null ? '' : Object(_utils_helper__WEBPACK_IMPORTED_MODULE_9__["toCurrency"])(Object(_utils_helper__WEBPACK_IMPORTED_MODULE_9__["extractNumbersFromString"])(transaction.note)), Object(_utils_helper__WEBPACK_IMPORTED_MODULE_9__["formatDate"])(transaction.createdAt)])
  }))));
};

/* harmony default export */ __webpack_exports__["default"] = (BranchData);

/***/ }),

/***/ "./components/BranchList.js":
/*!**********************************!*\
  !*** ./components/BranchList.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var aws_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-sdk */ "aws-sdk");
/* harmony import */ var aws_sdk__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(aws_sdk__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _shopify_app_bridge__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @shopify/app-bridge */ "@shopify/app-bridge");
/* harmony import */ var _shopify_app_bridge__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_shopify_app_bridge__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @shopify/app-bridge/actions */ "@shopify/app-bridge/actions");
/* harmony import */ var _shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! uuid */ "uuid");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _ProductsList__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ProductsList */ "./components/ProductsList.js");
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _BranchProducts__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./BranchProducts */ "./components/BranchProducts.js");
/* harmony import */ var _components_AdminBranchInfo__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/AdminBranchInfo */ "./components/AdminBranchInfo.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;














aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_11__["default"]);
aws_sdk__WEBPACK_IMPORTED_MODULE_1___default.a.config.update({
  accessKeyId: 'AKIAI53OMMWOAP5X3K5Q',
  secretAccessKey: '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',
  region: 'us-east-1'
});
const cognito = new aws_sdk__WEBPACK_IMPORTED_MODULE_1___default.a.CognitoIdentityServiceProvider();
const listBranchs = graphql_tag__WEBPACK_IMPORTED_MODULE_5___default.a`
    query listBranchs {
        listBranchs {
            items {
                adminId
                branchName
                branchUsername
                createdAt
                id
                branchProducts {
                    items {
                        branchId
                        createdAt
                        id
                        productId
                        tags
                        updatedAt
                    }
                }
            }
        }
    }
`;
const onCreateBranchSubscription = graphql_tag__WEBPACK_IMPORTED_MODULE_5___default.a`
    subscription onCreateBranch {
        onCreateBranch {
            adminId
            branchName
            id
            createdAt
        }
    }
`;
const onDeleteBranchSubscription = graphql_tag__WEBPACK_IMPORTED_MODULE_5___default.a`
    subscription onDeleteBranch {
        onDeleteBranch {
            id
        }
    }
`;
const removeBranch = graphql_tag__WEBPACK_IMPORTED_MODULE_5___default.a`
    mutation deleteBranch($input: DeleteBranchInput!) {
        deleteBranch(input: $input) {
            id
        }
    }
`;

const BranchList = ({
  setBranchId,
  branchId
}) => {
  const {
    0: active,
    1: setActive
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);
  const {
    0: branches,
    1: setBranches
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: branchName,
    1: setBranchName
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: productBranchId,
    1: setProductBranchId
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: newCreatedBranch,
    1: setNewCreatedBranch
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const app = _shopify_app_bridge__WEBPACK_IMPORTED_MODULE_3___default()({
    apiKey: '3b01063bac3031d13101100ef3e44fd5',
    shopOrigin: 'transactions-avanta.myshopify.com'
  });
  const redirect = _shopify_app_bridge_actions__WEBPACK_IMPORTED_MODULE_4__["Redirect"].create(app);

  const handleChange = () => {
    setActive(!active);
  };

  const fetchBranches = async () => {
    try {
      const getBranches = await aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(listBranchs));
      setBranches(getBranches.data);
    } catch (error) {
      console.log(error);
    }
  };

  const deleteBranch = async id => {
    try {
      const deletedBranch = await aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(removeBranch, {
        input: {
          id
        }
      }));
      console.log('Deleted branch', deletedBranch);
    } catch (error) {
      console.log(error);
    }
  };

  const deleteUserFromCognito = async username => {
    try {
      await cognito.adminDeleteUser({
        UserPoolId: 'us-east-1_IfrnnzGFR',
        Username: username
      }).promise();
    } catch (error) {
      console.log(error);
    }
  };

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    fetchBranches();
    aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(onCreateBranchSubscription)).subscribe({
      next: createdBranch => {
        setNewCreatedBranch(createdBranch);
      }
    });
    aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(onDeleteBranchSubscription)).subscribe({
      next: deletedBranch => {
        setNewCreatedBranch(deletedBranch);
      }
    });
  }, [newCreatedBranch]);
  console.log('Branches from Branch list', branches);
  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Table"], {
    selectable: true,
    celled: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Table"].Header, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Table"].Row, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Table"].HeaderCell, null, "Branch Name"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Table"].HeaderCell, {
    textAlign: "center"
  }, "Created At"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Table"].HeaderCell, {
    textAlign: "center"
  }, "Actions"))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Table"].Body, null, branches && branches.listBranchs.items.map(item => __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Table"].Row, {
    key: item.id
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_7__["Button"], {
    primary: true,
    onClick: () => {
      setBranchId(item.id); // redirect.dispatch(
      //     Redirect.Action.ADMIN_PATH,
      //     `/apps/3b01063bac3031d13101100ef3e44fd5/branch/${item.id}`
      // )
    }
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Icon"], {
    name: "code branch"
  }), " ", item.branchName)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Table"].Cell, {
    textAlign: "center"
  }, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_10__["formatDate"])(item.createdAt)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Table"].Cell, {
    textAlign: "center",
    className: "branch-actions"
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Popup"], {
    content: "Edit branch",
    trigger: __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Icon"], {
      onClick: () => {
        setProductBranchId(item.id);
        setBranchName(item.branchName);
        handleChange();
      },
      className: "edit-branch",
      name: "edit outline"
    })
  }), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Popup"], {
    content: "Delete Branch",
    trigger: __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__["Icon"], {
      className: "remove-branch",
      name: "trash alternate",
      onClick: () => {
        deleteBranch(item.id);
        deleteUserFromCognito(item.branchUsername);
      }
    })
  })))))), __jsx(_BranchProducts__WEBPACK_IMPORTED_MODULE_12__["default"], {
    branchName: branchName,
    branchId: productBranchId,
    active: active,
    handleChange: handleChange
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (BranchList);

/***/ }),

/***/ "./components/BranchProducts.js":
/*!**************************************!*\
  !*** ./components/BranchProducts.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ "axios");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ "uuid");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @apollo/client */ "@apollo/client");
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_apollo_client__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _BranchRow__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./BranchRow */ "./components/BranchRow.js");
/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! graphql */ "graphql");
/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(graphql__WEBPACK_IMPORTED_MODULE_11__);
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;












aws_amplify__WEBPACK_IMPORTED_MODULE_3__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_9__["default"]);
const listProducts = graphql_tag__WEBPACK_IMPORTED_MODULE_4___default.a`
    query Products {
        products(first: 100) {
            edges {
                node {
                    id
                    title
                    tags
                    description(truncateAt: 100)
                    variants(first: 1) {
                        edges {
                            node {
                                id
                                price
                            }
                        }
                    }
                    images(first: 1) {
                        edges {
                            node {
                                originalSrc
                            }
                        }
                    }
                }
            }
        }
    }
`;
const createBranchProduct = graphql_tag__WEBPACK_IMPORTED_MODULE_4___default.a`
    mutation createBranchProduct($input: CreateBranchProductInput!) {
        createBranchProduct(input: $input) {
            id
            branchId
            productId
            tags
        }
    }
`;
const productUpdate = graphql_tag__WEBPACK_IMPORTED_MODULE_4___default.a`
    mutation productUpdate($input: ProductInput!) {
        productUpdate(input: $input) {
            product {
                id
                metafields(first: 100) {
                    edges {
                        node {
                            namespace
                            key
                            value
                        }
                    }
                }
            }
        }
    }
`;
const getBranchById = graphql_tag__WEBPACK_IMPORTED_MODULE_4___default.a`
    query getBranch($id: ID!) {
        getBranch(id: $id) {
            transactions(sortDirection: DESC) {
                items {
                    branchId
                    createdAt
                    currency
                    note
                    customer {
                        email
                        id
                        firstName
                        lastName
                        phone
                    }
                    totalBonusAmount
                    totalPrice
                    updatedAt
                    sortDate
                }
            }
            branchName
            adminId
            id
            branchProducts {
                items {
                    branchId
                    createdAt
                    id
                    productId
                    tags
                    updatedAt
                }
            }
        }
    }
`;
const updateBranchProduct = graphql_tag__WEBPACK_IMPORTED_MODULE_4___default.a`
    mutation updateBranchProduct($input: UpdateBranchProductInput!) {
        updateBranchProduct(input: $input) {
            id
            tags
            branchId
            productId
        }
    }
`;
const deleteBranchProduct = graphql_tag__WEBPACK_IMPORTED_MODULE_4___default.a`
    mutation deleteBranchProduct($input: DeleteBranchProductInput!) {
        deleteBranchProduct(input: $input) {
            id
        }
    }
`;
const onCreateBranchProduct = graphql_tag__WEBPACK_IMPORTED_MODULE_4___default.a`
    subscription onCreateBranchProduct {
        onCreateBranchProduct {
            id
        }
    }
`;
const onUpdateBranchProduct = graphql_tag__WEBPACK_IMPORTED_MODULE_4___default.a`
    subscription onUpdateBranchProduct {
        onUpdateBranchProduct {
            id
        }
    }
`;
const onDeleteBranchProduct = graphql_tag__WEBPACK_IMPORTED_MODULE_4___default.a`
    subscription onDeleteBranchProduct {
        onDeleteBranchProduct {
            id
        }
    }
`;

const ProductsList = ({
  active,
  handleChange,
  branchId,
  branchName
}) => {
  const {
    loading,
    error,
    data
  } = Object(_apollo_client__WEBPACK_IMPORTED_MODULE_5__["useQuery"])(listProducts);
  const {
    0: branchProductSubscription,
    1: setBranchProductSubscription
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: rowId,
    1: setRowId
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]);
  const {
    0: state,
    1: setState
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({
    products: []
  });
  const {
    0: searchValue,
    1: setSearchValue
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
  const {
    0: branchInfo,
    1: setBranchInfo
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const handleSearchInput = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => setSearchValue(newValue), []);

  const getBranch = async () => {
    try {
      const branch = await aws_amplify__WEBPACK_IMPORTED_MODULE_3__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_3__["graphqlOperation"])(getBranchById, {
        id: branchId
      }));
      setBranchInfo(branch.data.getBranch);
      setRowId([...rowId, ...branch.data.getBranch.branchProducts.items.map(item => item.productId)]);
      setState({
        products: [...state.products, ...branch.data.getBranch.branchProducts.items.map(product => ({
          id: product.productId
        }))]
      });
    } catch (error) {
      console.log(error);
    }
  };

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    getBranch();
    const createListener = aws_amplify__WEBPACK_IMPORTED_MODULE_3__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_3__["graphqlOperation"])(onCreateBranchProduct)).subscribe({
      next: createdBranchProduct => setBranchProductSubscription(createdBranchProduct)
    });
    const updateListener = aws_amplify__WEBPACK_IMPORTED_MODULE_3__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_3__["graphqlOperation"])(onUpdateBranchProduct)).subscribe({
      next: updatedBranchProduct => setBranchProductSubscription(updatedBranchProduct)
    });
    const deleteListener = aws_amplify__WEBPACK_IMPORTED_MODULE_3__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_3__["graphqlOperation"])(onDeleteBranchProduct)).subscribe({
      next: deletedBranchProduct => setBranchProductSubscription(deletedBranchProduct)
    });
    return () => {
      createListener.unsubscribe();
      updateListener.unsubscribe();
      deleteListener.unsubscribe();
    };
  }, [branchId, branchProductSubscription]);

  if (loading) {
    return __jsx("div", null, "Loading products...");
  }

  if (error) {
    return __jsx("div", null, "Some error occured");
  }

  console.log('Branch info from BranchProducts', branchInfo);
  console.log('Products from state in BranchProducts', state.products);

  const deleteProductsFromBranch = () => {
    const productsToDeleteFromBranch = branchInfo.branchProducts.items.filter(branchProduct => !state.products.map(product => product.id).includes(branchProduct.productId));
    console.log('Products that are not included in products array', productsToDeleteFromBranch);
    Promise.all(productsToDeleteFromBranch.map(deleteProduct => {
      aws_amplify__WEBPACK_IMPORTED_MODULE_3__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_3__["graphqlOperation"])(deleteBranchProduct, {
        input: {
          id: deleteProduct.id
        }
      }));
    })).catch(err => console.log(err));
    return;
  };

  const addProductsToBranch = () => {
    Promise.all(state.products.map(product => {
      const updatedProduct = branchInfo.branchProducts.items.filter(branchProduct => branchProduct.productId === product.id)[0];

      if (updatedProduct) {
        console.log('Yes it containes products that should be updated', updatedProduct);
        aws_amplify__WEBPACK_IMPORTED_MODULE_3__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_3__["graphqlOperation"])(updateBranchProduct, {
          input: {
            id: updatedProduct.id,
            tags: product.tags
          }
        }));
      } else {
        console.log("No it doesn't contain the product that should be updated");
        aws_amplify__WEBPACK_IMPORTED_MODULE_3__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_3__["graphqlOperation"])(createBranchProduct, {
          input: {
            id: Object(uuid__WEBPACK_IMPORTED_MODULE_2__["v4"])(),
            branchId: branchId,
            productId: product.id,
            tags: product.tags
          }
        }));
      }
    })).catch(err => console.log(err));
    return;
  }; // const updateProducts = async () => {
  //     try {
  //         await axios({
  //             url: 'http://localhost:3000/updateProduct',
  //             method: 'POST',
  //             data: {
  //                 products: state.products
  //             }
  //         })
  //     } catch (error) {
  //         console.log(error)
  //     }
  // }


  console.log('State data from product list', state);
  console.log('BranchInfo from modalZaven jan', branchInfo);
  return __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_6__["Modal"], {
    open: active,
    onClose: () => handleChange(),
    title: "Choose products",
    primaryAction: {
      content: 'Save changes',
      onAction: () => {
        addProductsToBranch();
        deleteProductsFromBranch(); // updateProducts()

        handleChange();
      }
    }
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_6__["Modal"].Section, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__["Table"], {
    celled: true,
    striped: true,
    selectable: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__["Table"].Header, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__["Table"].Row, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__["Table"].HeaderCell, null, "Products"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__["Table"].HeaderCell, {
    textAlign: "center"
  }, "Price"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__["Table"].HeaderCell, null, "Bonus Percentage"))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__["Table"].Body, null, data && branchInfo && data.products.edges // .filter((product) => {
  //     if (searchValue == null) {
  //         return product
  //     } else if (
  //         product.node.title
  //             .toLowerCase()
  //             .includes(searchValue.toLowerCase())
  //     ) {
  //         return product
  //     }
  // })
  .map(product => __jsx(_BranchRow__WEBPACK_IMPORTED_MODULE_10__["default"], {
    rowId: rowId,
    setRowId: setRowId,
    branchInfo: branchInfo,
    branchId: branchId,
    product: product,
    state: state,
    setState: setState
  }) // <Table.Row
  //     key={product.node.id}
  //     >
  //     <Table.Cell>
  //         <Header as="h4" image className="product-header">
  //             <Checkbox
  //                 checked={
  //                     rowId.includes(product.node.id) && true
  //                 }
  //                 onClick={() => {
  //                     if (rowId.includes(product.node.id)) {
  //                         setRowId(
  //                             rowId.filter((id) => id !== product.node.id)
  //                         )
  //                         setState({
  //                             products: state.products.filter(
  //                                 (filteredProduct) =>
  //                                     filteredProduct.node.id !==
  //                                     product.node.id
  //                             )
  //                         })
  //                     } else {
  //                         setRowId([...rowId, product.node.id])
  //                         setState({
  //                             ...state,
  //                             products: [...state.products, product]
  //                         })
  //                     }
  //                 }}
  //             />
  //             <Thumbnail
  //                 source={
  //                     product.node.images.edges[0] &&
  //                     product.node.images.edges[0].node
  //                         .originalSrc
  //                 }
  //                 size="small"
  //                 alt=""
  //             />
  //             <Header.Content>
  //                 {product.node.title}
  //             </Header.Content>
  //         </Header>
  //     </Table.Cell>
  //     <Table.Cell>
  //         <TextStyle variation="subdued">
  //             {product.node.description}
  //         </TextStyle>
  //     </Table.Cell>
  //     <Table.Cell textAlign="center">
  //         <TextStyle variation="subdued">
  //             {product.node.variants.edges[0] &&
  //                 toCurrency(
  //                     product.node.variants.edges[0].node.price
  //                 )}
  //         </TextStyle>
  //     </Table.Cell>
  // </Table.Row>
  )), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__["Table"].Footer, {
    fullWidth: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__["Table"].Row, null)))));
};

/* harmony default export */ __webpack_exports__["default"] = (ProductsList);

/***/ }),

/***/ "./components/BranchRow.js":
/*!*********************************!*\
  !*** ./components/BranchRow.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ "axios");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @apollo/client */ "@apollo/client");
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_apollo_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../graphql/queries */ "./graphql/queries.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }











aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_8__["default"]);

const BranchRow = ({
  product,
  state,
  setState,
  branchId,
  branchInfo,
  rowId,
  setRowId
}) => {
  const {
    0: fetchedProduct,
    1: setFetchedProduct
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({
    description: product.node.description,
    id: product.node.id,
    image: product.node.images.edges[0] ? product.node.images.edges[0].node.originalSrc : '',
    tags: product.node.tags,
    title: product.node.title,
    variants: {
      id: product.node.variants.edges[0].node.id,
      price: product.node.variants.edges[0].node.price
    }
  }); // const [branchInfo, setBranchInfo] = useState('')
  // const [rowId, setRowId] = useState('')

  const {
    0: searchValue,
    1: setSearchValue
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);
  const {
    0: bonus,
    1: setBonus
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: checked,
    1: setChecked
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);
  const handleSearchInput = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => setSearchValue(newValue), []);
  const handleBonus = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(value => {
    setBonus(value);
    fetchedProduct.tags = [value];
    setFetchedProduct(fetchedProduct);
  }, []);

  const compareProduct = () => {
    const comparedProduct = branchInfo.branchProducts.items.filter(branchProduct => branchProduct.productId === fetchedProduct.id);
    console.log('Here is your compared product', comparedProduct);

    if (!comparedProduct || comparedProduct === undefined) {
      return;
    }

    setBonus(comparedProduct[0] ? comparedProduct[0].tags[0] : '');
    return;
  }; // const getBranch = async () => {
  //     try {
  //         const branch = await API.graphql(graphqlOperation(getBranchById, { id: branchId }))
  //         setBranchInfo(branch.data.getBranch)
  //         setRowId(
  //             branch.data.getBranch.branchProducts.items
  //                 .map((item) => item.productId)
  //                 .filter((productId) => productId === fetchedProduct.id)[0]
  //         )
  //         setState({
  //             products: [
  //                 ...state.products,
  //                 ...branch.data.getBranch.branchProducts.items.filter(
  //                     (product) => product.productId === fetchedProduct.id
  //                 )[0]
  //             ]
  //         })
  //         compareProduct(branch.data.getBranch.branchProducts)
  //     } catch (error) {
  //         console.log(error)
  //     }
  // }


  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    console.log('Row id from useEffect', branchInfo.branchProducts.items.map(item => item.productId).filter(productId => productId === fetchedProduct.id)[0]); // setRowId([...rowId, branchInfo.branchProducts.items
    //         .map((item) => item.productId)
    //         .filter((productId) => productId === fetchedProduct.id)[0]])

    compareProduct();
  }, [product, branchInfo]);
  console.log('Fetched product', fetchedProduct);
  console.log('State from BranchRow', state);
  console.log('Row id from BranchRow', rowId);
  return __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__["Table"].Row, {
    key: fetchedProduct.id
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__["Table"].Cell, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__["Header"], {
    as: "h4",
    image: true,
    className: "product-header"
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_5__["Checkbox"], {
    checked: rowId.includes(fetchedProduct.id) && true,
    onChange: () => {
      if (rowId.includes(fetchedProduct.id)) {
        setRowId(rowId.filter(id => id !== fetchedProduct.id));
        setState({
          products: state.products.filter(filteredProduct => filteredProduct.id !== fetchedProduct.id)
        });
      } else {
        setRowId([...rowId, fetchedProduct.id]);
        setState(_objectSpread(_objectSpread({}, state), {}, {
          products: [...state.products, fetchedProduct]
        }));
      }
    }
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_5__["Thumbnail"], {
    source: fetchedProduct.image,
    size: "small",
    alt: ""
  }), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__["Header"].Content, null, fetchedProduct.title))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__["Table"].Cell, {
    textAlign: "center"
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_5__["TextStyle"], {
    variation: "subdued"
  }, fetchedProduct.variants && Object(_utils_helper__WEBPACK_IMPORTED_MODULE_7__["toCurrency"])(fetchedProduct.variants.price))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_5__["TextField"], {
    id: "percentage-input",
    placeholder: "Bonus Percentage",
    value: bonus,
    onChange: handleBonus,
    prefix: __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__["Icon"], {
      name: "percent"
    }),
    disabled: !rowId.includes(fetchedProduct.id)
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (BranchRow);

/***/ }),

/***/ "./components/DeclinedPaymentRequest.js":
/*!**********************************************!*\
  !*** ./components/DeclinedPaymentRequest.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;







aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].configure(aws_amplify__WEBPACK_IMPORTED_MODULE_2___default.a);
const listPaymentRequest = graphql_tag__WEBPACK_IMPORTED_MODULE_3___default.a`
    query listPaymentRequest($limit: Int, $nextToken: String) {
        listPaymentRequests(
            limit: $limit
            nextToken: $nextToken
            filter: { status: { eq: DECLINED } }
        ) {
            items {
                bonusAmount
                createdAt
                customerId
                id
                orderId
                status
                updatedAt
            }
            nextToken
        }
    }
`;

const DeclinedPaymentRequest = () => {
  const {
    0: nextPaginateToken,
    1: setNextPaginateToken
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: paymentRequestItems,
    1: setPaymentRequestItems
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]);
  const fetchAcceptedPayments = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(async () => {
    try {
      const res = await aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(listPaymentRequest, {
        limit: 20
      }));
      setNextPaginateToken(res.data.listPaymentRequests.nextToken);
      setPaymentRequestItems(res.data.listPaymentRequests.items);
      console.log('Accepted payments', res.data);
    } catch (error) {
      console.log(error);
    }
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    fetchAcceptedPayments();
  }, [fetchAcceptedPayments]);

  const loadMore = async () => {
    try {
      const res = await aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(listPaymentRequest, {
        limit: 20,
        nextToken: nextPaginateToken
      }));
      setNextPaginateToken(res.data.listPaymentRequests.nextToken);
      setPaymentRequestItems([...paymentRequestItems, ...res.data.listPaymentRequests.items]);
    } catch (error) {
      console.log(error);
    }
  };

  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"], {
    celled: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Header, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Row, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Customer Id"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Bonus Amount"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Created At"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Updated At"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].HeaderCell, null, "Status"))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Body, null, paymentRequestItems && paymentRequestItems.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt)).map(item => __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Row, {
    key: item.id
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Badge"], {
    size: "small"
  }, item.customerId)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["toCurrency"])(item.bonusAmount)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["formatDate"])(item.createdAt)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["formatDate"])(item.updatedAt)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Badge"], {
    size: "small",
    progress: "incomplete",
    status: "critical"
  }, item.status)))))), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    disabled: !nextPaginateToken,
    primary: true,
    onClick: loadMore
  }, "Load more"));
};

/* harmony default export */ __webpack_exports__["default"] = (DeclinedPaymentRequest);

/***/ }),

/***/ "./components/Login.js":
/*!*****************************!*\
  !*** ./components/Login.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");

var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;





const Profile = ({
  setUser
}) => {
  const {
    0: username,
    1: setUsername
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: password,
    1: setPassword
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const onChangeUsername = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => {
    setUsername(newValue);
    console.log('Value username', newValue);
  }, []);
  const onChangePassword = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => {
    setPassword(newValue);
    console.log('Value password', newValue);
  }, []);

  const signIn = async e => {
    e.preventDefault();
    const signedInUser = await aws_amplify__WEBPACK_IMPORTED_MODULE_2__["Auth"].signIn(username, password);
    setUser(signedInUser);
  };

  return __jsx("div", {
    className: "authentication-container"
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_1__["Card"], {
    title: "Log into your branch",
    sectioned: true
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_1__["Form"], {
    onSubmit: signIn
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_1__["FormLayout"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_1__["TextField"], {
    value: username,
    onChange: onChangeUsername,
    label: "Username"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_1__["TextField"], {
    type: "password",
    value: password,
    onChange: onChangePassword,
    label: "Password"
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_1__["Button"], {
    primary: true,
    submit: true
  }, "Login")))));
};

/* harmony default export */ __webpack_exports__["default"] = (Profile);

/***/ }),

/***/ "./components/PaymentRequest.js":
/*!**************************************!*\
  !*** ./components/PaymentRequest.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _components_AcceptedPaymentRequest__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/AcceptedPaymentRequest */ "./components/AcceptedPaymentRequest.js");
/* harmony import */ var _components_PendingPaymentRequest__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/PendingPaymentRequest */ "./components/PendingPaymentRequest.js");
/* harmony import */ var _components_DeclinedPaymentRequest__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/DeclinedPaymentRequest */ "./components/DeclinedPaymentRequest.js");
/* harmony import */ var _graphql_subscriptions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../graphql/subscriptions */ "./graphql/subscriptions.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;








aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_3__["default"]);

const AcceptPayment = ({
  branchId,
  setShowPaymentRequest
}) => {
  const {
    0: activeToast,
    1: setActiveToast
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);
  const {
    0: selected,
    1: setSelected
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0);
  const {
    0: createUpdatePaymentSubscription,
    1: setCreateUpdatePaymentSubscription
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const handleTabChange = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(selectedTabIndex => setSelected(selectedTabIndex), []);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    const listener = aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_subscriptions__WEBPACK_IMPORTED_MODULE_7__["paymentSubscription"])).subscribe({
      next: paymentResponse => {
        setCreateUpdatePaymentSubscription(paymentResponse);
      }
    });
    const onUpdatePayment = aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_subscriptions__WEBPACK_IMPORTED_MODULE_7__["onUpdatePaymentSubscription"])).subscribe({
      next: onUpdatePaymentResponse => {
        setCreateUpdatePaymentSubscription(onUpdatePaymentResponse);
      }
    });
    return () => {
      listener.unsubscribe();
      onUpdatePayment.unsubscribe();
    };
  }, []);
  const tabs = [{
    id: 'pending-payments',
    content: 'Pending Payment Requests',
    accessibilityLabel: 'Pending Requests',
    panelID: 'pending-payments-content'
  }, {
    id: 'accepted-payments',
    content: 'Accepted Payment Requests',
    accessibilityLabel: 'Accepted Request',
    panelID: 'accepted-payments-content'
  }, {
    id: 'declined-payments',
    content: 'Declined Payment Requests',
    accessibilityLabel: 'Declined Requests',
    panelID: 'declined-payments-content'
  }];
  const toastMarkup = activeToast ? __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Toast"], {
    content: "Order has been successfully created",
    onDismiss: () => setActiveToast(false)
  }) : null;

  const renderPaymentRequest = selected => {
    switch (selected) {
      case 0:
        return __jsx(_components_PendingPaymentRequest__WEBPACK_IMPORTED_MODULE_5__["default"], {
          branchId: branchId,
          createUpdatePaymentSubscription: createUpdatePaymentSubscription
        });

      case 1:
        return __jsx(_components_AcceptedPaymentRequest__WEBPACK_IMPORTED_MODULE_4__["default"], {
          branchId: branchId
        });

      case 2:
        return __jsx(_components_DeclinedPaymentRequest__WEBPACK_IMPORTED_MODULE_6__["default"], {
          branchId: branchId
        });

      default:
        return;
    }
  };

  return __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Frame"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Page"], {
    title: "Payment Request"
  }, __jsx(Button, {
    onClick: () => setShowPaymentRequest(false)
  }, "Go back"), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Card"], null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Tabs"], {
    tabs: tabs,
    selected: selected,
    onSelect: handleTabChange
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_2__["Card"].Section, {
    title: tabs[selected].content
  }, renderPaymentRequest(selected)))), toastMarkup));
};

/* harmony default export */ __webpack_exports__["default"] = (AcceptPayment);

/***/ }),

/***/ "./components/PendingPaymentRequest.js":
/*!*********************************************!*\
  !*** ./components/PendingPaymentRequest.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _ProductsList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ProductsList */ "./components/ProductsList.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;








aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_7__["default"]);
const updatePaymentRequest = graphql_tag__WEBPACK_IMPORTED_MODULE_1___default.a`
    mutation updatePaymentRequest($input: UpdatePaymentRequestInput!) {
        updatePaymentRequest(input: $input) {
            bonusAmount
            customerId
            id
            orderId
            status
            products {
                originalUnitPrice
                quantity
                variantId
            }
            createdAt
            updatedAt
        }
    }
`;
const listPaymentRequest = graphql_tag__WEBPACK_IMPORTED_MODULE_1___default.a`
    query listPaymentRequest($branchId: ID) {
        listPaymentRequests(filter: { status: { eq: PENDING }, branchId: { eq: $branchId } }) {
            items {
                bonusAmount
                createdAt
                customerId
                id
                orderId
                status
                updatedAt
            }
            nextToken
        }
    }
`;
const paymentSubscription = graphql_tag__WEBPACK_IMPORTED_MODULE_1___default.a`
    subscription paymentRequest {
        onCreatePaymentRequest {
            bonusAmount
            createdAt
            customerId
            id
            orderId
            status
            updatedAt
        }
    }
`;

const PendingPaymentRequest = ({
  createUpdatePaymentSubscription,
  branchId
}) => {
  const {
    0: paymentRequestId,
    1: setPaymentRequestId
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])('');
  const {
    0: active,
    1: setActive
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);
  const {
    0: paymentRequestItems,
    1: setPaymentRequestItems
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]);
  const handleChange = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(() => setActive(!active), [active]);
  console.log('Payment request id for decline', paymentRequestId);
  const fetchAcceptedPayments = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(async () => {
    try {
      const res = await aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(listPaymentRequest, {
        branchId
      }));
      setPaymentRequestItems(res.data.listPaymentRequests.items);
      console.log('Accepted payments', res.data);
    } catch (error) {
      console.log(error);
    }
  }, [createUpdatePaymentSubscription]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    fetchAcceptedPayments();
  }, [fetchAcceptedPayments]);

  const declinePayment = async paymentId => {
    try {
      const paymentResponse = await aws_amplify__WEBPACK_IMPORTED_MODULE_2__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_2__["graphqlOperation"])(updatePaymentRequest, {
        input: {
          id: paymentId,
          status: 'DECLINED'
        }
      }));
      console.log('Declined Payment data from lambda', paymentResponse.data);
    } catch (error) {
      console.log(error);
    }
  };

  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"], {
    selectable: true,
    celled: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Header, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Row, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].HeaderCell, null, "Customer Id"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].HeaderCell, null, "Bonus Amount"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].HeaderCell, null, "Created At"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].HeaderCell, null, "Updated At"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].HeaderCell, null, "Status"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].HeaderCell, null, "Action"))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Body, null, paymentRequestItems && paymentRequestItems.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt)).map(item => __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Row, {
    key: item.id
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Badge"], {
    size: "small"
  }, item.customerId)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["toCurrency"])(item.bonusAmount)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["formatDate"])(item.createdAt)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Cell, null, Object(_utils_helper__WEBPACK_IMPORTED_MODULE_5__["formatDate"])(item.updatedAt)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Badge"], {
    size: "small",
    progress: "partiallyComplete",
    status: "attention"
  }, item.status)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Table"].Cell, {
    className: "actions-cell"
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Popup"], {
    content: "Approve payment",
    trigger: __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Icon"], {
      className: "accept",
      name: "check",
      onClick: () => {
        setPaymentRequestId(item.id);
        handleChange();
      }
    })
  }), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Popup"], {
    content: "Decline payment",
    trigger: __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__["Icon"], {
      className: "decline",
      name: "remove",
      onClick: async () => {
        declinePayment(item.id);
      }
    })
  })))))), __jsx(_ProductsList__WEBPACK_IMPORTED_MODULE_6__["default"], {
    paymentRequestId: paymentRequestId,
    active: active,
    handleChange: handleChange
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (PendingPaymentRequest);

/***/ }),

/***/ "./components/ProductsList.js":
/*!************************************!*\
  !*** ./components/ProductsList.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @apollo/client */ "@apollo/client");
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_apollo_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @shopify/polaris */ "@shopify/polaris");
/* harmony import */ var _shopify_polaris__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! semantic-ui-react */ "semantic-ui-react");
/* harmony import */ var semantic_ui_react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/helper */ "./utils/helper.js");
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../graphql/queries */ "./graphql/queries.js");
/* harmony import */ var _graphql_mutation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../graphql/mutation */ "./graphql/mutation.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }











aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].configure(_aws_exports__WEBPACK_IMPORTED_MODULE_7__["default"]);

const ProductsList = ({
  active,
  handleChange,
  paymentRequestId
}) => {
  const {
    loading,
    error,
    data
  } = Object(_apollo_client__WEBPACK_IMPORTED_MODULE_3__["useQuery"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_8__["listProducts"]);
  const {
    0: rowId,
    1: setRowId
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]);
  const {
    0: state,
    1: setState
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({
    products: []
  });

  if (loading) {
    return __jsx("div", null, "Loading products...");
  }

  if (error) {
    return __jsx("div", null, "Some error occured");
  }

  const acceptPayment = async () => {
    try {
      const paymentResponse = await aws_amplify__WEBPACK_IMPORTED_MODULE_1__["API"].graphql(Object(aws_amplify__WEBPACK_IMPORTED_MODULE_1__["graphqlOperation"])(_graphql_mutation__WEBPACK_IMPORTED_MODULE_9__["updatePaymentRequest"], {
        input: {
          id: paymentRequestId,
          status: 'APPROVED',
          products: state.products.map(product => ({
            originalUnitPrice: product.node.variants.edges[0].node.price,
            quantity: 1,
            variantId: product.node.variants.edges[0].node.id
          }))
        }
      }));
      console.log('Payment data from lambda', paymentResponse.data);
    } catch (error) {
      console.log(error);
    }
  };

  return __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Modal"], {
    open: active,
    onClose: handleChange,
    title: "Choose products",
    primaryAction: {
      content: 'Proceed',
      onAction: () => {
        acceptPayment();
        handleChange();
      }
    }
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Modal"].Section, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"], {
    celled: true,
    striped: true,
    selectable: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].Header, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].Row, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].HeaderCell, null, "Products"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].HeaderCell, null, "Description"), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].HeaderCell, {
    textAlign: "center"
  }, "Price"))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].Body, null, data && data.products.edges.map(product => __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].Row, {
    key: product.node.id,
    onClick: () => {
      if (rowId.includes(product.node.id)) {
        setRowId(rowId.filter(id => id !== product.node.id));
        setState({
          products: state.products.filter(filteredProduct => filteredProduct.node.id !== product.node.id)
        });
      } else {
        setRowId([...rowId, product.node.id]);
        setState(_objectSpread(_objectSpread({}, state), {}, {
          products: [...state.products, product]
        }));
      }
    }
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].Cell, null, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Header"], {
    as: "h4",
    image: true,
    className: "product-header"
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Checkbox"], {
    checked: rowId.includes(product.node.id) && true
  }), __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["Thumbnail"], {
    source: product.node.images.edges[0] && product.node.images.edges[0].node.originalSrc,
    size: "small",
    alt: ""
  }), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Header"].Content, null, product.node.title))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].Cell, null, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["TextStyle"], {
    variation: "subdued"
  }, product.node.description)), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].Cell, {
    textAlign: "center"
  }, __jsx(_shopify_polaris__WEBPACK_IMPORTED_MODULE_4__["TextStyle"], {
    variation: "subdued"
  }, product.node.variants.edges[0] && Object(_utils_helper__WEBPACK_IMPORTED_MODULE_6__["toCurrency"])(product.node.variants.edges[0].node.price)))))), __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].Footer, {
    fullWidth: true
  }, __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__["Table"].Row, null)))));
};

/* harmony default export */ __webpack_exports__["default"] = (ProductsList);

/***/ }),

/***/ "./graphql/mutation.js":
/*!*****************************!*\
  !*** ./graphql/mutation.js ***!
  \*****************************/
/*! exports provided: completeOrder, updatePaymentRequest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "completeOrder", function() { return completeOrder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updatePaymentRequest", function() { return updatePaymentRequest; });
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_0__);

const createDraftOrder = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
    mutation CreateOrder($input: DraftOrderInput!) {
        draftOrderCreate(input: $input) {
            draftOrder {
                id
                customer {
                    id
                }
                email
                lineItems(first: 10) {
                    edges {
                        node {
                            title
                            quantity
                            originalUnitPrice
                            variant {
                                id
                                price
                                title
                                product {
                                    tags
                                    title
                                    images(first: 5) {
                                        edges {
                                            node {
                                                originalSrc
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
`;
const completeOrder = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
    mutation CompleteOrder($id: ID!) {
        draftOrderComplete(id: $id, paymentPending: true) {
            draftOrder {
                customer {
                    id
                }
                email
                name
            }
        }
    }
`;
const updatePaymentRequest = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
    mutation updatePaymentRequest($input: UpdatePaymentRequestInput!) {
        updatePaymentRequest(input: $input) {
            bonusAmount
            customerId
            id
            orderId
            status
            products {
                originalUnitPrice
                quantity
                variantId
            }
            createdAt
            updatedAt
        }
    }
`;

/***/ }),

/***/ "./graphql/queries.js":
/*!****************************!*\
  !*** ./graphql/queries.js ***!
  \****************************/
/*! exports provided: listTransactions, listProducts, branchByAdminId, listPaymentRequest, getBranchById */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "listTransactions", function() { return listTransactions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "listProducts", function() { return listProducts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "branchByAdminId", function() { return branchByAdminId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "listPaymentRequest", function() { return listPaymentRequest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBranchById", function() { return getBranchById; });
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_0__);

const listTransactions = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
    query listTransactions($limit: Int, $nextToken: String) {
        listTransactions(limit: $limit, nextToken: $nextToken) {
            nextToken
            items {
                id
                totalPrice
                totalBonusAmount
                note
                currency
                products {
                    id
                    title
                    bonusPercentage
                    priceAmount
                    priceCurrency
                    image
                }
                customer {
                    id
                    firstName
                    lastName
                    phone
                    email
                }
                createdAt
            }
        }
    }
`;
const listProducts = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
    query Products {
        products(first: 100) {
            edges {
                node {
                    id
                    title
                    tags
                    description(truncateAt: 100)
                    variants(first: 1) {
                        edges {
                            node {
                                id
                                price
                            }
                        }
                    }
                    images(first: 1) {
                        edges {
                            node {
                                originalSrc
                            }
                        }
                    }
                }
            }
        }
    }
`;
const branchByAdminId = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
    query branchByAdminId($adminId: ID!) {
        branchByAdminId(adminId: $adminId) {
            items {
                adminId
                branchName
                id
                branchProducts {
                    items {
                        branchId
                        createdAt
                        id
                        productId
                        tags
                    }
                }
            }
        }
    }
`;
const listPaymentRequest = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
    query listPaymentRequest {
        listPaymentRequests {
            items {
                bonusAmount
                createdAt
                customerId
                id
                orderId
                status
                updatedAt
            }
        }
    }
`;
const getBranchById = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
    query getBranch($id: ID!) {
        getBranch(id: $id) {
            transactions(sortDirection: DESC) {
                items {
                    branchId
                    createdAt
                    currency
                    note
                    customer {
                        email
                        id
                        firstName
                        lastName
                        phone
                    }
                    totalBonusAmount
                    totalPrice
                    updatedAt
                    sortDate
                }
            }
            branchName
            adminId
            id
            branchProducts {
                items {
                    branchId
                    createdAt
                    id
                    productId
                    tags
                    updatedAt
                }
            }
        }
    }
`;

/***/ }),

/***/ "./graphql/subscriptions.js":
/*!**********************************!*\
  !*** ./graphql/subscriptions.js ***!
  \**********************************/
/*! exports provided: onUpdatePaymentSubscription, paymentSubscription */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onUpdatePaymentSubscription", function() { return onUpdatePaymentSubscription; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "paymentSubscription", function() { return paymentSubscription; });
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-tag */ "graphql-tag");
/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_0__);

const onUpdatePaymentSubscription = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
    subscription onUpdatePaymentRequest {
        onUpdatePaymentRequest {
            id
            status
        }
    }
`;
const paymentSubscription = graphql_tag__WEBPACK_IMPORTED_MODULE_0___default.a`
    subscription paymentRequest {
        onCreatePaymentRequest {
            bonusAmount
            createdAt
            customerId
            id
            orderId
            status
            updatedAt
        }
    }
`;

/***/ }),

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-amplify */ "aws-amplify");
/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(aws_amplify__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _aws_exports__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../aws-exports */ "./aws-exports.js");
/* harmony import */ var _components_Login__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Login */ "./components/Login.js");
/* harmony import */ var _components_BranchConsole__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/BranchConsole */ "./components/BranchConsole.js");
/* harmony import */ var _components_BranchData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/BranchData */ "./components/BranchData.js");
var __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;







const Index = () => {
  const {
    0: user,
    1: updateUser
  } = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);

  const checkUser = async () => {
    try {
      const user = await aws_amplify__WEBPACK_IMPORTED_MODULE_1__["Auth"].currentAuthenticatedUser();

      if (!user) {
        return;
      }

      updateUser(user);
    } catch (error) {
      console.log(error);
    }
  };

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {
    checkUser();
  }, []);
  return __jsx(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, user && user.username !== 'superadmin' && __jsx(_components_BranchData__WEBPACK_IMPORTED_MODULE_5__["default"], {
    updateUser: updateUser,
    user: user
  }), !user && __jsx(_components_Login__WEBPACK_IMPORTED_MODULE_3__["default"], {
    setUser: fetchedUser => updateUser(fetchedUser)
  }), user && user.username === 'superadmin' && __jsx(_components_BranchConsole__WEBPACK_IMPORTED_MODULE_4__["default"], {
    updateUser: updateUser
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (Index);

/***/ }),

/***/ "./utils/helper.js":
/*!*************************!*\
  !*** ./utils/helper.js ***!
  \*************************/
/*! exports provided: toCurrency, formatDate, extractNumbersFromString */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toCurrency", function() { return toCurrency; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatDate", function() { return formatDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "extractNumbersFromString", function() { return extractNumbersFromString; });
const toCurrency = price => {
  return new Intl.NumberFormat('hy-AM', {
    currency: 'AMD',
    style: 'currency'
  }).format(price);
};
const formatDate = rowDate => {
  const date = new Date(rowDate);
  const year = new Intl.DateTimeFormat('en', {
    year: 'numeric'
  }).format(date);
  const month = new Intl.DateTimeFormat('en', {
    month: 'short'
  }).format(date);
  const day = new Intl.DateTimeFormat('en', {
    day: '2-digit'
  }).format(date);
  return `${day}-${month}-${year}`;
};
const extractNumbersFromString = string => {
  return Number(string.match(/\d+/g));
};

/***/ }),

/***/ "@apollo/client":
/*!*********************************!*\
  !*** external "@apollo/client" ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@apollo/client");

/***/ }),

/***/ "@shopify/app-bridge":
/*!**************************************!*\
  !*** external "@shopify/app-bridge" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@shopify/app-bridge");

/***/ }),

/***/ "@shopify/app-bridge/actions":
/*!**********************************************!*\
  !*** external "@shopify/app-bridge/actions" ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@shopify/app-bridge/actions");

/***/ }),

/***/ "@shopify/polaris":
/*!***********************************!*\
  !*** external "@shopify/polaris" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@shopify/polaris");

/***/ }),

/***/ "@shopify/polaris-icons":
/*!*****************************************!*\
  !*** external "@shopify/polaris-icons" ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@shopify/polaris-icons");

/***/ }),

/***/ "aws-amplify":
/*!******************************!*\
  !*** external "aws-amplify" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("aws-amplify");

/***/ }),

/***/ "aws-sdk":
/*!**************************!*\
  !*** external "aws-sdk" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("aws-sdk");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("axios");

/***/ }),

/***/ "graphql":
/*!**************************!*\
  !*** external "graphql" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("graphql");

/***/ }),

/***/ "graphql-tag":
/*!******************************!*\
  !*** external "graphql-tag" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("graphql-tag");

/***/ }),

/***/ "next/router":
/*!******************************!*\
  !*** external "next/router" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("next/router");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("react");

/***/ }),

/***/ "semantic-ui-react":
/*!************************************!*\
  !*** external "semantic-ui-react" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("semantic-ui-react");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("uuid");

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vYXdzLWV4cG9ydHMuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9BY2NlcHRlZFBheW1lbnRSZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvQWRtaW5CcmFuY2hJbmZvLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvQnJhbmNoQ29uc29sZS5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL0JyYW5jaERhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9CcmFuY2hMaXN0LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvQnJhbmNoUHJvZHVjdHMuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9CcmFuY2hSb3cuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9EZWNsaW5lZFBheW1lbnRSZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvTG9naW4uanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9QYXltZW50UmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL1BlbmRpbmdQYXltZW50UmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL1Byb2R1Y3RzTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9ncmFwaHFsL211dGF0aW9uLmpzIiwid2VicGFjazovLy8uL2dyYXBocWwvcXVlcmllcy5qcyIsIndlYnBhY2s6Ly8vLi9ncmFwaHFsL3N1YnNjcmlwdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vdXRpbHMvaGVscGVyLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBhcG9sbG8vY2xpZW50XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiQHNob3BpZnkvYXBwLWJyaWRnZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBzaG9waWZ5L2FwcC1icmlkZ2UvYWN0aW9uc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBzaG9waWZ5L3BvbGFyaXNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAc2hvcGlmeS9wb2xhcmlzLWljb25zXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYXdzLWFtcGxpZnlcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhd3Mtc2RrXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYXhpb3NcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJncmFwaHFsXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZ3JhcGhxbC10YWdcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJuZXh0L3JvdXRlclwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlYWN0XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwic2VtYW50aWMtdWktcmVhY3RcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ1dWlkXCIiXSwibmFtZXMiOlsiYXdzbW9iaWxlIiwiQVBJIiwiY29uZmlndXJlIiwiY29uZmlnIiwibGlzdFBheW1lbnRSZXF1ZXN0IiwiZ3FsIiwiQWNjZXB0ZWRQYXltZW50UmVxdWVzdCIsIm5leHRQYWdpbmF0ZVRva2VuIiwic2V0TmV4dFBhZ2luYXRlVG9rZW4iLCJ1c2VTdGF0ZSIsInBheW1lbnRSZXF1ZXN0SXRlbXMiLCJzZXRQYXltZW50UmVxdWVzdEl0ZW1zIiwiY29uc29sZSIsImxvZyIsImZldGNoQWNjZXB0ZWRQYXltZW50cyIsInVzZUNhbGxiYWNrIiwicmVzIiwiZ3JhcGhxbCIsImdyYXBocWxPcGVyYXRpb24iLCJsaW1pdCIsImRhdGEiLCJsaXN0UGF5bWVudFJlcXVlc3RzIiwibmV4dFRva2VuIiwiaXRlbXMiLCJlcnJvciIsInVzZUVmZmVjdCIsImxvYWRNb3JlIiwic29ydCIsImEiLCJiIiwiRGF0ZSIsInVwZGF0ZWRBdCIsIm1hcCIsIml0ZW0iLCJpZCIsImN1c3RvbWVySWQiLCJvcmRlcklkIiwidG9DdXJyZW5jeSIsImJvbnVzQW1vdW50IiwiZm9ybWF0RGF0ZSIsImNyZWF0ZWRBdCIsInN0YXR1cyIsImdldEJyYW5jaEJ5SWQiLCJBZG1pbkJyYW5jaEluZm8iLCJicmFuY2hJZCIsInNldEJyYW5jaElkIiwiYnJhbmNoSW5mbyIsInNldEJyYW5jaEluZm8iLCJzZWFyY2hWYWx1ZSIsInNldFNlYXJjaFZhbHVlIiwiaGFuZGxlU2VhcmNoSW5wdXQiLCJuZXdWYWx1ZSIsImdldEJyYW5jaCIsImJyYW5jaCIsIlNlYXJjaE1ham9yTW9ub3RvbmUiLCJ0cmFuc2FjdGlvbnMiLCJmaWx0ZXIiLCJ0cmFuc2FjdGlvbiIsImN1c3RvbWVyIiwicGhvbmUiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwicmVkaXJlY3QiLCJkaXNwYXRjaCIsIlJlZGlyZWN0IiwiQWN0aW9uIiwiQURNSU5fUEFUSCIsInBhdGgiLCJuZXdDb250ZXh0IiwiTnVtYmVyIiwidG90YWxQcmljZSIsInRvdGFsQm9udXNBbW91bnQiLCJub3RlIiwiZXh0cmFjdE51bWJlcnNGcm9tU3RyaW5nIiwiY3JlYXRlQnJhbmNoIiwibGlzdEJyYW5jaHMiLCJCcmFuY2hDb25zb2xlIiwidXBkYXRlVXNlciIsImFjdGl2ZSIsInNldEFjdGl2ZSIsImJyYW5jaE5hbWUiLCJzZXRCcmFuY2hOYW1lIiwidXNlcm5hbWUiLCJzZXRVc2VybmFtZSIsImVtYWlsIiwic2V0RW1haWwiLCJwYXNzd29yZCIsInNldFBhc3N3b3JkIiwiY29kZSIsInNldENvZGUiLCJmb3JtVHlwZSIsInNldEZvcm1UeXBlIiwidXNlclN1YiIsInNldFVzZXJTdWIiLCJicmFuY2hlcyIsInNldEJyYW5jaGVzIiwib25DaGFuZ2VCcmFuY2hOYW1lIiwib25DaGFuZ2VVc2VybmFtZSIsIm9uQ2hhbmdlUGFzc3dvcmQiLCJvbkNoYW5nZUVtYWlsIiwib25DaGFuZ2VDb2RlIiwiaGFuZGxlQ2hhbmdlIiwic2lnblVwIiwiZSIsInByZXZlbnREZWZhdWx0IiwidXNlciIsIkF1dGgiLCJhdHRyaWJ1dGVzIiwiY29uZmlybSIsImNvbmZpcm1lZFVzZXIiLCJjb25maXJtU2lnblVwIiwiaW5wdXQiLCJhZG1pbklkIiwiYnJhbmNoVXNlcm5hbWUiLCJ1dWlkdjQiLCJmZXRjaEJyYW5jaGVzIiwiZ2V0QnJhbmNoZXMiLCJzaWduT3V0IiwiYnJhbmNoQnlBZG1pbklkIiwib25DcmVhdGVUcmFuc2FjdGlvbiIsIkJyYW5jaERhdGEiLCJuZXdDcmVhdGVkVHJhbnNhY3Rpb24iLCJzZXROZXdDcmVhdGVkVHJhbnNhY3Rpb24iLCJzaG93UGF5bWVudFJlcXVlc3QiLCJzZXRTaG93UGF5bWVudFJlcXVlc3QiLCJyb3V0ZXIiLCJ1c2VSb3V0ZXIiLCJhcHAiLCJjcmVhdGVBcHAiLCJhcGlLZXkiLCJzaG9wT3JpZ2luIiwiY3JlYXRlIiwiZmV0Y2hCcmFuY2giLCJzdWIiLCJzdWJzY3JpYmUiLCJuZXh0IiwiY3JlYXRlZFRyYW5zYWN0aW9uIiwiQmFsYW5jZU1ham9yTW9ub3RvbmUiLCJSRU1PVEUiLCJ1cmwiLCJUcmFuc2FjdGlvbk1ham9yTW9ub3RvbmUiLCJMb2dPdXRNaW5vciIsIkFXUyIsInVwZGF0ZSIsImFjY2Vzc0tleUlkIiwic2VjcmV0QWNjZXNzS2V5IiwicmVnaW9uIiwiY29nbml0byIsIkNvZ25pdG9JZGVudGl0eVNlcnZpY2VQcm92aWRlciIsIm9uQ3JlYXRlQnJhbmNoU3Vic2NyaXB0aW9uIiwib25EZWxldGVCcmFuY2hTdWJzY3JpcHRpb24iLCJyZW1vdmVCcmFuY2giLCJCcmFuY2hMaXN0IiwicHJvZHVjdEJyYW5jaElkIiwic2V0UHJvZHVjdEJyYW5jaElkIiwibmV3Q3JlYXRlZEJyYW5jaCIsInNldE5ld0NyZWF0ZWRCcmFuY2giLCJkZWxldGVCcmFuY2giLCJkZWxldGVkQnJhbmNoIiwiZGVsZXRlVXNlckZyb21Db2duaXRvIiwiYWRtaW5EZWxldGVVc2VyIiwiVXNlclBvb2xJZCIsIlVzZXJuYW1lIiwicHJvbWlzZSIsImNyZWF0ZWRCcmFuY2giLCJsaXN0UHJvZHVjdHMiLCJjcmVhdGVCcmFuY2hQcm9kdWN0IiwicHJvZHVjdFVwZGF0ZSIsInVwZGF0ZUJyYW5jaFByb2R1Y3QiLCJkZWxldGVCcmFuY2hQcm9kdWN0Iiwib25DcmVhdGVCcmFuY2hQcm9kdWN0Iiwib25VcGRhdGVCcmFuY2hQcm9kdWN0Iiwib25EZWxldGVCcmFuY2hQcm9kdWN0IiwiUHJvZHVjdHNMaXN0IiwibG9hZGluZyIsInVzZVF1ZXJ5IiwiYnJhbmNoUHJvZHVjdFN1YnNjcmlwdGlvbiIsInNldEJyYW5jaFByb2R1Y3RTdWJzY3JpcHRpb24iLCJyb3dJZCIsInNldFJvd0lkIiwic3RhdGUiLCJzZXRTdGF0ZSIsInByb2R1Y3RzIiwiYnJhbmNoUHJvZHVjdHMiLCJwcm9kdWN0SWQiLCJwcm9kdWN0IiwiY3JlYXRlTGlzdGVuZXIiLCJjcmVhdGVkQnJhbmNoUHJvZHVjdCIsInVwZGF0ZUxpc3RlbmVyIiwidXBkYXRlZEJyYW5jaFByb2R1Y3QiLCJkZWxldGVMaXN0ZW5lciIsImRlbGV0ZWRCcmFuY2hQcm9kdWN0IiwidW5zdWJzY3JpYmUiLCJkZWxldGVQcm9kdWN0c0Zyb21CcmFuY2giLCJwcm9kdWN0c1RvRGVsZXRlRnJvbUJyYW5jaCIsImJyYW5jaFByb2R1Y3QiLCJQcm9taXNlIiwiYWxsIiwiZGVsZXRlUHJvZHVjdCIsImNhdGNoIiwiZXJyIiwiYWRkUHJvZHVjdHNUb0JyYW5jaCIsInVwZGF0ZWRQcm9kdWN0IiwidGFncyIsImNvbnRlbnQiLCJvbkFjdGlvbiIsImVkZ2VzIiwiQnJhbmNoUm93IiwiZmV0Y2hlZFByb2R1Y3QiLCJzZXRGZXRjaGVkUHJvZHVjdCIsImRlc2NyaXB0aW9uIiwibm9kZSIsImltYWdlIiwiaW1hZ2VzIiwib3JpZ2luYWxTcmMiLCJ0aXRsZSIsInZhcmlhbnRzIiwicHJpY2UiLCJib251cyIsInNldEJvbnVzIiwiY2hlY2tlZCIsInNldENoZWNrZWQiLCJoYW5kbGVCb251cyIsInZhbHVlIiwiY29tcGFyZVByb2R1Y3QiLCJjb21wYXJlZFByb2R1Y3QiLCJ1bmRlZmluZWQiLCJmaWx0ZXJlZFByb2R1Y3QiLCJEZWNsaW5lZFBheW1lbnRSZXF1ZXN0IiwiUHJvZmlsZSIsInNldFVzZXIiLCJzaWduSW4iLCJzaWduZWRJblVzZXIiLCJBY2NlcHRQYXltZW50IiwiYWN0aXZlVG9hc3QiLCJzZXRBY3RpdmVUb2FzdCIsInNlbGVjdGVkIiwic2V0U2VsZWN0ZWQiLCJjcmVhdGVVcGRhdGVQYXltZW50U3Vic2NyaXB0aW9uIiwic2V0Q3JlYXRlVXBkYXRlUGF5bWVudFN1YnNjcmlwdGlvbiIsImhhbmRsZVRhYkNoYW5nZSIsInNlbGVjdGVkVGFiSW5kZXgiLCJsaXN0ZW5lciIsInBheW1lbnRTdWJzY3JpcHRpb24iLCJwYXltZW50UmVzcG9uc2UiLCJvblVwZGF0ZVBheW1lbnQiLCJvblVwZGF0ZVBheW1lbnRTdWJzY3JpcHRpb24iLCJvblVwZGF0ZVBheW1lbnRSZXNwb25zZSIsInRhYnMiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJwYW5lbElEIiwidG9hc3RNYXJrdXAiLCJyZW5kZXJQYXltZW50UmVxdWVzdCIsInVwZGF0ZVBheW1lbnRSZXF1ZXN0IiwiUGVuZGluZ1BheW1lbnRSZXF1ZXN0IiwicGF5bWVudFJlcXVlc3RJZCIsInNldFBheW1lbnRSZXF1ZXN0SWQiLCJkZWNsaW5lUGF5bWVudCIsInBheW1lbnRJZCIsImFjY2VwdFBheW1lbnQiLCJvcmlnaW5hbFVuaXRQcmljZSIsInF1YW50aXR5IiwidmFyaWFudElkIiwiY3JlYXRlRHJhZnRPcmRlciIsImNvbXBsZXRlT3JkZXIiLCJsaXN0VHJhbnNhY3Rpb25zIiwiSW5kZXgiLCJjaGVja1VzZXIiLCJjdXJyZW50QXV0aGVudGljYXRlZFVzZXIiLCJmZXRjaGVkVXNlciIsIkludGwiLCJOdW1iZXJGb3JtYXQiLCJjdXJyZW5jeSIsInN0eWxlIiwiZm9ybWF0Iiwicm93RGF0ZSIsImRhdGUiLCJ5ZWFyIiwiRGF0ZVRpbWVGb3JtYXQiLCJtb250aCIsImRheSIsInN0cmluZyIsIm1hdGNoIl0sIm1hcHBpbmdzIjoiOztRQUFBO1FBQ0E7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Ozs7Ozs7QUNBQSx3Qzs7Ozs7Ozs7Ozs7QUNBQSxrQzs7Ozs7Ozs7Ozs7QUNBQSw4Qzs7Ozs7Ozs7Ozs7QUNBQSxpQyIsImZpbGUiOiJwYWdlcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0gcmVxdWlyZSgnLi4vc3NyLW1vZHVsZS1jYWNoZS5qcycpO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHR2YXIgdGhyZXcgPSB0cnVlO1xuIFx0XHR0cnkge1xuIFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuIFx0XHRcdHRocmV3ID0gZmFsc2U7XG4gXHRcdH0gZmluYWxseSB7XG4gXHRcdFx0aWYodGhyZXcpIGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0fVxuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vcGFnZXMvaW5kZXguanNcIik7XG4iLCIvLyBXQVJOSU5HOiBETyBOT1QgRURJVC4gVGhpcyBmaWxlIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IEFXUyBBbXBsaWZ5LiBJdCB3aWxsIGJlIG92ZXJ3cml0dGVuLlxuXG5jb25zdCBhd3Ntb2JpbGUgPSAge1xuICAgIFwiYXdzX2FwcHN5bmNfZ3JhcGhxbEVuZHBvaW50XCI6IFwiaHR0cHM6Ly9reXRlam14cnJyZ2FoaWlrY29ka2xoZjZycS5hcHBzeW5jLWFwaS51cy1lYXN0LTEuYW1hem9uYXdzLmNvbS9ncmFwaHFsXCIsXG4gICAgXCJhd3NfYXBwc3luY19yZWdpb25cIjogXCJ1cy1lYXN0LTFcIixcbiAgICBcImF3c19hcHBzeW5jX2F1dGhlbnRpY2F0aW9uVHlwZVwiOiBcIkFQSV9LRVlcIixcbiAgICBcImF3c19hcHBzeW5jX2FwaUtleVwiOiBcImRhMi1pd3puYXhlM2g1Ynh6bmFnenVjdHJocWVrbVwiLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXdzbW9iaWxlOyIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBBUEksIGdyYXBocWxPcGVyYXRpb24gfSBmcm9tICdhd3MtYW1wbGlmeSdcclxuaW1wb3J0IGdxbCBmcm9tICdncmFwaHFsLXRhZydcclxuaW1wb3J0IHsgVGFibGUsIEljb24sIFBvcHVwLCBIZWFkZXIgfSBmcm9tICdzZW1hbnRpYy11aS1yZWFjdCdcclxuaW1wb3J0IHsgQmFkZ2UsIEJ1dHRvbiB9IGZyb20gJ0BzaG9waWZ5L3BvbGFyaXMnXHJcbmltcG9ydCB7IHRvQ3VycmVuY3ksIGZvcm1hdERhdGUgfSBmcm9tICcuLi91dGlscy9oZWxwZXInXHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vYXdzLWV4cG9ydHMnXHJcblxyXG5BUEkuY29uZmlndXJlKGNvbmZpZylcclxuXHJcbmNvbnN0IGxpc3RQYXltZW50UmVxdWVzdCA9IGdxbGBcclxuICAgIHF1ZXJ5IGxpc3RQYXltZW50UmVxdWVzdCgkbGltaXQ6IEludCwgJG5leHRUb2tlbjogU3RyaW5nKSB7XHJcbiAgICAgICAgbGlzdFBheW1lbnRSZXF1ZXN0cyhcclxuICAgICAgICAgICAgbGltaXQ6ICRsaW1pdFxyXG4gICAgICAgICAgICBuZXh0VG9rZW46ICRuZXh0VG9rZW5cclxuICAgICAgICAgICAgZmlsdGVyOiB7IHN0YXR1czogeyBlcTogQVBQUk9WRUQgfSB9XHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGl0ZW1zIHtcclxuICAgICAgICAgICAgICAgIGJvbnVzQW1vdW50XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXRcclxuICAgICAgICAgICAgICAgIGN1c3RvbWVySWRcclxuICAgICAgICAgICAgICAgIGlkXHJcbiAgICAgICAgICAgICAgICBvcmRlcklkXHJcbiAgICAgICAgICAgICAgICBzdGF0dXNcclxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5leHRUb2tlblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuYFxyXG5cclxuY29uc3QgQWNjZXB0ZWRQYXltZW50UmVxdWVzdCA9ICgpID0+IHtcclxuICAgIGNvbnN0IFtuZXh0UGFnaW5hdGVUb2tlbiwgc2V0TmV4dFBhZ2luYXRlVG9rZW5dID0gdXNlU3RhdGUoJycpXHJcbiAgICBjb25zdCBbcGF5bWVudFJlcXVlc3RJdGVtcywgc2V0UGF5bWVudFJlcXVlc3RJdGVtc10gPSB1c2VTdGF0ZShbXSlcclxuXHJcbiAgICBjb25zb2xlLmxvZygnTmV4dCB0b2tlbiBpcycsIG5leHRQYWdpbmF0ZVRva2VuKVxyXG5cclxuICAgIGNvbnN0IGZldGNoQWNjZXB0ZWRQYXltZW50cyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKGxpc3RQYXltZW50UmVxdWVzdCwgeyBsaW1pdDogMjAgfSkpXHJcbiAgICAgICAgICAgIHNldE5leHRQYWdpbmF0ZVRva2VuKHJlcy5kYXRhLmxpc3RQYXltZW50UmVxdWVzdHMubmV4dFRva2VuKVxyXG4gICAgICAgICAgICBzZXRQYXltZW50UmVxdWVzdEl0ZW1zKHJlcy5kYXRhLmxpc3RQYXltZW50UmVxdWVzdHMuaXRlbXMpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBY2NlcHRlZCBwYXltZW50cycsIHJlcy5kYXRhKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgIH0sIFtdKVxyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgZmV0Y2hBY2NlcHRlZFBheW1lbnRzKClcclxuICAgIH0sIFtmZXRjaEFjY2VwdGVkUGF5bWVudHNdKVxyXG5cclxuICAgIGNvbnN0IGxvYWRNb3JlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IEFQSS5ncmFwaHFsKFxyXG4gICAgICAgICAgICAgICAgZ3JhcGhxbE9wZXJhdGlvbihsaXN0UGF5bWVudFJlcXVlc3QsIHsgbGltaXQ6IDIwLCBuZXh0VG9rZW46IG5leHRQYWdpbmF0ZVRva2VuIH0pXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgc2V0TmV4dFBhZ2luYXRlVG9rZW4ocmVzLmRhdGEubGlzdFBheW1lbnRSZXF1ZXN0cy5uZXh0VG9rZW4pXHJcbiAgICAgICAgICAgIHNldFBheW1lbnRSZXF1ZXN0SXRlbXMoWy4uLnBheW1lbnRSZXF1ZXN0SXRlbXMsIC4uLnJlcy5kYXRhLmxpc3RQYXltZW50UmVxdWVzdHMuaXRlbXNdKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygnTmV4dCBwYWdpbmF0ZSB0b2tlbicsIG5leHRQYWdpbmF0ZVRva2VuKVxyXG4gICAgY29uc29sZS5sb2coJ0FjY2VwdGVkIHN0YXRlIGRhdGEnLCBwYXltZW50UmVxdWVzdEl0ZW1zKVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgICAgPFRhYmxlIGNlbGxlZD5cclxuICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlLlJvdz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+Q3VzdG9tZXIgSWQ8L1RhYmxlLkhlYWRlckNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPk9yZGVyIElkPC9UYWJsZS5IZWFkZXJDZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuSGVhZGVyQ2VsbD5Cb251cyBBbW91bnQ8L1RhYmxlLkhlYWRlckNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPkNyZWF0ZWQgQXQ8L1RhYmxlLkhlYWRlckNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPlVwZGF0ZWQgQXQ8L1RhYmxlLkhlYWRlckNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPlN0YXR1czwvVGFibGUuSGVhZGVyQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLlJvdz5cclxuICAgICAgICAgICAgICAgIDwvVGFibGUuSGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgPFRhYmxlLkJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAge3BheW1lbnRSZXF1ZXN0SXRlbXMgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudFJlcXVlc3RJdGVtc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIudXBkYXRlZEF0KSAtIG5ldyBEYXRlKGEudXBkYXRlZEF0KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGl0ZW0pID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuUm93IGtleT17aXRlbS5pZH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHNpemU9XCJzbWFsbFwiPntpdGVtLmN1c3RvbWVySWR9PC9CYWRnZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZS5DZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSBzaXplPVwic21hbGxcIj57aXRlbS5vcmRlcklkfTwvQmFkZ2U+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+e3RvQ3VycmVuY3koaXRlbS5ib251c0Ftb3VudCl9PC9UYWJsZS5DZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuQ2VsbD57Zm9ybWF0RGF0ZShpdGVtLmNyZWF0ZWRBdCl9PC9UYWJsZS5DZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuQ2VsbD57Zm9ybWF0RGF0ZShpdGVtLnVwZGF0ZWRBdCl9PC9UYWJsZS5DZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSBzaXplPVwic21hbGxcIiBwcm9ncmVzcz1cImNvbXBsZXRlXCIgc3RhdHVzPVwic3VjY2Vzc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLnN0YXR1c31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLlJvdz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgPC9UYWJsZS5Cb2R5PlxyXG4gICAgICAgICAgICA8L1RhYmxlPlxyXG4gICAgICAgICAgICA8QnV0dG9uIGRpc2FibGVkPXshbmV4dFBhZ2luYXRlVG9rZW59IHByaW1hcnkgb25DbGljaz17bG9hZE1vcmV9PlxyXG4gICAgICAgICAgICAgICAgTG9hZCBtb3JlXHJcbiAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgIDwvPlxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBY2NlcHRlZFBheW1lbnRSZXF1ZXN0XHJcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBBUEksIGdyYXBocWxPcGVyYXRpb24gfSBmcm9tICdhd3MtYW1wbGlmeSdcclxuaW1wb3J0IGdxbCBmcm9tICdncmFwaHFsLXRhZydcclxuaW1wb3J0IHsgUGFnZSwgQnV0dG9uLCBJY29uLCBDYXJkLCBEYXRhVGFibGUsIFRleHRGaWVsZCB9IGZyb20gJ0BzaG9waWZ5L3BvbGFyaXMnXHJcbmltcG9ydCB7IFNlYXJjaE1ham9yTW9ub3RvbmUgfSBmcm9tICdAc2hvcGlmeS9wb2xhcmlzLWljb25zJ1xyXG5pbXBvcnQgeyB0b0N1cnJlbmN5LCBmb3JtYXREYXRlIH0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2F3cy1leHBvcnRzJ1xyXG5cclxuQVBJLmNvbmZpZ3VyZShjb25maWcpXHJcblxyXG5jb25zdCBnZXRCcmFuY2hCeUlkID0gZ3FsYFxyXG4gICAgcXVlcnkgZ2V0QnJhbmNoKCRpZDogSUQhKSB7XHJcbiAgICAgICAgZ2V0QnJhbmNoKGlkOiAkaWQpIHtcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb25zKHNvcnREaXJlY3Rpb246IERFU0MpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zIHtcclxuICAgICAgICAgICAgICAgICAgICBicmFuY2hJZFxyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5XHJcbiAgICAgICAgICAgICAgICAgICAgbm90ZVxyXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3ROYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob25lXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsQm9udXNBbW91bnRcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbFByaWNlXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEF0XHJcbiAgICAgICAgICAgICAgICAgICAgc29ydERhdGVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmFuY2hOYW1lXHJcbiAgICAgICAgICAgIGFkbWluSWRcclxuICAgICAgICAgICAgaWRcclxuICAgICAgICAgICAgYnJhbmNoUHJvZHVjdHMge1xyXG4gICAgICAgICAgICAgICAgaXRlbXMge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyYW5jaElkXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0XHJcbiAgICAgICAgICAgICAgICAgICAgaWRcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWRcclxuICAgICAgICAgICAgICAgICAgICB0YWdzXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEF0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbmBcclxuXHJcbmNvbnN0IEFkbWluQnJhbmNoSW5mbyA9ICh7IGJyYW5jaElkLCBzZXRCcmFuY2hJZCB9KSA9PiB7XHJcbiAgICBjb25zdCBbYnJhbmNoSW5mbywgc2V0QnJhbmNoSW5mb10gPSB1c2VTdGF0ZSgnJylcclxuICAgIGNvbnN0IFtzZWFyY2hWYWx1ZSwgc2V0U2VhcmNoVmFsdWVdID0gdXNlU3RhdGUobnVsbClcclxuXHJcbiAgICBjb25zdCBoYW5kbGVTZWFyY2hJbnB1dCA9IHVzZUNhbGxiYWNrKChuZXdWYWx1ZSkgPT4gc2V0U2VhcmNoVmFsdWUobmV3VmFsdWUpLCBbXSlcclxuXHJcbiAgICBjb25zdCBnZXRCcmFuY2ggPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgYnJhbmNoID0gYXdhaXQgQVBJLmdyYXBocWwoZ3JhcGhxbE9wZXJhdGlvbihnZXRCcmFuY2hCeUlkLCB7IGlkOiBicmFuY2hJZCB9KSlcclxuICAgICAgICAgICAgc2V0QnJhbmNoSW5mbyhicmFuY2guZGF0YS5nZXRCcmFuY2gpXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgZ2V0QnJhbmNoKClcclxuICAgIH0sIFtdKVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdCcmFuY2ggaW5mbyBmcm9tIGFkbWluJywgYnJhbmNoSWQpXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDw+XHJcbiAgICAgICAgICAgIHticmFuY2hJbmZvICYmIChcclxuICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRCcmFuY2hJZChudWxsKX0gcHJpbWFyeT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgR28gYmFja1xyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJTZWFyY2ggUHJvZHVjdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hWYWx1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVNlYXJjaElucHV0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVmaXg9ezxJY29uIHNvdXJjZT17U2VhcmNoTWFqb3JNb25vdG9uZX0gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGJ5IEN1c3RvbWVyIHBob25lIG51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8Q2FyZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPERhdGFUYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uQ29udGVudFR5cGVzPXtbJ3RleHQnLCAndGV4dCcsICd0ZXh0JywgJ3RleHQnXX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmdzPXtbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0N1c3RvbWVyIHBob25lIG51bWJlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RvdGFsUHJpY2UnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUb3RhbEJvbnVzQW1vdW50JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWludXMgZnJvbSBCb251cyBBbW91bnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDcmVhdGVkQXQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhbmNoSW5mbyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5jaEluZm8udHJhbnNhY3Rpb25zLml0ZW1zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHRyYW5zYWN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoVmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5jdXN0b21lclswXS5waG9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoc2VhcmNoVmFsdWUudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi5jcmVhdGVkQXQpIC0gbmV3IERhdGUoYS5jcmVhdGVkQXQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKCh0cmFuc2FjdGlvbikgPT4gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdC5kaXNwYXRjaChSZWRpcmVjdC5BY3Rpb24uQURNSU5fUEFUSCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogYC9jdXN0b21lcnMvJHt0cmFuc2FjdGlvbi5jdXN0b21lclswXS5pZH1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29udGV4dDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RyYW5zYWN0aW9uLmN1c3RvbWVyWzBdLnBob25lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9DdXJyZW5jeShOdW1iZXIodHJhbnNhY3Rpb24udG90YWxQcmljZSkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9DdXJyZW5jeShOdW1iZXIodHJhbnNhY3Rpb24udG90YWxCb251c0Ftb3VudCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ubm90ZSA9PT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJydcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRvQ3VycmVuY3koXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFjdE51bWJlcnNGcm9tU3RyaW5nKHRyYW5zYWN0aW9uLm5vdGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0RGF0ZSh0cmFuc2FjdGlvbi5jcmVhdGVkQXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8UGFnaW5hdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGhhc1ByZXZpb3VzPXtwcmV2aW91c1BhZ2luYXRlVG9rZW5zLmxlbmd0aCA+IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25QcmV2aW91cz17cGFnaW5hdGVQcmV2aW91c31cclxuICAgICAgICAgICAgICAgICAgICBoYXNOZXh0PXtuZXh0UGFnaW5hdGVUb2tlbn1cclxuICAgICAgICAgICAgICAgICAgICBvbk5leHQ9e3BhZ2luYXRlTmV4dH1cclxuICAgICAgICAgICAgICAgIC8+ICovfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cclxuICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgIDwvPlxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBZG1pbkJyYW5jaEluZm9cclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgQXV0aCwgQVBJLCBncmFwaHFsT3BlcmF0aW9uIH0gZnJvbSAnYXdzLWFtcGxpZnknXHJcbmltcG9ydCBncWwgZnJvbSAnZ3JhcGhxbC10YWcnXHJcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnXHJcbmltcG9ydCB7IFBhZ2UsIEJ1dHRvbiwgTW9kYWwsIEZvcm0sIEZvcm1MYXlvdXQsIFRleHRGaWVsZCwgQmFkZ2UgfSBmcm9tICdAc2hvcGlmeS9wb2xhcmlzJ1xyXG5pbXBvcnQgeyBUYWJsZSwgUG9wdXAsIEhlYWRlciwgSWNvbiB9IGZyb20gJ3NlbWFudGljLXVpLXJlYWN0J1xyXG5pbXBvcnQgUHJvZHVjdExpc3QgZnJvbSAnLi9Qcm9kdWN0c0xpc3QnXHJcbmltcG9ydCB7IGZvcm1hdERhdGUgfSBmcm9tICcuLi91dGlscy9oZWxwZXInXHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vYXdzLWV4cG9ydHMnXHJcbmltcG9ydCBCcmFuY2hQcm9kdWN0cyBmcm9tICcuL0JyYW5jaFByb2R1Y3RzJ1xyXG5pbXBvcnQgQnJhbmNoTGlzdCBmcm9tICcuL0JyYW5jaExpc3QnXHJcbmltcG9ydCBBZG1pbkJyYW5jaEluZm8gZnJvbSAnLi9BZG1pbkJyYW5jaEluZm8nXHJcblxyXG5BUEkuY29uZmlndXJlKGNvbmZpZylcclxuXHJcbmNvbnN0IGNyZWF0ZUJyYW5jaCA9IGdxbGBcclxuICAgIG11dGF0aW9uIGNyZWF0ZUJyYW5jaCgkaW5wdXQ6IENyZWF0ZUJyYW5jaElucHV0ISkge1xyXG4gICAgICAgIGNyZWF0ZUJyYW5jaChpbnB1dDogJGlucHV0KSB7XHJcbiAgICAgICAgICAgIGlkXHJcbiAgICAgICAgICAgIGFkbWluSWRcclxuICAgICAgICAgICAgYnJhbmNoTmFtZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuYFxyXG5cclxuY29uc3QgbGlzdEJyYW5jaHMgPSBncWxgXHJcbiAgICBxdWVyeSBsaXN0QnJhbmNocyB7XHJcbiAgICAgICAgbGlzdEJyYW5jaHMge1xyXG4gICAgICAgICAgICBpdGVtcyB7XHJcbiAgICAgICAgICAgICAgICBhZG1pbklkXHJcbiAgICAgICAgICAgICAgICBicmFuY2hOYW1lXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXRcclxuICAgICAgICAgICAgICAgIGlkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbmBcclxuXHJcbmNvbnN0IEJyYW5jaENvbnNvbGUgPSAoeyB1cGRhdGVVc2VyIH0pID0+IHtcclxuICAgIGNvbnN0IFthY3RpdmUsIHNldEFjdGl2ZV0gPSB1c2VTdGF0ZShmYWxzZSlcclxuICAgIGNvbnN0IFticmFuY2hOYW1lLCBzZXRCcmFuY2hOYW1lXSA9IHVzZVN0YXRlKCcnKVxyXG4gICAgY29uc3QgW3VzZXJuYW1lLCBzZXRVc2VybmFtZV0gPSB1c2VTdGF0ZSgnJylcclxuICAgIGNvbnN0IFtlbWFpbCwgc2V0RW1haWxdID0gdXNlU3RhdGUoJycpXHJcbiAgICBjb25zdCBbcGFzc3dvcmQsIHNldFBhc3N3b3JkXSA9IHVzZVN0YXRlKCcnKVxyXG4gICAgY29uc3QgW2NvZGUsIHNldENvZGVdID0gdXNlU3RhdGUoJycpXHJcbiAgICBjb25zdCBbZm9ybVR5cGUsIHNldEZvcm1UeXBlXSA9IHVzZVN0YXRlKCdzaWduVXAnKVxyXG4gICAgY29uc3QgW3VzZXJTdWIsIHNldFVzZXJTdWJdID0gdXNlU3RhdGUobnVsbClcclxuICAgIGNvbnN0IFticmFuY2hlcywgc2V0QnJhbmNoZXNdID0gdXNlU3RhdGUoJycpXHJcbiAgICBjb25zdCBbYnJhbmNoSWQsIHNldEJyYW5jaElkXSA9IHVzZVN0YXRlKG51bGwpXHJcblxyXG4gICAgY29uc3Qgb25DaGFuZ2VCcmFuY2hOYW1lID0gdXNlQ2FsbGJhY2soKG5ld1ZhbHVlKSA9PiB7XHJcbiAgICAgICAgc2V0QnJhbmNoTmFtZShuZXdWYWx1ZSlcclxuICAgIH0sIFtdKVxyXG5cclxuICAgIGNvbnN0IG9uQ2hhbmdlVXNlcm5hbWUgPSB1c2VDYWxsYmFjaygobmV3VmFsdWUpID0+IHtcclxuICAgICAgICBzZXRVc2VybmFtZShuZXdWYWx1ZSlcclxuICAgIH0sIFtdKVxyXG5cclxuICAgIGNvbnN0IG9uQ2hhbmdlUGFzc3dvcmQgPSB1c2VDYWxsYmFjaygobmV3VmFsdWUpID0+IHtcclxuICAgICAgICBzZXRQYXNzd29yZChuZXdWYWx1ZSlcclxuICAgIH0sIFtdKVxyXG5cclxuICAgIGNvbnN0IG9uQ2hhbmdlRW1haWwgPSB1c2VDYWxsYmFjaygobmV3VmFsdWUpID0+IHtcclxuICAgICAgICBzZXRFbWFpbChuZXdWYWx1ZSlcclxuICAgIH0sIFtdKVxyXG5cclxuICAgIGNvbnN0IG9uQ2hhbmdlQ29kZSA9IHVzZUNhbGxiYWNrKChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgICAgIHNldENvZGUobmV3VmFsdWUpXHJcbiAgICB9LCBbXSlcclxuXHJcbiAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgc2V0QWN0aXZlKCFhY3RpdmUpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2lnblVwID0gYXN5bmMgKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgQXV0aC5zaWduVXAoeyB1c2VybmFtZSwgcGFzc3dvcmQsIGF0dHJpYnV0ZXM6IHsgZW1haWwgfSB9KVxyXG4gICAgICAgICAgICBzZXRVc2VyU3ViKHVzZXIudXNlclN1YilcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NpZ25lZCBVcCBVc2VyIGZyb20gTW9kYWwnLCB1c2VyKVxyXG4gICAgICAgICAgICBzZXRGb3JtVHlwZSgnY29uZmlybScpXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbmZpcm0gPSBhc3luYyAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1lZFVzZXIgPSBhd2FpdCBBdXRoLmNvbmZpcm1TaWduVXAodXNlcm5hbWUsIGNvZGUpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25maXJtZWQgdXNlcicsIGNvbmZpcm1lZFVzZXIpXHJcbiAgICAgICAgICAgIGNvbnN0IGJyYW5jaCA9IGF3YWl0IEFQSS5ncmFwaHFsKFxyXG4gICAgICAgICAgICAgICAgZ3JhcGhxbE9wZXJhdGlvbihjcmVhdGVCcmFuY2gsIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZG1pbklkOiB1c2VyU3ViLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmFuY2hVc2VybmFtZTogdXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5jaE5hbWU6IGJyYW5jaE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB1dWlkdjQoKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ05ldyBjcmVhdGVkIGJyYW5jaCcsIGJyYW5jaClcclxuICAgICAgICAgICAgc2V0Rm9ybVR5cGUoJ3NpZ25VcCcpXHJcbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZSgpXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZldGNoQnJhbmNoZXMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZ2V0QnJhbmNoZXMgPSBhd2FpdCBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKGxpc3RCcmFuY2hzKSlcclxuICAgICAgICAgICAgc2V0QnJhbmNoZXMoZ2V0QnJhbmNoZXMuZGF0YSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBmZXRjaEJyYW5jaGVzKClcclxuICAgIH0sIFtdKVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdCcmFuY2ggbmFtZScsIGJyYW5jaE5hbWUpXHJcbiAgICBjb25zb2xlLmxvZygnVXNlcm5hbWUnLCB1c2VybmFtZSlcclxuICAgIGNvbnNvbGUubG9nKCdQYXNzd29yZCcsIHBhc3N3b3JkKVxyXG4gICAgY29uc29sZS5sb2coJ0VtYWlsJywgZW1haWwpXHJcbiAgICBjb25zb2xlLmxvZygnQ29kZScsIGNvZGUpXHJcbiAgICBjb25zb2xlLmxvZygnRmV0Y2hlZCBicmFuY2hlcycsIGJyYW5jaGVzKVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgICAge2JyYW5jaElkICYmIDxBZG1pbkJyYW5jaEluZm8gc2V0QnJhbmNoSWQ9e3NldEJyYW5jaElkfSBicmFuY2hJZD17YnJhbmNoSWR9IC8+fVxyXG4gICAgICAgICAgICB7IWJyYW5jaElkICYmIChcclxuICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDaGFuZ2V9IHByaW1hcnk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBicmFuY2hcclxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJMb2dvdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRoLnNpZ25PdXQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlVXNlcihudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT1cInNpZ24gb3V0XCIgLz4gTG9nb3V0XHJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPEJyYW5jaExpc3Qgc2V0QnJhbmNoSWQ9e3NldEJyYW5jaElkfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIHsvKiA8VGFibGUgc2VsZWN0YWJsZSBjZWxsZWQ+XHJcbiAgICAgICAgICAgICAgICA8VGFibGUuSGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZS5Sb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPkJyYW5jaCBOYW1lPC9UYWJsZS5IZWFkZXJDZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuSGVhZGVyQ2VsbD5DcmVhdGVkIEF0PC9UYWJsZS5IZWFkZXJDZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuSGVhZGVyQ2VsbD5BY3Rpb25zPC9UYWJsZS5IZWFkZXJDZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvVGFibGUuUm93PlxyXG4gICAgICAgICAgICAgICAgPC9UYWJsZS5IZWFkZXI+XHJcbiAgICAgICAgICAgICAgICA8VGFibGUuQm9keT5cclxuICAgICAgICAgICAgICAgICAgICB7YnJhbmNoZXMgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJhbmNoZXMubGlzdEJyYW5jaHMuaXRlbXMubWFwKChpdGVtKSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuUm93IGtleT17aXRlbS5pZH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSBzaXplPVwibWVkaXVtXCIgc3RhdHVzPVwiaW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uYnJhbmNoTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+e2Zvcm1hdERhdGUoaXRlbS5jcmVhdGVkQXQpfTwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuQ2VsbCBjbGFzc05hbWU9XCJicmFuY2gtYWN0aW9uc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wdXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9XCJFZGl0IGJyYW5jaFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyPXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBjbGFzc05hbWU9XCJlZGl0LWJyYW5jaFwiIG5hbWU9XCJlZGl0IG91dGxpbmVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wdXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9XCJEZWxldGUgQnJhbmNoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXI9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbW92ZS1icmFuY2hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwidHJhc2ggYWx0ZXJuYXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGUuUm93PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgIDwvVGFibGUuQm9keT5cclxuICAgICAgICAgICAgPC9UYWJsZT4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgPE1vZGFsIG9wZW49e2FjdGl2ZX0gb25DbG9zZT17aGFuZGxlQ2hhbmdlfSB0aXRsZT1cIkZpbGwgaW4gQnJhbmNoIGluZm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPE1vZGFsLlNlY3Rpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybVR5cGUgPT09ICdzaWduVXAnICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBvblN1Ym1pdD17c2lnblVwfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1MYXlvdXQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2JyYW5jaE5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlQnJhbmNoTmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIkJyYW5jaCBOYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3VzZXJuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZVVzZXJuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiQnJhbmNoIGFkbWluIHVzZXJuYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2VtYWlsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZUVtYWlsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiQnJhbmNoIGFkbWluIGVtYWlsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFzc3dvcmR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlUGFzc3dvcmR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJCcmFuY2ggYWRtaW4gcGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gcHJpbWFyeSBzdWJtaXQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlIEJyYW5jaFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUxheW91dD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1UeXBlID09PSAnY29uZmlybScgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtIG9uU3VibWl0PXtjb25maXJtfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1MYXlvdXQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3VzZXJuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZVVzZXJuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiQnJhbmNoIGFkbWluIHVzZXJuYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2NvZGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlQ29kZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIkNvbmZpcm1hdGlvbiBjb2RlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHByaW1hcnkgc3VibWl0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbmZpcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1MYXlvdXQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Nb2RhbC5TZWN0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICA8Lz5cclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQnJhbmNoQ29uc29sZVxyXG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcidcclxuaW1wb3J0IHsgQXV0aCwgQVBJLCBncmFwaHFsT3BlcmF0aW9uIH0gZnJvbSAnYXdzLWFtcGxpZnknXHJcbmltcG9ydCBjcmVhdGVBcHAgZnJvbSAnQHNob3BpZnkvYXBwLWJyaWRnZSdcclxuaW1wb3J0IHsgUmVkaXJlY3QgfSBmcm9tICdAc2hvcGlmeS9hcHAtYnJpZGdlL2FjdGlvbnMnXHJcbmltcG9ydCBncWwgZnJvbSAnZ3JhcGhxbC10YWcnXHJcbmltcG9ydCB7XHJcbiAgICBDYXJkLFxyXG4gICAgRGF0YVRhYmxlLFxyXG4gICAgQnV0dG9uLFxyXG4gICAgUGFnZSxcclxuICAgIFBhZ2luYXRpb24sXHJcbiAgICBUZXh0RmllbGQsXHJcbiAgICBDaG9pY2VMaXN0LFxyXG4gICAgRmlsdGVycyxcclxuICAgIEljb24sXHJcbiAgICBTdGFja1xyXG59IGZyb20gJ0BzaG9waWZ5L3BvbGFyaXMnXHJcbmltcG9ydCB7XHJcbiAgICBTZWFyY2hNYWpvck1vbm90b25lLFxyXG4gICAgVHJhbnNhY3Rpb25NYWpvck1vbm90b25lLFxyXG4gICAgQmFsYW5jZU1ham9yTW9ub3RvbmUsXHJcbiAgICBMb2dPdXRNaW5vclxyXG59IGZyb20gJ0BzaG9waWZ5L3BvbGFyaXMtaWNvbnMnXHJcbmltcG9ydCB7IHRvQ3VycmVuY3ksIGZvcm1hdERhdGUsIGV4dHJhY3ROdW1iZXJzRnJvbVN0cmluZyB9IGZyb20gJy4uL3V0aWxzL2hlbHBlcidcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9hd3MtZXhwb3J0cydcclxuaW1wb3J0IExvZ2luIGZyb20gJy4uL2NvbXBvbmVudHMvTG9naW4nXHJcbmltcG9ydCBCcmFuY2hDb25zb2xlIGZyb20gJy4uL2NvbXBvbmVudHMvQnJhbmNoQ29uc29sZSdcclxuaW1wb3J0IFBheW1lbnRSZXF1ZXN0IGZyb20gJy4uL2NvbXBvbmVudHMvUGF5bWVudFJlcXVlc3QnXHJcblxyXG5BUEkuY29uZmlndXJlKGNvbmZpZylcclxuXHJcbmNvbnN0IGJyYW5jaEJ5QWRtaW5JZCA9IGdxbGBcclxuICAgIHF1ZXJ5IGJyYW5jaEJ5QWRtaW5JZCgkYWRtaW5JZDogSUQhKSB7XHJcbiAgICAgICAgYnJhbmNoQnlBZG1pbklkKGFkbWluSWQ6ICRhZG1pbklkKSB7XHJcbiAgICAgICAgICAgIGl0ZW1zIHtcclxuICAgICAgICAgICAgICAgIGFkbWluSWRcclxuICAgICAgICAgICAgICAgIGJyYW5jaE5hbWVcclxuICAgICAgICAgICAgICAgIGlkXHJcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbnMge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJhbmNoSWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3ROYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvbnVzUGVyY2VudGFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZUFtb3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VDdXJyZW5jeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0RGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEJvbnVzQW1vdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUHJpY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEF0XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJhbmNoUHJvZHVjdHMge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJhbmNoSWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RJZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdzXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5gXHJcblxyXG5jb25zdCBvbkNyZWF0ZVRyYW5zYWN0aW9uID0gZ3FsYFxyXG4gICAgc3Vic2NyaXB0aW9uIG9uQ3JlYXRlVHJhbnNhY3Rpb24ge1xyXG4gICAgICAgIG9uQ3JlYXRlVHJhbnNhY3Rpb24ge1xyXG4gICAgICAgICAgICBpZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuYFxyXG5cclxuY29uc3QgQnJhbmNoRGF0YSA9ICh7IHVzZXIsIHVwZGF0ZVVzZXIgfSkgPT4ge1xyXG4gICAgY29uc3QgW2JyYW5jaEluZm8sIHNldEJyYW5jaEluZm9dID0gdXNlU3RhdGUoJycpXHJcbiAgICBjb25zdCBbc2VhcmNoVmFsdWUsIHNldFNlYXJjaFZhbHVlXSA9IHVzZVN0YXRlKG51bGwpXHJcbiAgICBjb25zdCBbbmV3Q3JlYXRlZFRyYW5zYWN0aW9uLCBzZXROZXdDcmVhdGVkVHJhbnNhY3Rpb25dID0gdXNlU3RhdGUoJycpXHJcbiAgICBjb25zdCBbc2hvd1BheW1lbnRSZXF1ZXN0LCBzZXRTaG93UGF5bWVudFJlcXVlc3RdID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgICAvLyBjb25zdCBbdHJhbnNhY3Rpb25JdGVtcywgc2V0VHJhbnNhY3Rpb25JdGVtc10gPSB1c2VTdGF0ZSh0cmFuc2FjdGlvbnMubGlzdFRyYW5zYWN0aW9ucy5pdGVtcylcclxuICAgIC8vIGNvbnN0IFtuZXh0UGFnaW5hdGVUb2tlbiwgc2V0TmV4dFBhZ2luYXRlVG9rZW5dID0gdXNlU3RhdGUoXHJcbiAgICAvLyAgICAgdHJhbnNhY3Rpb25zLmxpc3RUcmFuc2FjdGlvbnMubmV4dFRva2VuXHJcbiAgICAvLyApXHJcbiAgICAvLyBjb25zdCBbcHJldmlvdXNQYWdpbmF0ZVRva2Vucywgc2V0UHJldmlvdXNQYWdpbmF0ZVRva2Vuc10gPSB1c2VTdGF0ZShbXSlcclxuICAgIGNvbnN0IGhhbmRsZVNlYXJjaElucHV0ID0gdXNlQ2FsbGJhY2soKG5ld1ZhbHVlKSA9PiBzZXRTZWFyY2hWYWx1ZShuZXdWYWx1ZSksIFtdKVxyXG5cclxuICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXHJcblxyXG4gICAgY29uc3QgYXBwID0gY3JlYXRlQXBwKHtcclxuICAgICAgICBhcGlLZXk6ICczYjAxMDYzYmFjMzAzMWQxMzEwMTEwMGVmM2U0NGZkNScsXHJcbiAgICAgICAgc2hvcE9yaWdpbjogJ3RyYW5zYWN0aW9ucy1hdmFudGEubXlzaG9waWZ5LmNvbSdcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgcmVkaXJlY3QgPSBSZWRpcmVjdC5jcmVhdGUoYXBwKVxyXG5cclxuICAgIC8vIGNvbnN0IHBhZ2luYXRlTmV4dCA9IGFzeW5jICgpID0+IHtcclxuICAgIC8vICAgICBzZXRQcmV2aW91c1BhZ2luYXRlVG9rZW5zKFsuLi5wcmV2aW91c1BhZ2luYXRlVG9rZW5zLCBuZXh0UGFnaW5hdGVUb2tlbl0pXHJcbiAgICAvLyAgICAgdHJ5IHtcclxuICAgIC8vICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IEFQSS5ncmFwaHFsKFxyXG4gICAgLy8gICAgICAgICAgICAgZ3JhcGhxbE9wZXJhdGlvbihsaXN0VHJhbnNhY3Rpb25zLCB7IGxpbWl0OiA1LCBuZXh0VG9rZW46IG5leHRQYWdpbmF0ZVRva2VuIH0pXHJcbiAgICAvLyAgICAgICAgIClcclxuXHJcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCdEYXRhIGZyb20gcGFnaW5hdGlvbicsIGRhdGEpXHJcbiAgICAvLyAgICAgICAgIHNldFRyYW5zYWN0aW9uSXRlbXMoZGF0YS5kYXRhLmxpc3RUcmFuc2FjdGlvbnMuaXRlbXMpXHJcbiAgICAvLyAgICAgICAgIHNldE5leHRQYWdpbmF0ZVRva2VuKGRhdGEuZGF0YS5saXN0VHJhbnNhY3Rpb25zLm5leHRUb2tlbilcclxuICAgIC8vICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gY29uc3QgcGFnaW5hdGVQcmV2aW91cyA9IGFzeW5jICgpID0+IHtcclxuICAgIC8vICAgICBjb25zdCBwcmV2aW91c1Rva2VuID1cclxuICAgIC8vICAgICAgICAgcHJldmlvdXNQYWdpbmF0ZVRva2Vuc1tcclxuICAgIC8vICAgICAgICAgICAgIHByZXZpb3VzUGFnaW5hdGVUb2tlbnMubGVuZ3RoID09PSAxID8gMCA6IHByZXZpb3VzUGFnaW5hdGVUb2tlbnMubGVuZ3RoIC0gMlxyXG4gICAgLy8gICAgICAgICBdXHJcbiAgICAvLyAgICAgc2V0UHJldmlvdXNQYWdpbmF0ZVRva2VucyhbXHJcbiAgICAvLyAgICAgICAgIC4uLnByZXZpb3VzUGFnaW5hdGVUb2tlbnMuc2xpY2UoMCwgcHJldmlvdXNQYWdpbmF0ZVRva2Vucy5sZW5ndGggLSAxKVxyXG4gICAgLy8gICAgIF0pXHJcbiAgICAvLyAgICAgdHJ5IHtcclxuICAgIC8vICAgICAgICAgaWYgKHByZXZpb3VzUGFnaW5hdGVUb2tlbnMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAvLyAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgQVBJLmdyYXBocWwoZ3JhcGhxbE9wZXJhdGlvbihsaXN0VHJhbnNhY3Rpb25zLCB7IGxpbWl0OiA1IH0pKVxyXG4gICAgLy8gICAgICAgICAgICAgc2V0VHJhbnNhY3Rpb25JdGVtcyhkYXRhLmRhdGEubGlzdFRyYW5zYWN0aW9ucy5pdGVtcylcclxuICAgIC8vICAgICAgICAgICAgIHNldE5leHRQYWdpbmF0ZVRva2VuKGRhdGEuZGF0YS5saXN0VHJhbnNhY3Rpb25zLm5leHRUb2tlbilcclxuICAgIC8vICAgICAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBBUEkuZ3JhcGhxbChcclxuICAgIC8vICAgICAgICAgICAgICAgICBncmFwaHFsT3BlcmF0aW9uKGxpc3RUcmFuc2FjdGlvbnMsIHsgbGltaXQ6IDUsIG5leHRUb2tlbjogcHJldmlvdXNUb2tlbiB9KVxyXG4gICAgLy8gICAgICAgICAgICAgKVxyXG4gICAgLy8gICAgICAgICAgICAgc2V0VHJhbnNhY3Rpb25JdGVtcyhkYXRhLmRhdGEubGlzdFRyYW5zYWN0aW9ucy5pdGVtcylcclxuICAgIC8vICAgICAgICAgICAgIHNldE5leHRQYWdpbmF0ZVRva2VuKGRhdGEuZGF0YS5saXN0VHJhbnNhY3Rpb25zLm5leHRUb2tlbilcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICBjb25zdCBnZXRCcmFuY2ggPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZmV0Y2hCcmFuY2ggPSBhd2FpdCBBUEkuZ3JhcGhxbChcclxuICAgICAgICAgICAgICAgIGdyYXBocWxPcGVyYXRpb24oYnJhbmNoQnlBZG1pbklkLCB7IGFkbWluSWQ6IHVzZXIuYXR0cmlidXRlcy5zdWIgfSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBzZXRCcmFuY2hJbmZvKGZldGNoQnJhbmNoLmRhdGEuYnJhbmNoQnlBZG1pbklkLml0ZW1zWzBdKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGdldEJyYW5jaCgpXHJcbiAgICAgICAgQVBJLmdyYXBocWwoZ3JhcGhxbE9wZXJhdGlvbihvbkNyZWF0ZVRyYW5zYWN0aW9uKSkuc3Vic2NyaWJlKHtcclxuICAgICAgICAgICAgbmV4dDogKGNyZWF0ZWRUcmFuc2FjdGlvbikgPT4gc2V0TmV3Q3JlYXRlZFRyYW5zYWN0aW9uKGNyZWF0ZWRUcmFuc2FjdGlvbilcclxuICAgICAgICB9KVxyXG4gICAgfSwgW25ld0NyZWF0ZWRUcmFuc2FjdGlvbl0pXHJcblxyXG4gICAgY29uc29sZS5sb2coJ0JyYW5jaCBkYXRhIHVzZXInLCB1c2VyKVxyXG4gICAgY29uc29sZS5sb2coJ0JyYW5jaCBpbmZvJywgYnJhbmNoSW5mbylcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDw+XHJcbiAgICAgICAgICAgIHtzaG93UGF5bWVudFJlcXVlc3QgPyAoXHJcbiAgICAgICAgICAgICAgICA8UGF5bWVudFJlcXVlc3RcclxuICAgICAgICAgICAgICAgICAgICBzZXRTaG93UGF5bWVudFJlcXVlc3Q9e3NldFNob3dQYXltZW50UmVxdWVzdH1cclxuICAgICAgICAgICAgICAgICAgICBicmFuY2hJZD17YnJhbmNoSW5mby5pZH1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICA8UGFnZSB0aXRsZT17YnJhbmNoSW5mbyAmJiBicmFuY2hJbmZvLmJyYW5jaE5hbWV9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJTZWFyY2ggUHJvZHVjdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hWYWx1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVNlYXJjaElucHV0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVmaXg9ezxJY29uIHNvdXJjZT17U2VhcmNoTWFqb3JNb25vdG9uZX0gLz59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGJ5IEN1c3RvbWVyIHBob25lIG51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8U3RhY2s+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTdGFjay5JdGVtIGZpbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJBY2NlcHQtUGF5bWVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVkaXJlY3QuZGlzcGF0Y2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBSZWRpcmVjdC5BY3Rpb24uQURNSU5fUEFUSCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICcvYXBwcy8zYjAxMDYzYmFjMzAzMWQxMzEwMTEwMGVmM2U0NGZkNS9hY2NlcHQtcGF5bWVudCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93UGF5bWVudFJlcXVlc3QodHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHNvdXJjZT17QmFsYW5jZU1ham9yTW9ub3RvbmV9IC8+IEFjY2VwdCBQYXltZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFjay5JdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2suSXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cIkNyZWF0ZS1UcmFuc2FjdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0LmRpc3BhdGNoKFJlZGlyZWN0LkFjdGlvbi5SRU1PVEUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVybDogYGh0dHBzOi8vZGV2LmQzaXZncGt6dXo2aGtyLmFtcGxpZnlhcHAuY29tP2FkbWluSWQ9JHt1c2VyLmF0dHJpYnV0ZXMuc3VifWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGBodHRwOi8vbG9jYWxob3N0OjMwMDEvdHJhbnNhY3Rpb25zLyR7dXNlci5hdHRyaWJ1dGVzLnN1Yn1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29udGV4dDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gc291cmNlPXtUcmFuc2FjdGlvbk1ham9yTW9ub3RvbmV9IC8+IENyZWF0ZSB0cmFuc2FjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2suSXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrLkl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiTG9nb3V0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGguc2lnbk91dCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVVzZXIobnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBzb3VyY2U9e0xvZ091dE1pbm9yfSAvPiBMb2dvdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrLkl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9TdGFjaz5cclxuICAgICAgICAgICAgICAgICAgICB7YnJhbmNoSW5mbyAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERhdGFUYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbkNvbnRlbnRUeXBlcz17Wyd0ZXh0JywgJ3RleHQnLCAndGV4dCcsICd0ZXh0J119XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZ3M9e1tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0N1c3RvbWVyIHBob25lIG51bWJlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUb3RhbFByaWNlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RvdGFsQm9udXNBbW91bnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWludXMgZnJvbSBCb251cyBBbW91bnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ3JlYXRlZEF0J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5jaEluZm8gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhbmNoSW5mby50cmFuc2FjdGlvbnMuaXRlbXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHRyYW5zYWN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaFZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24uY3VzdG9tZXJbMF0ucGhvbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoc2VhcmNoVmFsdWUudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zb3J0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhLCBiKSA9PiBuZXcgRGF0ZShiLmNyZWF0ZWRBdCkgLSBuZXcgRGF0ZShhLmNyZWF0ZWRBdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKHRyYW5zYWN0aW9uKSA9PiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdC5kaXNwYXRjaChSZWRpcmVjdC5BY3Rpb24uQURNSU5fUEFUSCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGAvY3VzdG9tZXJzLyR7dHJhbnNhY3Rpb24uY3VzdG9tZXJbMF0uaWR9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZXh0OiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dHJhbnNhY3Rpb24uY3VzdG9tZXJbMF0ucGhvbmV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvQ3VycmVuY3koTnVtYmVyKHRyYW5zYWN0aW9uLnRvdGFsUHJpY2UpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b0N1cnJlbmN5KE51bWJlcih0cmFuc2FjdGlvbi50b3RhbEJvbnVzQW1vdW50KSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ubm90ZSA9PT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdG9DdXJyZW5jeShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFjdE51bWJlcnNGcm9tU3RyaW5nKHRyYW5zYWN0aW9uLm5vdGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXREYXRlKHRyYW5zYWN0aW9uLmNyZWF0ZWRBdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8UGFnaW5hdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNQcmV2aW91cz17cHJldmlvdXNQYWdpbmF0ZVRva2Vucy5sZW5ndGggPiAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblByZXZpb3VzPXtwYWdpbmF0ZVByZXZpb3VzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNOZXh0PXtuZXh0UGFnaW5hdGVUb2tlbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25OZXh0PXtwYWdpbmF0ZU5leHR9XHJcbiAgICAgICAgICAgICAgICAgICAgLz4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC9QYWdlPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgIDwvPlxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCcmFuY2hEYXRhXHJcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgQVdTIGZyb20gJ2F3cy1zZGsnXHJcbmltcG9ydCB7IEF1dGgsIEFQSSwgZ3JhcGhxbE9wZXJhdGlvbiB9IGZyb20gJ2F3cy1hbXBsaWZ5J1xyXG5pbXBvcnQgY3JlYXRlQXBwIGZyb20gJ0BzaG9waWZ5L2FwcC1icmlkZ2UnXHJcbmltcG9ydCB7IFJlZGlyZWN0IH0gZnJvbSAnQHNob3BpZnkvYXBwLWJyaWRnZS9hY3Rpb25zJ1xyXG5pbXBvcnQgZ3FsIGZyb20gJ2dyYXBocWwtdGFnJ1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJ1xyXG5pbXBvcnQgeyBQYWdlLCBCdXR0b24sIE1vZGFsLCBGb3JtLCBGb3JtTGF5b3V0LCBUZXh0RmllbGQsIEJhZGdlIH0gZnJvbSAnQHNob3BpZnkvcG9sYXJpcydcclxuaW1wb3J0IHsgVGFibGUsIFBvcHVwLCBIZWFkZXIsIEljb24gfSBmcm9tICdzZW1hbnRpYy11aS1yZWFjdCdcclxuaW1wb3J0IFByb2R1Y3RMaXN0IGZyb20gJy4vUHJvZHVjdHNMaXN0J1xyXG5pbXBvcnQgeyBmb3JtYXREYXRlIH0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2F3cy1leHBvcnRzJ1xyXG5pbXBvcnQgQnJhbmNoUHJvZHVjdHMgZnJvbSAnLi9CcmFuY2hQcm9kdWN0cydcclxuaW1wb3J0IEFkbWluQnJhbmNoSW5mbyBmcm9tICcuLi9jb21wb25lbnRzL0FkbWluQnJhbmNoSW5mbydcclxuXHJcbkFQSS5jb25maWd1cmUoY29uZmlnKVxyXG5cclxuQVdTLmNvbmZpZy51cGRhdGUoe1xyXG4gICAgYWNjZXNzS2V5SWQ6ICdBS0lBSTUzT01NV09BUDVYM0s1UScsXHJcbiAgICBzZWNyZXRBY2Nlc3NLZXk6ICdBV3ZrVFJYRHJuODQ5dW1wckFjdmhPamt5bTA5YmRBSlZDbjlmQTdoJyxcclxuICAgIHJlZ2lvbjogJ3VzLWVhc3QtMSdcclxufSlcclxuXHJcbmNvbnN0IGNvZ25pdG8gPSBuZXcgQVdTLkNvZ25pdG9JZGVudGl0eVNlcnZpY2VQcm92aWRlcigpXHJcblxyXG5jb25zdCBsaXN0QnJhbmNocyA9IGdxbGBcclxuICAgIHF1ZXJ5IGxpc3RCcmFuY2hzIHtcclxuICAgICAgICBsaXN0QnJhbmNocyB7XHJcbiAgICAgICAgICAgIGl0ZW1zIHtcclxuICAgICAgICAgICAgICAgIGFkbWluSWRcclxuICAgICAgICAgICAgICAgIGJyYW5jaE5hbWVcclxuICAgICAgICAgICAgICAgIGJyYW5jaFVzZXJuYW1lXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXRcclxuICAgICAgICAgICAgICAgIGlkXHJcbiAgICAgICAgICAgICAgICBicmFuY2hQcm9kdWN0cyB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmFuY2hJZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEF0XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5gXHJcbmNvbnN0IG9uQ3JlYXRlQnJhbmNoU3Vic2NyaXB0aW9uID0gZ3FsYFxyXG4gICAgc3Vic2NyaXB0aW9uIG9uQ3JlYXRlQnJhbmNoIHtcclxuICAgICAgICBvbkNyZWF0ZUJyYW5jaCB7XHJcbiAgICAgICAgICAgIGFkbWluSWRcclxuICAgICAgICAgICAgYnJhbmNoTmFtZVxyXG4gICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICBjcmVhdGVkQXRcclxuICAgICAgICB9XHJcbiAgICB9XHJcbmBcclxuXHJcbmNvbnN0IG9uRGVsZXRlQnJhbmNoU3Vic2NyaXB0aW9uID0gZ3FsYFxyXG4gICAgc3Vic2NyaXB0aW9uIG9uRGVsZXRlQnJhbmNoIHtcclxuICAgICAgICBvbkRlbGV0ZUJyYW5jaCB7XHJcbiAgICAgICAgICAgIGlkXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5gXHJcblxyXG5jb25zdCByZW1vdmVCcmFuY2ggPSBncWxgXHJcbiAgICBtdXRhdGlvbiBkZWxldGVCcmFuY2goJGlucHV0OiBEZWxldGVCcmFuY2hJbnB1dCEpIHtcclxuICAgICAgICBkZWxldGVCcmFuY2goaW5wdXQ6ICRpbnB1dCkge1xyXG4gICAgICAgICAgICBpZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuYFxyXG5cclxuY29uc3QgQnJhbmNoTGlzdCA9ICh7IHNldEJyYW5jaElkLCBicmFuY2hJZCB9KSA9PiB7XHJcbiAgICBjb25zdCBbYWN0aXZlLCBzZXRBY3RpdmVdID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgICBjb25zdCBbYnJhbmNoZXMsIHNldEJyYW5jaGVzXSA9IHVzZVN0YXRlKCcnKVxyXG4gICAgY29uc3QgW2JyYW5jaE5hbWUsIHNldEJyYW5jaE5hbWVdID0gdXNlU3RhdGUoJycpXHJcbiAgICBjb25zdCBbcHJvZHVjdEJyYW5jaElkLCBzZXRQcm9kdWN0QnJhbmNoSWRdID0gdXNlU3RhdGUoJycpXHJcbiAgICBjb25zdCBbbmV3Q3JlYXRlZEJyYW5jaCwgc2V0TmV3Q3JlYXRlZEJyYW5jaF0gPSB1c2VTdGF0ZSgnJylcclxuXHJcbiAgICBjb25zdCBhcHAgPSBjcmVhdGVBcHAoe1xyXG4gICAgICAgIGFwaUtleTogJzNiMDEwNjNiYWMzMDMxZDEzMTAxMTAwZWYzZTQ0ZmQ1JyxcclxuICAgICAgICBzaG9wT3JpZ2luOiAndHJhbnNhY3Rpb25zLWF2YW50YS5teXNob3BpZnkuY29tJ1xyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCByZWRpcmVjdCA9IFJlZGlyZWN0LmNyZWF0ZShhcHApXHJcblxyXG4gICAgY29uc3QgaGFuZGxlQ2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgIHNldEFjdGl2ZSghYWN0aXZlKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZldGNoQnJhbmNoZXMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZ2V0QnJhbmNoZXMgPSBhd2FpdCBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKGxpc3RCcmFuY2hzKSlcclxuICAgICAgICAgICAgc2V0QnJhbmNoZXMoZ2V0QnJhbmNoZXMuZGF0YSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGVsZXRlQnJhbmNoID0gYXN5bmMgKGlkKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZGVsZXRlZEJyYW5jaCA9IGF3YWl0IEFQSS5ncmFwaHFsKFxyXG4gICAgICAgICAgICAgICAgZ3JhcGhxbE9wZXJhdGlvbihyZW1vdmVCcmFuY2gsIHsgaW5wdXQ6IHsgaWQgfSB9KVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEZWxldGVkIGJyYW5jaCcsIGRlbGV0ZWRCcmFuY2gpXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRlbGV0ZVVzZXJGcm9tQ29nbml0byA9IGFzeW5jICh1c2VybmFtZSkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGNvZ25pdG9cclxuICAgICAgICAgICAgICAgIC5hZG1pbkRlbGV0ZVVzZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgIFVzZXJQb29sSWQ6ICd1cy1lYXN0LTFfSWZybm56R0ZSJyxcclxuICAgICAgICAgICAgICAgICAgICBVc2VybmFtZTogdXNlcm5hbWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAucHJvbWlzZSgpXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgZmV0Y2hCcmFuY2hlcygpXHJcbiAgICAgICAgQVBJLmdyYXBocWwoZ3JhcGhxbE9wZXJhdGlvbihvbkNyZWF0ZUJyYW5jaFN1YnNjcmlwdGlvbikpLnN1YnNjcmliZSh7XHJcbiAgICAgICAgICAgIG5leHQ6IChjcmVhdGVkQnJhbmNoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXROZXdDcmVhdGVkQnJhbmNoKGNyZWF0ZWRCcmFuY2gpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24ob25EZWxldGVCcmFuY2hTdWJzY3JpcHRpb24pKS5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICBuZXh0OiAoZGVsZXRlZEJyYW5jaCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0TmV3Q3JlYXRlZEJyYW5jaChkZWxldGVkQnJhbmNoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0sIFtuZXdDcmVhdGVkQnJhbmNoXSlcclxuXHJcbiAgICBjb25zb2xlLmxvZygnQnJhbmNoZXMgZnJvbSBCcmFuY2ggbGlzdCcsIGJyYW5jaGVzKVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgICAgPFRhYmxlIHNlbGVjdGFibGUgY2VsbGVkPlxyXG4gICAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlcj5cclxuICAgICAgICAgICAgICAgICAgICA8VGFibGUuUm93PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuSGVhZGVyQ2VsbD5CcmFuY2ggTmFtZTwvVGFibGUuSGVhZGVyQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGwgdGV4dEFsaWduPVwiY2VudGVyXCI+Q3JlYXRlZCBBdDwvVGFibGUuSGVhZGVyQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGwgdGV4dEFsaWduPVwiY2VudGVyXCI+QWN0aW9uczwvVGFibGUuSGVhZGVyQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLlJvdz5cclxuICAgICAgICAgICAgICAgIDwvVGFibGUuSGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgPFRhYmxlLkJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAge2JyYW5jaGVzICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5jaGVzLmxpc3RCcmFuY2hzLml0ZW1zLm1hcCgoaXRlbSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLlJvdyBrZXk9e2l0ZW0uaWR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPEJhZGdlIHNpemU9XCJtZWRpdW1cIiBzdGF0dXM9XCJpbmZvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5icmFuY2hOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJyYW5jaElkKGl0ZW0uaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVkaXJlY3QuZGlzcGF0Y2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIFJlZGlyZWN0LkFjdGlvbi5BRE1JTl9QQVRILFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBgL2FwcHMvM2IwMTA2M2JhYzMwMzFkMTMxMDExMDBlZjNlNDRmZDUvYnJhbmNoLyR7aXRlbS5pZH1gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwiY29kZSBicmFuY2hcIiAvPiB7aXRlbS5icmFuY2hOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGwgdGV4dEFsaWduPVwiY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXREYXRlKGl0ZW0uY3JlYXRlZEF0KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGwgdGV4dEFsaWduPVwiY2VudGVyXCIgY2xhc3NOYW1lPVwiYnJhbmNoLWFjdGlvbnNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcHVwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50PVwiRWRpdCBicmFuY2hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcj17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJvZHVjdEJyYW5jaElkKGl0ZW0uaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCcmFuY2hOYW1lKGl0ZW0uYnJhbmNoTmFtZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNoYW5nZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImVkaXQtYnJhbmNoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImVkaXQgb3V0bGluZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcHVwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50PVwiRGVsZXRlIEJyYW5jaFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyPXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZW1vdmUtYnJhbmNoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInRyYXNoIGFsdGVybmF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUJyYW5jaChpdGVtLmlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlVXNlckZyb21Db2duaXRvKGl0ZW0uYnJhbmNoVXNlcm5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLlJvdz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICA8L1RhYmxlLkJvZHk+XHJcbiAgICAgICAgICAgIDwvVGFibGU+XHJcbiAgICAgICAgICAgIDxCcmFuY2hQcm9kdWN0c1xyXG4gICAgICAgICAgICAgICAgYnJhbmNoTmFtZT17YnJhbmNoTmFtZX1cclxuICAgICAgICAgICAgICAgIGJyYW5jaElkPXtwcm9kdWN0QnJhbmNoSWR9XHJcbiAgICAgICAgICAgICAgICBhY3RpdmU9e2FjdGl2ZX1cclxuICAgICAgICAgICAgICAgIGhhbmRsZUNoYW5nZT17aGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgIDwvPlxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCcmFuY2hMaXN0XHJcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXHJcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnXHJcbmltcG9ydCB7IEFQSSwgZ3JhcGhxbE9wZXJhdGlvbiB9IGZyb20gJ2F3cy1hbXBsaWZ5J1xyXG5pbXBvcnQgZ3FsIGZyb20gJ2dyYXBocWwtdGFnJ1xyXG5pbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gJ0BhcG9sbG8vY2xpZW50J1xyXG5pbXBvcnQgeyBNb2RhbCwgVGh1bWJuYWlsLCBDaGVja2JveCwgVGV4dFN0eWxlIH0gZnJvbSAnQHNob3BpZnkvcG9sYXJpcydcclxuaW1wb3J0IHsgVGFibGUsIEhlYWRlciB9IGZyb20gJ3NlbWFudGljLXVpLXJlYWN0J1xyXG5pbXBvcnQgeyB0b0N1cnJlbmN5LCBmb3JtYXREYXRlIH0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2F3cy1leHBvcnRzJ1xyXG5pbXBvcnQgQnJhbmNoUm93IGZyb20gJy4vQnJhbmNoUm93J1xyXG5pbXBvcnQgeyBzdWJzY3JpYmUgfSBmcm9tICdncmFwaHFsJ1xyXG5cclxuQVBJLmNvbmZpZ3VyZShjb25maWcpXHJcblxyXG5jb25zdCBsaXN0UHJvZHVjdHMgPSBncWxgXHJcbiAgICBxdWVyeSBQcm9kdWN0cyB7XHJcbiAgICAgICAgcHJvZHVjdHMoZmlyc3Q6IDEwMCkge1xyXG4gICAgICAgICAgICBlZGdlcyB7XHJcbiAgICAgICAgICAgICAgICBub2RlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlXHJcbiAgICAgICAgICAgICAgICAgICAgdGFnc1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uKHRydW5jYXRlQXQ6IDEwMClcclxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50cyhmaXJzdDogMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGdlcyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VzKGZpcnN0OiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VzIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU3JjXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbmBcclxuXHJcbmNvbnN0IGNyZWF0ZUJyYW5jaFByb2R1Y3QgPSBncWxgXHJcbiAgICBtdXRhdGlvbiBjcmVhdGVCcmFuY2hQcm9kdWN0KCRpbnB1dDogQ3JlYXRlQnJhbmNoUHJvZHVjdElucHV0ISkge1xyXG4gICAgICAgIGNyZWF0ZUJyYW5jaFByb2R1Y3QoaW5wdXQ6ICRpbnB1dCkge1xyXG4gICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICBicmFuY2hJZFxyXG4gICAgICAgICAgICBwcm9kdWN0SWRcclxuICAgICAgICAgICAgdGFnc1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuYFxyXG5jb25zdCBwcm9kdWN0VXBkYXRlID0gZ3FsYFxyXG4gICAgbXV0YXRpb24gcHJvZHVjdFVwZGF0ZSgkaW5wdXQ6IFByb2R1Y3RJbnB1dCEpIHtcclxuICAgICAgICBwcm9kdWN0VXBkYXRlKGlucHV0OiAkaW5wdXQpIHtcclxuICAgICAgICAgICAgcHJvZHVjdCB7XHJcbiAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgbWV0YWZpZWxkcyhmaXJzdDogMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRnZXMge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5gXHJcbmNvbnN0IGdldEJyYW5jaEJ5SWQgPSBncWxgXHJcbiAgICBxdWVyeSBnZXRCcmFuY2goJGlkOiBJRCEpIHtcclxuICAgICAgICBnZXRCcmFuY2goaWQ6ICRpZCkge1xyXG4gICAgICAgICAgICB0cmFuc2FjdGlvbnMoc29ydERpcmVjdGlvbjogREVTQykge1xyXG4gICAgICAgICAgICAgICAgaXRlbXMge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyYW5jaElkXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lcclxuICAgICAgICAgICAgICAgICAgICBub3RlXHJcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdE5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxCb251c0Ftb3VudFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUHJpY2VcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXRcclxuICAgICAgICAgICAgICAgICAgICBzb3J0RGF0ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyYW5jaE5hbWVcclxuICAgICAgICAgICAgYWRtaW5JZFxyXG4gICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICBicmFuY2hQcm9kdWN0cyB7XHJcbiAgICAgICAgICAgICAgICBpdGVtcyB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJhbmNoSWRcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXRcclxuICAgICAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RJZFxyXG4gICAgICAgICAgICAgICAgICAgIHRhZ3NcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuYFxyXG5cclxuY29uc3QgdXBkYXRlQnJhbmNoUHJvZHVjdCA9IGdxbGBcclxuICAgIG11dGF0aW9uIHVwZGF0ZUJyYW5jaFByb2R1Y3QoJGlucHV0OiBVcGRhdGVCcmFuY2hQcm9kdWN0SW5wdXQhKSB7XHJcbiAgICAgICAgdXBkYXRlQnJhbmNoUHJvZHVjdChpbnB1dDogJGlucHV0KSB7XHJcbiAgICAgICAgICAgIGlkXHJcbiAgICAgICAgICAgIHRhZ3NcclxuICAgICAgICAgICAgYnJhbmNoSWRcclxuICAgICAgICAgICAgcHJvZHVjdElkXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5gXHJcblxyXG5jb25zdCBkZWxldGVCcmFuY2hQcm9kdWN0ID0gZ3FsYFxyXG4gICAgbXV0YXRpb24gZGVsZXRlQnJhbmNoUHJvZHVjdCgkaW5wdXQ6IERlbGV0ZUJyYW5jaFByb2R1Y3RJbnB1dCEpIHtcclxuICAgICAgICBkZWxldGVCcmFuY2hQcm9kdWN0KGlucHV0OiAkaW5wdXQpIHtcclxuICAgICAgICAgICAgaWRcclxuICAgICAgICB9XHJcbiAgICB9XHJcbmBcclxuXHJcbmNvbnN0IG9uQ3JlYXRlQnJhbmNoUHJvZHVjdCA9IGdxbGBcclxuICAgIHN1YnNjcmlwdGlvbiBvbkNyZWF0ZUJyYW5jaFByb2R1Y3Qge1xyXG4gICAgICAgIG9uQ3JlYXRlQnJhbmNoUHJvZHVjdCB7XHJcbiAgICAgICAgICAgIGlkXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5gXHJcbmNvbnN0IG9uVXBkYXRlQnJhbmNoUHJvZHVjdCA9IGdxbGBcclxuICAgIHN1YnNjcmlwdGlvbiBvblVwZGF0ZUJyYW5jaFByb2R1Y3Qge1xyXG4gICAgICAgIG9uVXBkYXRlQnJhbmNoUHJvZHVjdCB7XHJcbiAgICAgICAgICAgIGlkXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5gXHJcblxyXG5jb25zdCBvbkRlbGV0ZUJyYW5jaFByb2R1Y3QgPSBncWxgXHJcbiAgICBzdWJzY3JpcHRpb24gb25EZWxldGVCcmFuY2hQcm9kdWN0IHtcclxuICAgICAgICBvbkRlbGV0ZUJyYW5jaFByb2R1Y3Qge1xyXG4gICAgICAgICAgICBpZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuYFxyXG5cclxuY29uc3QgUHJvZHVjdHNMaXN0ID0gKHsgYWN0aXZlLCBoYW5kbGVDaGFuZ2UsIGJyYW5jaElkLCBicmFuY2hOYW1lIH0pID0+IHtcclxuICAgIGNvbnN0IHsgbG9hZGluZywgZXJyb3IsIGRhdGEgfSA9IHVzZVF1ZXJ5KGxpc3RQcm9kdWN0cylcclxuICAgIGNvbnN0IFticmFuY2hQcm9kdWN0U3Vic2NyaXB0aW9uLCBzZXRCcmFuY2hQcm9kdWN0U3Vic2NyaXB0aW9uXSA9IHVzZVN0YXRlKCcnKVxyXG4gICAgY29uc3QgW3Jvd0lkLCBzZXRSb3dJZF0gPSB1c2VTdGF0ZShbXSlcclxuICAgIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoe1xyXG4gICAgICAgIHByb2R1Y3RzOiBbXVxyXG4gICAgfSlcclxuICAgIGNvbnN0IFtzZWFyY2hWYWx1ZSwgc2V0U2VhcmNoVmFsdWVdID0gdXNlU3RhdGUobnVsbClcclxuICAgIGNvbnN0IFticmFuY2hJbmZvLCBzZXRCcmFuY2hJbmZvXSA9IHVzZVN0YXRlKCcnKVxyXG4gICAgY29uc3QgaGFuZGxlU2VhcmNoSW5wdXQgPSB1c2VDYWxsYmFjaygobmV3VmFsdWUpID0+IHNldFNlYXJjaFZhbHVlKG5ld1ZhbHVlKSwgW10pXHJcblxyXG4gICAgY29uc3QgZ2V0QnJhbmNoID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJyYW5jaCA9IGF3YWl0IEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24oZ2V0QnJhbmNoQnlJZCwgeyBpZDogYnJhbmNoSWQgfSkpXHJcbiAgICAgICAgICAgIHNldEJyYW5jaEluZm8oYnJhbmNoLmRhdGEuZ2V0QnJhbmNoKVxyXG4gICAgICAgICAgICBzZXRSb3dJZChbXHJcbiAgICAgICAgICAgICAgICAuLi5yb3dJZCxcclxuICAgICAgICAgICAgICAgIC4uLmJyYW5jaC5kYXRhLmdldEJyYW5jaC5icmFuY2hQcm9kdWN0cy5pdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0ucHJvZHVjdElkKVxyXG4gICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICBzZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0czogW1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLnByb2R1Y3RzLFxyXG4gICAgICAgICAgICAgICAgICAgIC4uLmJyYW5jaC5kYXRhLmdldEJyYW5jaC5icmFuY2hQcm9kdWN0cy5pdGVtcy5tYXAoKHByb2R1Y3QpID0+ICh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwcm9kdWN0LnByb2R1Y3RJZFxyXG4gICAgICAgICAgICAgICAgICAgIH0pKVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGdldEJyYW5jaCgpXHJcblxyXG4gICAgICAgIGNvbnN0IGNyZWF0ZUxpc3RlbmVyID0gQVBJLmdyYXBocWwoZ3JhcGhxbE9wZXJhdGlvbihvbkNyZWF0ZUJyYW5jaFByb2R1Y3QpKS5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICBuZXh0OiAoY3JlYXRlZEJyYW5jaFByb2R1Y3QpID0+IHNldEJyYW5jaFByb2R1Y3RTdWJzY3JpcHRpb24oY3JlYXRlZEJyYW5jaFByb2R1Y3QpXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb25zdCB1cGRhdGVMaXN0ZW5lciA9IEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24ob25VcGRhdGVCcmFuY2hQcm9kdWN0KSkuc3Vic2NyaWJlKHtcclxuICAgICAgICAgICAgbmV4dDogKHVwZGF0ZWRCcmFuY2hQcm9kdWN0KSA9PiBzZXRCcmFuY2hQcm9kdWN0U3Vic2NyaXB0aW9uKHVwZGF0ZWRCcmFuY2hQcm9kdWN0KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY29uc3QgZGVsZXRlTGlzdGVuZXIgPSBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKG9uRGVsZXRlQnJhbmNoUHJvZHVjdCkpLnN1YnNjcmliZSh7XHJcbiAgICAgICAgICAgIG5leHQ6IChkZWxldGVkQnJhbmNoUHJvZHVjdCkgPT4gc2V0QnJhbmNoUHJvZHVjdFN1YnNjcmlwdGlvbihkZWxldGVkQnJhbmNoUHJvZHVjdClcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjcmVhdGVMaXN0ZW5lci51bnN1YnNjcmliZSgpXHJcbiAgICAgICAgICAgIHVwZGF0ZUxpc3RlbmVyLnVuc3Vic2NyaWJlKClcclxuICAgICAgICAgICAgZGVsZXRlTGlzdGVuZXIudW5zdWJzY3JpYmUoKVxyXG4gICAgICAgIH1cclxuICAgIH0sIFticmFuY2hJZCwgYnJhbmNoUHJvZHVjdFN1YnNjcmlwdGlvbl0pXHJcblxyXG4gICAgaWYgKGxvYWRpbmcpIHtcclxuICAgICAgICByZXR1cm4gPGRpdj5Mb2FkaW5nIHByb2R1Y3RzLi4uPC9kaXY+XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXY+U29tZSBlcnJvciBvY2N1cmVkPC9kaXY+XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0JyYW5jaCBpbmZvIGZyb20gQnJhbmNoUHJvZHVjdHMnLCBicmFuY2hJbmZvKVxyXG4gICAgY29uc29sZS5sb2coJ1Byb2R1Y3RzIGZyb20gc3RhdGUgaW4gQnJhbmNoUHJvZHVjdHMnLCBzdGF0ZS5wcm9kdWN0cylcclxuXHJcbiAgICBjb25zdCBkZWxldGVQcm9kdWN0c0Zyb21CcmFuY2ggPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcHJvZHVjdHNUb0RlbGV0ZUZyb21CcmFuY2ggPSBicmFuY2hJbmZvLmJyYW5jaFByb2R1Y3RzLml0ZW1zLmZpbHRlcihcclxuICAgICAgICAgICAgKGJyYW5jaFByb2R1Y3QpID0+XHJcbiAgICAgICAgICAgICAgICAhc3RhdGUucHJvZHVjdHMubWFwKChwcm9kdWN0KSA9PiBwcm9kdWN0LmlkKS5pbmNsdWRlcyhicmFuY2hQcm9kdWN0LnByb2R1Y3RJZClcclxuICAgICAgICApXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Byb2R1Y3RzIHRoYXQgYXJlIG5vdCBpbmNsdWRlZCBpbiBwcm9kdWN0cyBhcnJheScsIHByb2R1Y3RzVG9EZWxldGVGcm9tQnJhbmNoKVxyXG4gICAgICAgIFByb21pc2UuYWxsKFxyXG4gICAgICAgICAgICBwcm9kdWN0c1RvRGVsZXRlRnJvbUJyYW5jaC5tYXAoKGRlbGV0ZVByb2R1Y3QpID0+IHtcclxuICAgICAgICAgICAgICAgIEFQSS5ncmFwaHFsKFxyXG4gICAgICAgICAgICAgICAgICAgIGdyYXBocWxPcGVyYXRpb24oZGVsZXRlQnJhbmNoUHJvZHVjdCwgeyBpbnB1dDogeyBpZDogZGVsZXRlUHJvZHVjdC5pZCB9IH0pXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKS5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFkZFByb2R1Y3RzVG9CcmFuY2ggPSAoKSA9PiB7XHJcbiAgICAgICAgUHJvbWlzZS5hbGwoXHJcbiAgICAgICAgICAgIHN0YXRlLnByb2R1Y3RzLm1hcCgocHJvZHVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBicmFuY2hJbmZvLmJyYW5jaFByb2R1Y3RzLml0ZW1zLmZpbHRlcihcclxuICAgICAgICAgICAgICAgICAgICAoYnJhbmNoUHJvZHVjdCkgPT4gYnJhbmNoUHJvZHVjdC5wcm9kdWN0SWQgPT09IHByb2R1Y3QuaWRcclxuICAgICAgICAgICAgICAgIClbMF1cclxuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkUHJvZHVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdZZXMgaXQgY29udGFpbmVzIHByb2R1Y3RzIHRoYXQgc2hvdWxkIGJlIHVwZGF0ZWQnLCB1cGRhdGVkUHJvZHVjdClcclxuICAgICAgICAgICAgICAgICAgICBBUEkuZ3JhcGhxbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGhxbE9wZXJhdGlvbih1cGRhdGVCcmFuY2hQcm9kdWN0LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB1cGRhdGVkUHJvZHVjdC5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzOiBwcm9kdWN0LnRhZ3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gaXQgZG9lc24ndCBjb250YWluIHRoZSBwcm9kdWN0IHRoYXQgc2hvdWxkIGJlIHVwZGF0ZWRcIilcclxuICAgICAgICAgICAgICAgICAgICBBUEkuZ3JhcGhxbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGhxbE9wZXJhdGlvbihjcmVhdGVCcmFuY2hQcm9kdWN0LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB1dWlkdjQoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFuY2hJZDogYnJhbmNoSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOiBwcm9kdWN0LmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3M6IHByb2R1Y3QudGFnc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc3QgdXBkYXRlUHJvZHVjdHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAvLyAgICAgdHJ5IHtcclxuICAgIC8vICAgICAgICAgYXdhaXQgYXhpb3Moe1xyXG4gICAgLy8gICAgICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL3VwZGF0ZVByb2R1Y3QnLFxyXG4gICAgLy8gICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAvLyAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcHJvZHVjdHM6IHN0YXRlLnByb2R1Y3RzXHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH0pXHJcbiAgICAvLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdTdGF0ZSBkYXRhIGZyb20gcHJvZHVjdCBsaXN0Jywgc3RhdGUpXHJcbiAgICBjb25zb2xlLmxvZygnQnJhbmNoSW5mbyBmcm9tIG1vZGFsWmF2ZW4gamFuJywgYnJhbmNoSW5mbylcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxNb2RhbFxyXG4gICAgICAgICAgICBvcGVuPXthY3RpdmV9XHJcbiAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IGhhbmRsZUNoYW5nZSgpfVxyXG4gICAgICAgICAgICB0aXRsZT1cIkNob29zZSBwcm9kdWN0c1wiXHJcbiAgICAgICAgICAgIHByaW1hcnlBY3Rpb249e3tcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICdTYXZlIGNoYW5nZXMnLFxyXG4gICAgICAgICAgICAgICAgb25BY3Rpb246ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRQcm9kdWN0c1RvQnJhbmNoKClcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVQcm9kdWN0c0Zyb21CcmFuY2goKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZVByb2R1Y3RzKClcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVDaGFuZ2UoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgPE1vZGFsLlNlY3Rpb24+XHJcbiAgICAgICAgICAgICAgICA8VGFibGUgY2VsbGVkIHN0cmlwZWQgc2VsZWN0YWJsZT5cclxuICAgICAgICAgICAgICAgICAgICA8VGFibGUuSGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuUm93PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+UHJvZHVjdHM8L1RhYmxlLkhlYWRlckNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuSGVhZGVyQ2VsbCB0ZXh0QWxpZ249XCJjZW50ZXJcIj5QcmljZTwvVGFibGUuSGVhZGVyQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPkJvbnVzIFBlcmNlbnRhZ2U8L1RhYmxlLkhlYWRlckNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGUuUm93PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvVGFibGUuSGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZS5Cb2R5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGF0YSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhbmNoSW5mbyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9kdWN0cy5lZGdlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC5maWx0ZXIoKHByb2R1Y3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKHNlYXJjaFZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHJldHVybiBwcm9kdWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBwcm9kdWN0Lm5vZGUudGl0bGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC5pbmNsdWRlcyhzZWFyY2hWYWx1ZS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHJldHVybiBwcm9kdWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKHByb2R1Y3QpID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJyYW5jaFJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93SWQ9e3Jvd0lkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um93SWQ9e3NldFJvd0lkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhbmNoSW5mbz17YnJhbmNoSW5mb31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5jaElkPXticmFuY2hJZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q9e3Byb2R1Y3R9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZT17c3RhdGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTdGF0ZT17c2V0U3RhdGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxUYWJsZS5Sb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGtleT17cHJvZHVjdC5ub2RlLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgPFRhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgPEhlYWRlciBhcz1cImg0XCIgaW1hZ2UgY2xhc3NOYW1lPVwicHJvZHVjdC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgPENoZWNrYm94XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBjaGVja2VkPXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICByb3dJZC5pbmNsdWRlcyhwcm9kdWN0Lm5vZGUuaWQpICYmIHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBpZiAocm93SWQuaW5jbHVkZXMocHJvZHVjdC5ub2RlLmlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSb3dJZChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd0lkLmZpbHRlcigoaWQpID0+IGlkICE9PSBwcm9kdWN0Lm5vZGUuaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM6IHN0YXRlLnByb2R1Y3RzLmZpbHRlcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmlsdGVyZWRQcm9kdWN0KSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZFByb2R1Y3Qubm9kZS5pZCAhPT1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdC5ub2RlLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um93SWQoWy4uLnJvd0lkLCBwcm9kdWN0Lm5vZGUuaWRdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBbLi4uc3RhdGUucHJvZHVjdHMsIHByb2R1Y3RdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgPFRodW1ibmFpbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgc291cmNlPXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBwcm9kdWN0Lm5vZGUuaW1hZ2VzLmVkZ2VzWzBdICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdC5ub2RlLmltYWdlcy5lZGdlc1swXS5ub2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIC5vcmlnaW5hbFNyY1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGFsdD1cIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDxIZWFkZXIuQ29udGVudD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHtwcm9kdWN0Lm5vZGUudGl0bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIDwvSGVhZGVyLkNvbnRlbnQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgPC9IZWFkZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICA8L1RhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICA8VGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICA8VGV4dFN0eWxlIHZhcmlhdGlvbj1cInN1YmR1ZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAge3Byb2R1Y3Qubm9kZS5kZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICA8L1RleHRTdHlsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIDwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIDxUYWJsZS5DZWxsIHRleHRBbGlnbj1cImNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIDxUZXh0U3R5bGUgdmFyaWF0aW9uPVwic3ViZHVlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB7cHJvZHVjdC5ub2RlLnZhcmlhbnRzLmVkZ2VzWzBdICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB0b0N1cnJlbmN5KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Qubm9kZS52YXJpYW50cy5lZGdlc1swXS5ub2RlLnByaWNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIDwvVGV4dFN0eWxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgPC9UYWJsZS5DZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8L1RhYmxlLlJvdz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLkJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkZvb3RlciBmdWxsV2lkdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5Sb3c+PC9UYWJsZS5Sb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9UYWJsZS5Gb290ZXI+XHJcbiAgICAgICAgICAgICAgICA8L1RhYmxlPlxyXG4gICAgICAgICAgICA8L01vZGFsLlNlY3Rpb24+XHJcbiAgICAgICAgPC9Nb2RhbD5cclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdHNMaXN0XHJcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXHJcbmltcG9ydCB7IEFQSSwgZ3JhcGhxbE9wZXJhdGlvbiB9IGZyb20gJ2F3cy1hbXBsaWZ5J1xyXG5pbXBvcnQgZ3FsIGZyb20gJ2dyYXBocWwtdGFnJ1xyXG5pbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gJ0BhcG9sbG8vY2xpZW50J1xyXG5pbXBvcnQgeyBNb2RhbCwgVGh1bWJuYWlsLCBDaGVja2JveCwgVGV4dFN0eWxlLCBUZXh0RmllbGQgfSBmcm9tICdAc2hvcGlmeS9wb2xhcmlzJ1xyXG5pbXBvcnQgeyBUYWJsZSwgSGVhZGVyLCBJY29uIH0gZnJvbSAnc2VtYW50aWMtdWktcmVhY3QnXHJcbmltcG9ydCB7IHRvQ3VycmVuY3ksIGZvcm1hdERhdGUgfSBmcm9tICcuLi91dGlscy9oZWxwZXInXHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vYXdzLWV4cG9ydHMnXHJcbmltcG9ydCB7IGdldEJyYW5jaEJ5SWQgfSBmcm9tICcuLi9ncmFwaHFsL3F1ZXJpZXMnXHJcblxyXG5BUEkuY29uZmlndXJlKGNvbmZpZylcclxuXHJcbmNvbnN0IEJyYW5jaFJvdyA9ICh7IHByb2R1Y3QsIHN0YXRlLCBzZXRTdGF0ZSwgYnJhbmNoSWQsIGJyYW5jaEluZm8sIHJvd0lkLCBzZXRSb3dJZCB9KSA9PiB7XHJcbiAgICBjb25zdCBbZmV0Y2hlZFByb2R1Y3QsIHNldEZldGNoZWRQcm9kdWN0XSA9IHVzZVN0YXRlKHtcclxuICAgICAgICBkZXNjcmlwdGlvbjogcHJvZHVjdC5ub2RlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgIGlkOiBwcm9kdWN0Lm5vZGUuaWQsXHJcbiAgICAgICAgaW1hZ2U6IHByb2R1Y3Qubm9kZS5pbWFnZXMuZWRnZXNbMF0gPyBwcm9kdWN0Lm5vZGUuaW1hZ2VzLmVkZ2VzWzBdLm5vZGUub3JpZ2luYWxTcmMgOiAnJyxcclxuICAgICAgICB0YWdzOiBwcm9kdWN0Lm5vZGUudGFncyxcclxuICAgICAgICB0aXRsZTogcHJvZHVjdC5ub2RlLnRpdGxlLFxyXG4gICAgICAgIHZhcmlhbnRzOiB7XHJcbiAgICAgICAgICAgIGlkOiBwcm9kdWN0Lm5vZGUudmFyaWFudHMuZWRnZXNbMF0ubm9kZS5pZCxcclxuICAgICAgICAgICAgcHJpY2U6IHByb2R1Y3Qubm9kZS52YXJpYW50cy5lZGdlc1swXS5ub2RlLnByaWNlXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8vIGNvbnN0IFticmFuY2hJbmZvLCBzZXRCcmFuY2hJbmZvXSA9IHVzZVN0YXRlKCcnKVxyXG4gICAgLy8gY29uc3QgW3Jvd0lkLCBzZXRSb3dJZF0gPSB1c2VTdGF0ZSgnJylcclxuICAgIGNvbnN0IFtzZWFyY2hWYWx1ZSwgc2V0U2VhcmNoVmFsdWVdID0gdXNlU3RhdGUobnVsbClcclxuICAgIGNvbnN0IFtib251cywgc2V0Qm9udXNdID0gdXNlU3RhdGUoJycpXHJcbiAgICBjb25zdCBbY2hlY2tlZCwgc2V0Q2hlY2tlZF0gPSB1c2VTdGF0ZShmYWxzZSlcclxuICAgIGNvbnN0IGhhbmRsZVNlYXJjaElucHV0ID0gdXNlQ2FsbGJhY2soKG5ld1ZhbHVlKSA9PiBzZXRTZWFyY2hWYWx1ZShuZXdWYWx1ZSksIFtdKVxyXG5cclxuICAgIGNvbnN0IGhhbmRsZUJvbnVzID0gdXNlQ2FsbGJhY2soKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgc2V0Qm9udXModmFsdWUpXHJcbiAgICAgICAgZmV0Y2hlZFByb2R1Y3QudGFncyA9IFt2YWx1ZV1cclxuICAgICAgICBzZXRGZXRjaGVkUHJvZHVjdChmZXRjaGVkUHJvZHVjdClcclxuICAgIH0sIFtdKVxyXG5cclxuICAgIGNvbnN0IGNvbXBhcmVQcm9kdWN0ID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbXBhcmVkUHJvZHVjdCA9IGJyYW5jaEluZm8uYnJhbmNoUHJvZHVjdHMuaXRlbXMuZmlsdGVyKFxyXG4gICAgICAgICAgICAoYnJhbmNoUHJvZHVjdCkgPT4gYnJhbmNoUHJvZHVjdC5wcm9kdWN0SWQgPT09IGZldGNoZWRQcm9kdWN0LmlkXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnSGVyZSBpcyB5b3VyIGNvbXBhcmVkIHByb2R1Y3QnLCBjb21wYXJlZFByb2R1Y3QpXHJcblxyXG4gICAgICAgIGlmICghY29tcGFyZWRQcm9kdWN0IHx8IGNvbXBhcmVkUHJvZHVjdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRCb251cyhjb21wYXJlZFByb2R1Y3RbMF0gPyBjb21wYXJlZFByb2R1Y3RbMF0udGFnc1swXSA6ICcnKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnN0IGdldEJyYW5jaCA9IGFzeW5jICgpID0+IHtcclxuICAgIC8vICAgICB0cnkge1xyXG4gICAgLy8gICAgICAgICBjb25zdCBicmFuY2ggPSBhd2FpdCBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKGdldEJyYW5jaEJ5SWQsIHsgaWQ6IGJyYW5jaElkIH0pKVxyXG4gICAgLy8gICAgICAgICBzZXRCcmFuY2hJbmZvKGJyYW5jaC5kYXRhLmdldEJyYW5jaClcclxuICAgIC8vICAgICAgICAgc2V0Um93SWQoXHJcbiAgICAvLyAgICAgICAgICAgICBicmFuY2guZGF0YS5nZXRCcmFuY2guYnJhbmNoUHJvZHVjdHMuaXRlbXNcclxuICAgIC8vICAgICAgICAgICAgICAgICAubWFwKChpdGVtKSA9PiBpdGVtLnByb2R1Y3RJZClcclxuICAgIC8vICAgICAgICAgICAgICAgICAuZmlsdGVyKChwcm9kdWN0SWQpID0+IHByb2R1Y3RJZCA9PT0gZmV0Y2hlZFByb2R1Y3QuaWQpWzBdXHJcbiAgICAvLyAgICAgICAgIClcclxuICAgIC8vICAgICAgICAgc2V0U3RhdGUoe1xyXG4gICAgLy8gICAgICAgICAgICAgcHJvZHVjdHM6IFtcclxuICAgIC8vICAgICAgICAgICAgICAgICAuLi5zdGF0ZS5wcm9kdWN0cyxcclxuICAgIC8vICAgICAgICAgICAgICAgICAuLi5icmFuY2guZGF0YS5nZXRCcmFuY2guYnJhbmNoUHJvZHVjdHMuaXRlbXMuZmlsdGVyKFxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAocHJvZHVjdCkgPT4gcHJvZHVjdC5wcm9kdWN0SWQgPT09IGZldGNoZWRQcm9kdWN0LmlkXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgKVswXVxyXG4gICAgLy8gICAgICAgICAgICAgXVxyXG4gICAgLy8gICAgICAgICB9KVxyXG4gICAgLy8gICAgICAgICBjb21wYXJlUHJvZHVjdChicmFuY2guZGF0YS5nZXRCcmFuY2guYnJhbmNoUHJvZHVjdHMpXHJcbiAgICAvLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICAgICdSb3cgaWQgZnJvbSB1c2VFZmZlY3QnLFxyXG4gICAgICAgICAgICBicmFuY2hJbmZvLmJyYW5jaFByb2R1Y3RzLml0ZW1zXHJcbiAgICAgICAgICAgICAgICAubWFwKChpdGVtKSA9PiBpdGVtLnByb2R1Y3RJZClcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKHByb2R1Y3RJZCkgPT4gcHJvZHVjdElkID09PSBmZXRjaGVkUHJvZHVjdC5pZClbMF1cclxuICAgICAgICApXHJcbiAgICAgICAgLy8gc2V0Um93SWQoWy4uLnJvd0lkLCBicmFuY2hJbmZvLmJyYW5jaFByb2R1Y3RzLml0ZW1zXHJcbiAgICAgICAgLy8gICAgICAgICAubWFwKChpdGVtKSA9PiBpdGVtLnByb2R1Y3RJZClcclxuICAgICAgICAvLyAgICAgICAgIC5maWx0ZXIoKHByb2R1Y3RJZCkgPT4gcHJvZHVjdElkID09PSBmZXRjaGVkUHJvZHVjdC5pZClbMF1dKVxyXG4gICAgICAgIGNvbXBhcmVQcm9kdWN0KClcclxuICAgIH0sIFtwcm9kdWN0LCBicmFuY2hJbmZvXSlcclxuXHJcbiAgICBjb25zb2xlLmxvZygnRmV0Y2hlZCBwcm9kdWN0JywgZmV0Y2hlZFByb2R1Y3QpXHJcbiAgICBjb25zb2xlLmxvZygnU3RhdGUgZnJvbSBCcmFuY2hSb3cnLCBzdGF0ZSlcclxuICAgIGNvbnNvbGUubG9nKCdSb3cgaWQgZnJvbSBCcmFuY2hSb3cnLCByb3dJZClcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxUYWJsZS5Sb3cga2V5PXtmZXRjaGVkUHJvZHVjdC5pZH0+XHJcbiAgICAgICAgICAgIDxUYWJsZS5DZWxsPlxyXG4gICAgICAgICAgICAgICAgPEhlYWRlciBhcz1cImg0XCIgaW1hZ2UgY2xhc3NOYW1lPVwicHJvZHVjdC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3hcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17cm93SWQuaW5jbHVkZXMoZmV0Y2hlZFByb2R1Y3QuaWQpICYmIHRydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93SWQuaW5jbHVkZXMoZmV0Y2hlZFByb2R1Y3QuaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um93SWQocm93SWQuZmlsdGVyKChpZCkgPT4gaWQgIT09IGZldGNoZWRQcm9kdWN0LmlkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBzdGF0ZS5wcm9kdWN0cy5maWx0ZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmlsdGVyZWRQcm9kdWN0KSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkUHJvZHVjdC5pZCAhPT0gZmV0Y2hlZFByb2R1Y3QuaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJvd0lkKFsuLi5yb3dJZCwgZmV0Y2hlZFByb2R1Y3QuaWRdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBbLi4uc3RhdGUucHJvZHVjdHMsIGZldGNoZWRQcm9kdWN0XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8VGh1bWJuYWlsIHNvdXJjZT17ZmV0Y2hlZFByb2R1Y3QuaW1hZ2V9IHNpemU9XCJzbWFsbFwiIGFsdD1cIlwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPEhlYWRlci5Db250ZW50PntmZXRjaGVkUHJvZHVjdC50aXRsZX08L0hlYWRlci5Db250ZW50PlxyXG4gICAgICAgICAgICAgICAgPC9IZWFkZXI+XHJcbiAgICAgICAgICAgIDwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgPFRhYmxlLkNlbGwgdGV4dEFsaWduPVwiY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8VGV4dFN0eWxlIHZhcmlhdGlvbj1cInN1YmR1ZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICB7ZmV0Y2hlZFByb2R1Y3QudmFyaWFudHMgJiYgdG9DdXJyZW5jeShmZXRjaGVkUHJvZHVjdC52YXJpYW50cy5wcmljZSl9XHJcbiAgICAgICAgICAgICAgICA8L1RleHRTdHlsZT5cclxuICAgICAgICAgICAgPC9UYWJsZS5DZWxsPlxyXG4gICAgICAgICAgICA8VGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICBpZD1cInBlcmNlbnRhZ2UtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQm9udXMgUGVyY2VudGFnZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2JvbnVzfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVCb251c31cclxuICAgICAgICAgICAgICAgICAgICBwcmVmaXg9ezxJY29uIG5hbWU9XCJwZXJjZW50XCIgLz59XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFyb3dJZC5pbmNsdWRlcyhmZXRjaGVkUHJvZHVjdC5pZCl9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L1RhYmxlLkNlbGw+XHJcbiAgICAgICAgPC9UYWJsZS5Sb3c+XHJcbiAgICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJyYW5jaFJvd1xyXG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgVGFibGUsIEljb24sIFBvcHVwLCBIZWFkZXIgfSBmcm9tICdzZW1hbnRpYy11aS1yZWFjdCdcclxuaW1wb3J0IHsgQVBJLCBncmFwaHFsT3BlcmF0aW9uIH0gZnJvbSAnYXdzLWFtcGxpZnknXHJcbmltcG9ydCBncWwgZnJvbSAnZ3JhcGhxbC10YWcnXHJcbmltcG9ydCB7IEJhZGdlLCBCdXR0b24gfSBmcm9tICdAc2hvcGlmeS9wb2xhcmlzJ1xyXG5pbXBvcnQgeyB0b0N1cnJlbmN5LCBmb3JtYXREYXRlIH0gZnJvbSAnLi4vdXRpbHMvaGVscGVyJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2F3cy1hbXBsaWZ5J1xyXG5cclxuQVBJLmNvbmZpZ3VyZShjb25maWcpXHJcblxyXG5jb25zdCBsaXN0UGF5bWVudFJlcXVlc3QgPSBncWxgXHJcbiAgICBxdWVyeSBsaXN0UGF5bWVudFJlcXVlc3QoJGxpbWl0OiBJbnQsICRuZXh0VG9rZW46IFN0cmluZykge1xyXG4gICAgICAgIGxpc3RQYXltZW50UmVxdWVzdHMoXHJcbiAgICAgICAgICAgIGxpbWl0OiAkbGltaXRcclxuICAgICAgICAgICAgbmV4dFRva2VuOiAkbmV4dFRva2VuXHJcbiAgICAgICAgICAgIGZpbHRlcjogeyBzdGF0dXM6IHsgZXE6IERFQ0xJTkVEIH0gfVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpdGVtcyB7XHJcbiAgICAgICAgICAgICAgICBib251c0Ftb3VudFxyXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0XHJcbiAgICAgICAgICAgICAgICBjdXN0b21lcklkXHJcbiAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgb3JkZXJJZFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXh0VG9rZW5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbmBcclxuXHJcbmNvbnN0IERlY2xpbmVkUGF5bWVudFJlcXVlc3QgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBbbmV4dFBhZ2luYXRlVG9rZW4sIHNldE5leHRQYWdpbmF0ZVRva2VuXSA9IHVzZVN0YXRlKCcnKVxyXG4gICAgY29uc3QgW3BheW1lbnRSZXF1ZXN0SXRlbXMsIHNldFBheW1lbnRSZXF1ZXN0SXRlbXNdID0gdXNlU3RhdGUoW10pXHJcblxyXG4gICAgY29uc3QgZmV0Y2hBY2NlcHRlZFBheW1lbnRzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24obGlzdFBheW1lbnRSZXF1ZXN0LCB7IGxpbWl0OiAyMCB9KSlcclxuICAgICAgICAgICAgc2V0TmV4dFBhZ2luYXRlVG9rZW4ocmVzLmRhdGEubGlzdFBheW1lbnRSZXF1ZXN0cy5uZXh0VG9rZW4pXHJcbiAgICAgICAgICAgIHNldFBheW1lbnRSZXF1ZXN0SXRlbXMocmVzLmRhdGEubGlzdFBheW1lbnRSZXF1ZXN0cy5pdGVtcylcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FjY2VwdGVkIHBheW1lbnRzJywgcmVzLmRhdGEpXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSwgW10pXHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBmZXRjaEFjY2VwdGVkUGF5bWVudHMoKVxyXG4gICAgfSwgW2ZldGNoQWNjZXB0ZWRQYXltZW50c10pXHJcblxyXG4gICAgY29uc3QgbG9hZE1vcmUgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgQVBJLmdyYXBocWwoXHJcbiAgICAgICAgICAgICAgICBncmFwaHFsT3BlcmF0aW9uKGxpc3RQYXltZW50UmVxdWVzdCwgeyBsaW1pdDogMjAsIG5leHRUb2tlbjogbmV4dFBhZ2luYXRlVG9rZW4gfSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBzZXROZXh0UGFnaW5hdGVUb2tlbihyZXMuZGF0YS5saXN0UGF5bWVudFJlcXVlc3RzLm5leHRUb2tlbilcclxuICAgICAgICAgICAgc2V0UGF5bWVudFJlcXVlc3RJdGVtcyhbLi4ucGF5bWVudFJlcXVlc3RJdGVtcywgLi4ucmVzLmRhdGEubGlzdFBheW1lbnRSZXF1ZXN0cy5pdGVtc10pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgICAgPFRhYmxlIGNlbGxlZD5cclxuICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlLlJvdz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+Q3VzdG9tZXIgSWQ8L1RhYmxlLkhlYWRlckNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPkJvbnVzIEFtb3VudDwvVGFibGUuSGVhZGVyQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+Q3JlYXRlZCBBdDwvVGFibGUuSGVhZGVyQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+VXBkYXRlZCBBdDwvVGFibGUuSGVhZGVyQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+U3RhdHVzPC9UYWJsZS5IZWFkZXJDZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvVGFibGUuUm93PlxyXG4gICAgICAgICAgICAgICAgPC9UYWJsZS5IZWFkZXI+XHJcbiAgICAgICAgICAgICAgICA8VGFibGUuQm9keT5cclxuICAgICAgICAgICAgICAgICAgICB7cGF5bWVudFJlcXVlc3RJdGVtcyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50UmVxdWVzdEl0ZW1zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi51cGRhdGVkQXQpIC0gbmV3IERhdGUoYS51cGRhdGVkQXQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5Sb3cga2V5PXtpdGVtLmlkfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2Ugc2l6ZT1cInNtYWxsXCI+e2l0ZW0uY3VzdG9tZXJJZH08L0JhZGdlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsPnt0b0N1cnJlbmN5KGl0ZW0uYm9udXNBbW91bnQpfTwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+e2Zvcm1hdERhdGUoaXRlbS5jcmVhdGVkQXQpfTwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+e2Zvcm1hdERhdGUoaXRlbS51cGRhdGVkQXQpfTwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2Ugc2l6ZT1cInNtYWxsXCIgcHJvZ3Jlc3M9XCJpbmNvbXBsZXRlXCIgc3RhdHVzPVwiY3JpdGljYWxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5zdGF0dXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZS5Sb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgIDwvVGFibGUuQm9keT5cclxuICAgICAgICAgICAgPC9UYWJsZT5cclxuICAgICAgICAgICAgPEJ1dHRvbiBkaXNhYmxlZD17IW5leHRQYWdpbmF0ZVRva2VufSBwcmltYXJ5IG9uQ2xpY2s9e2xvYWRNb3JlfT5cclxuICAgICAgICAgICAgICAgIExvYWQgbW9yZVxyXG4gICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICA8Lz5cclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGVjbGluZWRQYXltZW50UmVxdWVzdFxyXG4iLCJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBDYXJkLCBCdXR0b24sIFRleHRGaWVsZCwgRm9ybSwgRm9ybUxheW91dCB9IGZyb20gJ0BzaG9waWZ5L3BvbGFyaXMnXHJcbmltcG9ydCB7IEF1dGggfSBmcm9tICdhd3MtYW1wbGlmeSdcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9hd3MtZXhwb3J0cydcclxuXHJcbmNvbnN0IFByb2ZpbGUgPSAoeyBzZXRVc2VyIH0pID0+IHtcclxuICAgIGNvbnN0IFt1c2VybmFtZSwgc2V0VXNlcm5hbWVdID0gdXNlU3RhdGUoJycpXHJcbiAgICBjb25zdCBbcGFzc3dvcmQsIHNldFBhc3N3b3JkXSA9IHVzZVN0YXRlKCcnKVxyXG4gICAgXHJcbiAgICBjb25zdCBvbkNoYW5nZVVzZXJuYW1lID0gdXNlQ2FsbGJhY2soKG5ld1ZhbHVlKSA9PiB7XHJcbiAgICAgICAgc2V0VXNlcm5hbWUobmV3VmFsdWUpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1ZhbHVlIHVzZXJuYW1lJywgbmV3VmFsdWUpXHJcbiAgICB9LCBbXSlcclxuXHJcbiAgICBjb25zdCBvbkNoYW5nZVBhc3N3b3JkID0gdXNlQ2FsbGJhY2soKG5ld1ZhbHVlKSA9PiB7XHJcbiAgICAgICAgc2V0UGFzc3dvcmQobmV3VmFsdWUpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1ZhbHVlIHBhc3N3b3JkJywgbmV3VmFsdWUpXHJcbiAgICB9LCBbXSlcclxuXHJcbiAgICBjb25zdCBzaWduSW4gPSBhc3luYyAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG5cclxuICAgICAgICBjb25zdCBzaWduZWRJblVzZXIgPSBhd2FpdCBBdXRoLnNpZ25Jbih1c2VybmFtZSwgcGFzc3dvcmQpXHJcbiAgICAgICAgc2V0VXNlcihzaWduZWRJblVzZXIpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImF1dGhlbnRpY2F0aW9uLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICA8Q2FyZCB0aXRsZT1cIkxvZyBpbnRvIHlvdXIgYnJhbmNoXCIgc2VjdGlvbmVkPlxyXG4gICAgICAgICAgICAgICAgPEZvcm0gb25TdWJtaXQ9e3NpZ25Jbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPEZvcm1MYXlvdXQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgdmFsdWU9e3VzZXJuYW1lfSBvbkNoYW5nZT17b25DaGFuZ2VVc2VybmFtZX0gbGFiZWw9XCJVc2VybmFtZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFzc3dvcmR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2VQYXNzd29yZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiUGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHByaW1hcnkgc3VibWl0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9naW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtTGF5b3V0PlxyXG4gICAgICAgICAgICAgICAgPC9Gb3JtPlxyXG4gICAgICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb2ZpbGVcclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IEFQSSwgZ3JhcGhxbE9wZXJhdGlvbiB9IGZyb20gJ2F3cy1hbXBsaWZ5J1xyXG5pbXBvcnQgeyBQYWdlLCBDYXJkLCBUb2FzdCwgRnJhbWUsIFRhYnMgfSBmcm9tICdAc2hvcGlmeS9wb2xhcmlzJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2F3cy1leHBvcnRzJ1xyXG5pbXBvcnQgQWNjZXB0ZWRQYXltZW50UmVxdWVzdCBmcm9tICcuLi9jb21wb25lbnRzL0FjY2VwdGVkUGF5bWVudFJlcXVlc3QnXHJcbmltcG9ydCBQZW5kaW5nUGF5bWVudFJlcXVlc3QgZnJvbSAnLi4vY29tcG9uZW50cy9QZW5kaW5nUGF5bWVudFJlcXVlc3QnXHJcbmltcG9ydCBEZWNsaW5lZFBheW1lbnRSZXF1ZXN0IGZyb20gJy4uL2NvbXBvbmVudHMvRGVjbGluZWRQYXltZW50UmVxdWVzdCdcclxuaW1wb3J0IHsgb25VcGRhdGVQYXltZW50U3Vic2NyaXB0aW9uLCBwYXltZW50U3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vZ3JhcGhxbC9zdWJzY3JpcHRpb25zJ1xyXG5cclxuQVBJLmNvbmZpZ3VyZShjb25maWcpXHJcblxyXG5jb25zdCBBY2NlcHRQYXltZW50ID0gKHsgYnJhbmNoSWQsIHNldFNob3dQYXltZW50UmVxdWVzdCB9KSA9PiB7XHJcbiAgICBjb25zdCBbYWN0aXZlVG9hc3QsIHNldEFjdGl2ZVRvYXN0XSA9IHVzZVN0YXRlKGZhbHNlKVxyXG4gICAgY29uc3QgW3NlbGVjdGVkLCBzZXRTZWxlY3RlZF0gPSB1c2VTdGF0ZSgwKVxyXG4gICAgY29uc3QgW2NyZWF0ZVVwZGF0ZVBheW1lbnRTdWJzY3JpcHRpb24sIHNldENyZWF0ZVVwZGF0ZVBheW1lbnRTdWJzY3JpcHRpb25dID0gdXNlU3RhdGUoJycpXHJcblxyXG4gICAgY29uc3QgaGFuZGxlVGFiQ2hhbmdlID0gdXNlQ2FsbGJhY2soKHNlbGVjdGVkVGFiSW5kZXgpID0+IHNldFNlbGVjdGVkKHNlbGVjdGVkVGFiSW5kZXgpLCBbXSlcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gQVBJLmdyYXBocWwoZ3JhcGhxbE9wZXJhdGlvbihwYXltZW50U3Vic2NyaXB0aW9uKSkuc3Vic2NyaWJlKHtcclxuICAgICAgICAgICAgbmV4dDogKHBheW1lbnRSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0Q3JlYXRlVXBkYXRlUGF5bWVudFN1YnNjcmlwdGlvbihwYXltZW50UmVzcG9uc2UpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBjb25zdCBvblVwZGF0ZVBheW1lbnQgPSBBUEkuZ3JhcGhxbChcclxuICAgICAgICAgICAgZ3JhcGhxbE9wZXJhdGlvbihvblVwZGF0ZVBheW1lbnRTdWJzY3JpcHRpb24pXHJcbiAgICAgICAgKS5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICBuZXh0OiAob25VcGRhdGVQYXltZW50UmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldENyZWF0ZVVwZGF0ZVBheW1lbnRTdWJzY3JpcHRpb24ob25VcGRhdGVQYXltZW50UmVzcG9uc2UpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBsaXN0ZW5lci51bnN1YnNjcmliZSgpXHJcbiAgICAgICAgICAgIG9uVXBkYXRlUGF5bWVudC51bnN1YnNjcmliZSgpXHJcbiAgICAgICAgfVxyXG4gICAgfSwgW10pXHJcblxyXG4gICAgY29uc3QgdGFicyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlkOiAncGVuZGluZy1wYXltZW50cycsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdQZW5kaW5nIFBheW1lbnQgUmVxdWVzdHMnLFxyXG4gICAgICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw6ICdQZW5kaW5nIFJlcXVlc3RzJyxcclxuICAgICAgICAgICAgcGFuZWxJRDogJ3BlbmRpbmctcGF5bWVudHMtY29udGVudCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWQ6ICdhY2NlcHRlZC1wYXltZW50cycsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdBY2NlcHRlZCBQYXltZW50IFJlcXVlc3RzJyxcclxuICAgICAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsOiAnQWNjZXB0ZWQgUmVxdWVzdCcsXHJcbiAgICAgICAgICAgIHBhbmVsSUQ6ICdhY2NlcHRlZC1wYXltZW50cy1jb250ZW50J1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZDogJ2RlY2xpbmVkLXBheW1lbnRzJyxcclxuICAgICAgICAgICAgY29udGVudDogJ0RlY2xpbmVkIFBheW1lbnQgUmVxdWVzdHMnLFxyXG4gICAgICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw6ICdEZWNsaW5lZCBSZXF1ZXN0cycsXHJcbiAgICAgICAgICAgIHBhbmVsSUQ6ICdkZWNsaW5lZC1wYXltZW50cy1jb250ZW50J1xyXG4gICAgICAgIH1cclxuICAgIF1cclxuXHJcbiAgICBjb25zdCB0b2FzdE1hcmt1cCA9IGFjdGl2ZVRvYXN0ID8gKFxyXG4gICAgICAgIDxUb2FzdFxyXG4gICAgICAgICAgICBjb250ZW50PVwiT3JkZXIgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGNyZWF0ZWRcIlxyXG4gICAgICAgICAgICBvbkRpc21pc3M9eygpID0+IHNldEFjdGl2ZVRvYXN0KGZhbHNlKX1cclxuICAgICAgICAvPlxyXG4gICAgKSA6IG51bGxcclxuXHJcbiAgICBjb25zdCByZW5kZXJQYXltZW50UmVxdWVzdCA9IChzZWxlY3RlZCkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICA8UGVuZGluZ1BheW1lbnRSZXF1ZXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5jaElkPXticmFuY2hJZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlVXBkYXRlUGF5bWVudFN1YnNjcmlwdGlvbj17Y3JlYXRlVXBkYXRlUGF5bWVudFN1YnNjcmlwdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gPEFjY2VwdGVkUGF5bWVudFJlcXVlc3QgYnJhbmNoSWQ9e2JyYW5jaElkfSAvPlxyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gPERlY2xpbmVkUGF5bWVudFJlcXVlc3QgYnJhbmNoSWQ9e2JyYW5jaElkfSAvPlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPEZyYW1lPlxyXG4gICAgICAgICAgICA8UGFnZSB0aXRsZT1cIlBheW1lbnQgUmVxdWVzdFwiPlxyXG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93UGF5bWVudFJlcXVlc3QoZmFsc2UpfT5HbyBiYWNrPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICA8Q2FyZD5cclxuICAgICAgICAgICAgICAgICAgICA8VGFicyB0YWJzPXt0YWJzfSBzZWxlY3RlZD17c2VsZWN0ZWR9IG9uU2VsZWN0PXtoYW5kbGVUYWJDaGFuZ2V9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZC5TZWN0aW9uIHRpdGxlPXt0YWJzW3NlbGVjdGVkXS5jb250ZW50fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJQYXltZW50UmVxdWVzdChzZWxlY3RlZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZC5TZWN0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvVGFicz5cclxuICAgICAgICAgICAgICAgIDwvQ2FyZD5cclxuICAgICAgICAgICAgICAgIHt0b2FzdE1hcmt1cH1cclxuICAgICAgICAgICAgPC9QYWdlPlxyXG4gICAgICAgIDwvRnJhbWU+XHJcbiAgICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFjY2VwdFBheW1lbnRcclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCBncWwgZnJvbSAnZ3JhcGhxbC10YWcnXHJcbmltcG9ydCB7IEFQSSwgZ3JhcGhxbE9wZXJhdGlvbiB9IGZyb20gJ2F3cy1hbXBsaWZ5J1xyXG5pbXBvcnQgeyBUYWJsZSwgSWNvbiwgUG9wdXAsIEhlYWRlciB9IGZyb20gJ3NlbWFudGljLXVpLXJlYWN0J1xyXG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gJ0BzaG9waWZ5L3BvbGFyaXMnXHJcbmltcG9ydCB7IHRvQ3VycmVuY3ksIGZvcm1hdERhdGUgfSBmcm9tICcuLi91dGlscy9oZWxwZXInXHJcbmltcG9ydCBQcm9kdWN0TGlzdCBmcm9tICcuL1Byb2R1Y3RzTGlzdCdcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9hd3MtZXhwb3J0cydcclxuXHJcbkFQSS5jb25maWd1cmUoY29uZmlnKVxyXG5cclxuY29uc3QgdXBkYXRlUGF5bWVudFJlcXVlc3QgPSBncWxgXHJcbiAgICBtdXRhdGlvbiB1cGRhdGVQYXltZW50UmVxdWVzdCgkaW5wdXQ6IFVwZGF0ZVBheW1lbnRSZXF1ZXN0SW5wdXQhKSB7XHJcbiAgICAgICAgdXBkYXRlUGF5bWVudFJlcXVlc3QoaW5wdXQ6ICRpbnB1dCkge1xyXG4gICAgICAgICAgICBib251c0Ftb3VudFxyXG4gICAgICAgICAgICBjdXN0b21lcklkXHJcbiAgICAgICAgICAgIGlkXHJcbiAgICAgICAgICAgIG9yZGVySWRcclxuICAgICAgICAgICAgc3RhdHVzXHJcbiAgICAgICAgICAgIHByb2R1Y3RzIHtcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsVW5pdFByaWNlXHJcbiAgICAgICAgICAgICAgICBxdWFudGl0eVxyXG4gICAgICAgICAgICAgICAgdmFyaWFudElkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3JlYXRlZEF0XHJcbiAgICAgICAgICAgIHVwZGF0ZWRBdFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuYFxyXG5cclxuY29uc3QgbGlzdFBheW1lbnRSZXF1ZXN0ID0gZ3FsYFxyXG4gICAgcXVlcnkgbGlzdFBheW1lbnRSZXF1ZXN0KCRicmFuY2hJZDogSUQpIHtcclxuICAgICAgICBsaXN0UGF5bWVudFJlcXVlc3RzKGZpbHRlcjogeyBzdGF0dXM6IHsgZXE6IFBFTkRJTkcgfSwgYnJhbmNoSWQ6IHsgZXE6ICRicmFuY2hJZCB9IH0pIHtcclxuICAgICAgICAgICAgaXRlbXMge1xyXG4gICAgICAgICAgICAgICAgYm9udXNBbW91bnRcclxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdFxyXG4gICAgICAgICAgICAgICAgY3VzdG9tZXJJZFxyXG4gICAgICAgICAgICAgICAgaWRcclxuICAgICAgICAgICAgICAgIG9yZGVySWRcclxuICAgICAgICAgICAgICAgIHN0YXR1c1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV4dFRva2VuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5gXHJcblxyXG5jb25zdCBwYXltZW50U3Vic2NyaXB0aW9uID0gZ3FsYFxyXG4gICAgc3Vic2NyaXB0aW9uIHBheW1lbnRSZXF1ZXN0IHtcclxuICAgICAgICBvbkNyZWF0ZVBheW1lbnRSZXF1ZXN0IHtcclxuICAgICAgICAgICAgYm9udXNBbW91bnRcclxuICAgICAgICAgICAgY3JlYXRlZEF0XHJcbiAgICAgICAgICAgIGN1c3RvbWVySWRcclxuICAgICAgICAgICAgaWRcclxuICAgICAgICAgICAgb3JkZXJJZFxyXG4gICAgICAgICAgICBzdGF0dXNcclxuICAgICAgICAgICAgdXBkYXRlZEF0XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5gXHJcblxyXG5jb25zdCBQZW5kaW5nUGF5bWVudFJlcXVlc3QgPSAoeyBjcmVhdGVVcGRhdGVQYXltZW50U3Vic2NyaXB0aW9uLCBicmFuY2hJZCB9KSA9PiB7XHJcbiAgICBjb25zdCBbcGF5bWVudFJlcXVlc3RJZCwgc2V0UGF5bWVudFJlcXVlc3RJZF0gPSB1c2VTdGF0ZSgnJylcclxuICAgIGNvbnN0IFthY3RpdmUsIHNldEFjdGl2ZV0gPSB1c2VTdGF0ZShmYWxzZSlcclxuICAgIGNvbnN0IFtwYXltZW50UmVxdWVzdEl0ZW1zLCBzZXRQYXltZW50UmVxdWVzdEl0ZW1zXSA9IHVzZVN0YXRlKFtdKVxyXG5cclxuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IHVzZUNhbGxiYWNrKCgpID0+IHNldEFjdGl2ZSghYWN0aXZlKSwgW2FjdGl2ZV0pXHJcblxyXG4gICAgY29uc29sZS5sb2coJ1BheW1lbnQgcmVxdWVzdCBpZCBmb3IgZGVjbGluZScsIHBheW1lbnRSZXF1ZXN0SWQpXHJcblxyXG4gICAgY29uc3QgZmV0Y2hBY2NlcHRlZFBheW1lbnRzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24obGlzdFBheW1lbnRSZXF1ZXN0LCB7IGJyYW5jaElkIH0pKVxyXG4gICAgICAgICAgICBzZXRQYXltZW50UmVxdWVzdEl0ZW1zKHJlcy5kYXRhLmxpc3RQYXltZW50UmVxdWVzdHMuaXRlbXMpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBY2NlcHRlZCBwYXltZW50cycsIHJlcy5kYXRhKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgIH0sIFtjcmVhdGVVcGRhdGVQYXltZW50U3Vic2NyaXB0aW9uXSlcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGZldGNoQWNjZXB0ZWRQYXltZW50cygpXHJcbiAgICB9LCBbZmV0Y2hBY2NlcHRlZFBheW1lbnRzXSlcclxuXHJcbiAgICBjb25zdCBkZWNsaW5lUGF5bWVudCA9IGFzeW5jIChwYXltZW50SWQpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBwYXltZW50UmVzcG9uc2UgPSBhd2FpdCBBUEkuZ3JhcGhxbChcclxuICAgICAgICAgICAgICAgIGdyYXBocWxPcGVyYXRpb24odXBkYXRlUGF5bWVudFJlcXVlc3QsIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogcGF5bWVudElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdERUNMSU5FRCdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApXHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGVjbGluZWQgUGF5bWVudCBkYXRhIGZyb20gbGFtYmRhJywgcGF5bWVudFJlc3BvbnNlLmRhdGEpXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgICA8VGFibGUgc2VsZWN0YWJsZSBjZWxsZWQ+XHJcbiAgICAgICAgICAgICAgICA8VGFibGUuSGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZS5Sb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPkN1c3RvbWVyIElkPC9UYWJsZS5IZWFkZXJDZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuSGVhZGVyQ2VsbD5Cb251cyBBbW91bnQ8L1RhYmxlLkhlYWRlckNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPkNyZWF0ZWQgQXQ8L1RhYmxlLkhlYWRlckNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPlVwZGF0ZWQgQXQ8L1RhYmxlLkhlYWRlckNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPlN0YXR1czwvVGFibGUuSGVhZGVyQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGw+QWN0aW9uPC9UYWJsZS5IZWFkZXJDZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvVGFibGUuUm93PlxyXG4gICAgICAgICAgICAgICAgPC9UYWJsZS5IZWFkZXI+XHJcbiAgICAgICAgICAgICAgICA8VGFibGUuQm9keT5cclxuICAgICAgICAgICAgICAgICAgICB7cGF5bWVudFJlcXVlc3RJdGVtcyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50UmVxdWVzdEl0ZW1zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi51cGRhdGVkQXQpIC0gbmV3IERhdGUoYS51cGRhdGVkQXQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5Sb3cga2V5PXtpdGVtLmlkfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2Ugc2l6ZT1cInNtYWxsXCI+e2l0ZW0uY3VzdG9tZXJJZH08L0JhZGdlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsPnt0b0N1cnJlbmN5KGl0ZW0uYm9udXNBbW91bnQpfTwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+e2Zvcm1hdERhdGUoaXRlbS5jcmVhdGVkQXQpfTwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+e2Zvcm1hdERhdGUoaXRlbS51cGRhdGVkQXQpfTwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzPVwicGFydGlhbGx5Q29tcGxldGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cz1cImF0dGVudGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLnN0YXR1c31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGwgY2xhc3NOYW1lPVwiYWN0aW9ucy1jZWxsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wdXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50PVwiQXBwcm92ZSBwYXltZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyPXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFjY2VwdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiY2hlY2tcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBheW1lbnRSZXF1ZXN0SWQoaXRlbS5pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDaGFuZ2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcHVwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudD1cIkRlY2xpbmUgcGF5bWVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcj17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkZWNsaW5lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJyZW1vdmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2xpbmVQYXltZW50KGl0ZW0uaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLlJvdz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgPC9UYWJsZS5Cb2R5PlxyXG4gICAgICAgICAgICA8L1RhYmxlPlxyXG4gICAgICAgICAgICA8UHJvZHVjdExpc3RcclxuICAgICAgICAgICAgICAgIHBheW1lbnRSZXF1ZXN0SWQ9e3BheW1lbnRSZXF1ZXN0SWR9XHJcbiAgICAgICAgICAgICAgICBhY3RpdmU9e2FjdGl2ZX1cclxuICAgICAgICAgICAgICAgIGhhbmRsZUNoYW5nZT17aGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgIDwvPlxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQZW5kaW5nUGF5bWVudFJlcXVlc3RcclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBBUEksIGdyYXBocWxPcGVyYXRpb24gfSBmcm9tICdhd3MtYW1wbGlmeSdcclxuaW1wb3J0IGdxbCBmcm9tICdncmFwaHFsLXRhZydcclxuaW1wb3J0IHsgdXNlUXVlcnkgfSBmcm9tICdAYXBvbGxvL2NsaWVudCdcclxuaW1wb3J0IHsgTW9kYWwsIFRodW1ibmFpbCwgQ2hlY2tib3gsIFRleHRTdHlsZSB9IGZyb20gJ0BzaG9waWZ5L3BvbGFyaXMnXHJcbmltcG9ydCB7IFRhYmxlLCBIZWFkZXIgfSBmcm9tICdzZW1hbnRpYy11aS1yZWFjdCdcclxuaW1wb3J0IHsgdG9DdXJyZW5jeSB9IGZyb20gJy4uL3V0aWxzL2hlbHBlcidcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9hd3MtZXhwb3J0cydcclxuaW1wb3J0IHtsaXN0UHJvZHVjdHN9IGZyb20gXCIuLi9ncmFwaHFsL3F1ZXJpZXNcIlxyXG5pbXBvcnQge3VwZGF0ZVBheW1lbnRSZXF1ZXN0fSBmcm9tIFwiLi4vZ3JhcGhxbC9tdXRhdGlvblwiXHJcblxyXG5BUEkuY29uZmlndXJlKGNvbmZpZylcclxuXHJcbmNvbnN0IFByb2R1Y3RzTGlzdCA9ICh7IGFjdGl2ZSwgaGFuZGxlQ2hhbmdlLCBwYXltZW50UmVxdWVzdElkIH0pID0+IHtcclxuICAgIGNvbnN0IHsgbG9hZGluZywgZXJyb3IsIGRhdGEgfSA9IHVzZVF1ZXJ5KGxpc3RQcm9kdWN0cylcclxuICAgIGNvbnN0IFtyb3dJZCwgc2V0Um93SWRdID0gdXNlU3RhdGUoW10pXHJcbiAgICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKHtcclxuICAgICAgICBwcm9kdWN0czogW11cclxuICAgIH0pXHJcbiAgXHJcbiAgICBpZiAobG9hZGluZykge1xyXG4gICAgICAgIHJldHVybiA8ZGl2PkxvYWRpbmcgcHJvZHVjdHMuLi48L2Rpdj5cclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gPGRpdj5Tb21lIGVycm9yIG9jY3VyZWQ8L2Rpdj5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhY2NlcHRQYXltZW50ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRSZXNwb25zZSA9IGF3YWl0IEFQSS5ncmFwaHFsKFxyXG4gICAgICAgICAgICAgICAgZ3JhcGhxbE9wZXJhdGlvbih1cGRhdGVQYXltZW50UmVxdWVzdCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwYXltZW50UmVxdWVzdElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdBUFBST1ZFRCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBzdGF0ZS5wcm9kdWN0cy5tYXAoKHByb2R1Y3QpID0+ICh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFVuaXRQcmljZTogcHJvZHVjdC5ub2RlLnZhcmlhbnRzLmVkZ2VzWzBdLm5vZGUucHJpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnRJZDogcHJvZHVjdC5ub2RlLnZhcmlhbnRzLmVkZ2VzWzBdLm5vZGUuaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1BheW1lbnQgZGF0YSBmcm9tIGxhbWJkYScsIHBheW1lbnRSZXNwb25zZS5kYXRhKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxNb2RhbFxyXG4gICAgICAgICAgICBvcGVuPXthY3RpdmV9XHJcbiAgICAgICAgICAgIG9uQ2xvc2U9e2hhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgdGl0bGU9XCJDaG9vc2UgcHJvZHVjdHNcIlxyXG4gICAgICAgICAgICBwcmltYXJ5QWN0aW9uPXt7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiAnUHJvY2VlZCcsXHJcbiAgICAgICAgICAgICAgICBvbkFjdGlvbjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjY2VwdFBheW1lbnQoKVxyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUNoYW5nZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICA8TW9kYWwuU2VjdGlvbj5cclxuICAgICAgICAgICAgICAgIDxUYWJsZSBjZWxsZWQgc3RyaXBlZCBzZWxlY3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5Sb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuSGVhZGVyQ2VsbD5Qcm9kdWN0czwvVGFibGUuSGVhZGVyQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5IZWFkZXJDZWxsPkRlc2NyaXB0aW9uPC9UYWJsZS5IZWFkZXJDZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkhlYWRlckNlbGwgdGV4dEFsaWduPVwiY2VudGVyXCI+UHJpY2U8L1RhYmxlLkhlYWRlckNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGUuUm93PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvVGFibGUuSGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZS5Cb2R5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGF0YSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9kdWN0cy5lZGdlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKHByb2R1Y3QpID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLlJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtwcm9kdWN0Lm5vZGUuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd0lkLmluY2x1ZGVzKHByb2R1Y3Qubm9kZS5pZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um93SWQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dJZC5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gcHJvZHVjdC5ub2RlLmlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBzdGF0ZS5wcm9kdWN0cy5maWx0ZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZpbHRlcmVkUHJvZHVjdCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRQcm9kdWN0Lm5vZGUuaWQgIT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Qubm9kZS5pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJvd0lkKFsuLi5yb3dJZCwgcHJvZHVjdC5ub2RlLmlkXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0czogWy4uLnN0YXRlLnByb2R1Y3RzLCBwcm9kdWN0XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEhlYWRlciBhcz1cImg0XCIgaW1hZ2UgY2xhc3NOYW1lPVwicHJvZHVjdC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dJZC5pbmNsdWRlcyhwcm9kdWN0Lm5vZGUuaWQpICYmIHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRodW1ibmFpbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlPXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0Lm5vZGUuaW1hZ2VzLmVkZ2VzWzBdICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdC5ub2RlLmltYWdlcy5lZGdlc1swXS5ub2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vcmlnaW5hbFNyY1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIZWFkZXIuQ29udGVudD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9kdWN0Lm5vZGUudGl0bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSGVhZGVyLkNvbnRlbnQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9IZWFkZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLkNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dFN0eWxlIHZhcmlhdGlvbj1cInN1YmR1ZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Byb2R1Y3Qubm9kZS5kZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RleHRTdHlsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGUuQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsIHRleHRBbGlnbj1cImNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0U3R5bGUgdmFyaWF0aW9uPVwic3ViZHVlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJvZHVjdC5ub2RlLnZhcmlhbnRzLmVkZ2VzWzBdICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b0N1cnJlbmN5KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Qubm9kZS52YXJpYW50cy5lZGdlc1swXS5ub2RlLnByaWNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGV4dFN0eWxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZS5DZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLlJvdz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgICAgICA8L1RhYmxlLkJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlLkZvb3RlciBmdWxsV2lkdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZS5Sb3c+PC9UYWJsZS5Sb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9UYWJsZS5Gb290ZXI+XHJcbiAgICAgICAgICAgICAgICA8L1RhYmxlPlxyXG4gICAgICAgICAgICA8L01vZGFsLlNlY3Rpb24+XHJcbiAgICAgICAgPC9Nb2RhbD5cclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdHNMaXN0XHJcbiIsImltcG9ydCBncWwgZnJvbSAnZ3JhcGhxbC10YWcnXHJcblxyXG5jb25zdCBjcmVhdGVEcmFmdE9yZGVyID0gZ3FsYFxyXG4gICAgbXV0YXRpb24gQ3JlYXRlT3JkZXIoJGlucHV0OiBEcmFmdE9yZGVySW5wdXQhKSB7XHJcbiAgICAgICAgZHJhZnRPcmRlckNyZWF0ZShpbnB1dDogJGlucHV0KSB7XHJcbiAgICAgICAgICAgIGRyYWZ0T3JkZXIge1xyXG4gICAgICAgICAgICAgICAgaWRcclxuICAgICAgICAgICAgICAgIGN1c3RvbWVyIHtcclxuICAgICAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZW1haWxcclxuICAgICAgICAgICAgICAgIGxpbmVJdGVtcyhmaXJzdDogMTApIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGdlcyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFVuaXRQcmljZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VzKGZpcnN0OiA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGdlcyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU3JjXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5gXHJcblxyXG5leHBvcnQgY29uc3QgY29tcGxldGVPcmRlciA9IGdxbGBcclxuICAgIG11dGF0aW9uIENvbXBsZXRlT3JkZXIoJGlkOiBJRCEpIHtcclxuICAgICAgICBkcmFmdE9yZGVyQ29tcGxldGUoaWQ6ICRpZCwgcGF5bWVudFBlbmRpbmc6IHRydWUpIHtcclxuICAgICAgICAgICAgZHJhZnRPcmRlciB7XHJcbiAgICAgICAgICAgICAgICBjdXN0b21lciB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVtYWlsXHJcbiAgICAgICAgICAgICAgICBuYW1lXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbmBcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVQYXltZW50UmVxdWVzdCA9IGdxbGBcclxuICAgIG11dGF0aW9uIHVwZGF0ZVBheW1lbnRSZXF1ZXN0KCRpbnB1dDogVXBkYXRlUGF5bWVudFJlcXVlc3RJbnB1dCEpIHtcclxuICAgICAgICB1cGRhdGVQYXltZW50UmVxdWVzdChpbnB1dDogJGlucHV0KSB7XHJcbiAgICAgICAgICAgIGJvbnVzQW1vdW50XHJcbiAgICAgICAgICAgIGN1c3RvbWVySWRcclxuICAgICAgICAgICAgaWRcclxuICAgICAgICAgICAgb3JkZXJJZFxyXG4gICAgICAgICAgICBzdGF0dXNcclxuICAgICAgICAgICAgcHJvZHVjdHMge1xyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxVbml0UHJpY2VcclxuICAgICAgICAgICAgICAgIHF1YW50aXR5XHJcbiAgICAgICAgICAgICAgICB2YXJpYW50SWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjcmVhdGVkQXRcclxuICAgICAgICAgICAgdXBkYXRlZEF0XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5gXHJcbiIsImltcG9ydCBncWwgZnJvbSAnZ3JhcGhxbC10YWcnXHJcblxyXG5leHBvcnQgY29uc3QgbGlzdFRyYW5zYWN0aW9ucyA9IGdxbGBcclxuICAgIHF1ZXJ5IGxpc3RUcmFuc2FjdGlvbnMoJGxpbWl0OiBJbnQsICRuZXh0VG9rZW46IFN0cmluZykge1xyXG4gICAgICAgIGxpc3RUcmFuc2FjdGlvbnMobGltaXQ6ICRsaW1pdCwgbmV4dFRva2VuOiAkbmV4dFRva2VuKSB7XHJcbiAgICAgICAgICAgIG5leHRUb2tlblxyXG4gICAgICAgICAgICBpdGVtcyB7XHJcbiAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgdG90YWxQcmljZVxyXG4gICAgICAgICAgICAgICAgdG90YWxCb251c0Ftb3VudFxyXG4gICAgICAgICAgICAgICAgbm90ZVxyXG4gICAgICAgICAgICAgICAgY3VycmVuY3lcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzIHtcclxuICAgICAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlXHJcbiAgICAgICAgICAgICAgICAgICAgYm9udXNQZXJjZW50YWdlXHJcbiAgICAgICAgICAgICAgICAgICAgcHJpY2VBbW91bnRcclxuICAgICAgICAgICAgICAgICAgICBwcmljZUN1cnJlbmN5XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1c3RvbWVyIHtcclxuICAgICAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3ROYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgcGhvbmVcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbmBcclxuXHJcbmV4cG9ydCBjb25zdCBsaXN0UHJvZHVjdHMgPSBncWxgXHJcbiAgICBxdWVyeSBQcm9kdWN0cyB7XHJcbiAgICAgICAgcHJvZHVjdHMoZmlyc3Q6IDEwMCkge1xyXG4gICAgICAgICAgICBlZGdlcyB7XHJcbiAgICAgICAgICAgICAgICBub2RlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlXHJcbiAgICAgICAgICAgICAgICAgICAgdGFnc1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uKHRydW5jYXRlQXQ6IDEwMClcclxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50cyhmaXJzdDogMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGdlcyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VzKGZpcnN0OiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VzIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU3JjXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbmBcclxuZXhwb3J0IGNvbnN0IGJyYW5jaEJ5QWRtaW5JZCA9IGdxbGBcclxuICAgIHF1ZXJ5IGJyYW5jaEJ5QWRtaW5JZCgkYWRtaW5JZDogSUQhKSB7XHJcbiAgICAgICAgYnJhbmNoQnlBZG1pbklkKGFkbWluSWQ6ICRhZG1pbklkKSB7XHJcbiAgICAgICAgICAgIGl0ZW1zIHtcclxuICAgICAgICAgICAgICAgIGFkbWluSWRcclxuICAgICAgICAgICAgICAgIGJyYW5jaE5hbWVcclxuICAgICAgICAgICAgICAgIGlkXHJcbiAgICAgICAgICAgICAgICBicmFuY2hQcm9kdWN0cyB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmFuY2hJZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3NcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbmBcclxuXHJcbmV4cG9ydCBjb25zdCBsaXN0UGF5bWVudFJlcXVlc3QgPSBncWxgXHJcbiAgICBxdWVyeSBsaXN0UGF5bWVudFJlcXVlc3Qge1xyXG4gICAgICAgIGxpc3RQYXltZW50UmVxdWVzdHMge1xyXG4gICAgICAgICAgICBpdGVtcyB7XHJcbiAgICAgICAgICAgICAgICBib251c0Ftb3VudFxyXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0XHJcbiAgICAgICAgICAgICAgICBjdXN0b21lcklkXHJcbiAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgb3JkZXJJZFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuYFxyXG5cclxuZXhwb3J0IGNvbnN0IGdldEJyYW5jaEJ5SWQgPSBncWxgXHJcbiAgICBxdWVyeSBnZXRCcmFuY2goJGlkOiBJRCEpIHtcclxuICAgICAgICBnZXRCcmFuY2goaWQ6ICRpZCkge1xyXG4gICAgICAgICAgICB0cmFuc2FjdGlvbnMoc29ydERpcmVjdGlvbjogREVTQykge1xyXG4gICAgICAgICAgICAgICAgaXRlbXMge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyYW5jaElkXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lcclxuICAgICAgICAgICAgICAgICAgICBub3RlXHJcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdE5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxCb251c0Ftb3VudFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUHJpY2VcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXRcclxuICAgICAgICAgICAgICAgICAgICBzb3J0RGF0ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyYW5jaE5hbWVcclxuICAgICAgICAgICAgYWRtaW5JZFxyXG4gICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICBicmFuY2hQcm9kdWN0cyB7XHJcbiAgICAgICAgICAgICAgICBpdGVtcyB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJhbmNoSWRcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXRcclxuICAgICAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RJZFxyXG4gICAgICAgICAgICAgICAgICAgIHRhZ3NcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuYFxyXG4iLCJpbXBvcnQgZ3FsIGZyb20gJ2dyYXBocWwtdGFnJ1xyXG5cclxuZXhwb3J0IGNvbnN0IG9uVXBkYXRlUGF5bWVudFN1YnNjcmlwdGlvbiA9IGdxbGBcclxuICAgIHN1YnNjcmlwdGlvbiBvblVwZGF0ZVBheW1lbnRSZXF1ZXN0IHtcclxuICAgICAgICBvblVwZGF0ZVBheW1lbnRSZXF1ZXN0IHtcclxuICAgICAgICAgICAgaWRcclxuICAgICAgICAgICAgc3RhdHVzXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5gXHJcblxyXG5leHBvcnQgY29uc3QgcGF5bWVudFN1YnNjcmlwdGlvbiA9IGdxbGBcclxuICAgIHN1YnNjcmlwdGlvbiBwYXltZW50UmVxdWVzdCB7XHJcbiAgICAgICAgb25DcmVhdGVQYXltZW50UmVxdWVzdCB7XHJcbiAgICAgICAgICAgIGJvbnVzQW1vdW50XHJcbiAgICAgICAgICAgIGNyZWF0ZWRBdFxyXG4gICAgICAgICAgICBjdXN0b21lcklkXHJcbiAgICAgICAgICAgIGlkXHJcbiAgICAgICAgICAgIG9yZGVySWRcclxuICAgICAgICAgICAgc3RhdHVzXHJcbiAgICAgICAgICAgIHVwZGF0ZWRBdFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuYFxyXG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgQXV0aCB9IGZyb20gJ2F3cy1hbXBsaWZ5J1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2F3cy1leHBvcnRzJ1xyXG5pbXBvcnQgTG9naW4gZnJvbSAnLi4vY29tcG9uZW50cy9Mb2dpbidcclxuaW1wb3J0IEJyYW5jaENvbnNvbGUgZnJvbSAnLi4vY29tcG9uZW50cy9CcmFuY2hDb25zb2xlJ1xyXG5pbXBvcnQgQnJhbmNoRGF0YSBmcm9tICcuLi9jb21wb25lbnRzL0JyYW5jaERhdGEnXHJcblxyXG5jb25zdCBJbmRleCA9ICgpID0+IHtcclxuICAgIGNvbnN0IFt1c2VyLCB1cGRhdGVVc2VyXSA9IHVzZVN0YXRlKG51bGwpXHJcblxyXG4gICAgY29uc3QgY2hlY2tVc2VyID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBBdXRoLmN1cnJlbnRBdXRoZW50aWNhdGVkVXNlcigpXHJcblxyXG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHVwZGF0ZVVzZXIodXNlcilcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBjaGVja1VzZXIoKVxyXG4gICAgfSwgW10pXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgICB7dXNlciAmJiB1c2VyLnVzZXJuYW1lICE9PSAnc3VwZXJhZG1pbicgJiYgKFxyXG4gICAgICAgICAgICAgICAgPEJyYW5jaERhdGEgdXBkYXRlVXNlcj17dXBkYXRlVXNlcn0gdXNlcj17dXNlcn0gLz5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgeyF1c2VyICYmIDxMb2dpbiBzZXRVc2VyPXsoZmV0Y2hlZFVzZXIpID0+IHVwZGF0ZVVzZXIoZmV0Y2hlZFVzZXIpfSAvPn1cclxuICAgICAgICAgICAge3VzZXIgJiYgdXNlci51c2VybmFtZSA9PT0gJ3N1cGVyYWRtaW4nICYmIDxCcmFuY2hDb25zb2xlIHVwZGF0ZVVzZXI9e3VwZGF0ZVVzZXJ9IC8+fVxyXG4gICAgICAgIDwvPlxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbmRleFxyXG4iLCJleHBvcnQgY29uc3QgdG9DdXJyZW5jeSA9IChwcmljZSkgPT4ge1xyXG4gICAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdCgnaHktQU0nLCB7XHJcbiAgICAgICAgY3VycmVuY3k6ICdBTUQnLFxyXG4gICAgICAgIHN0eWxlOiAnY3VycmVuY3knXHJcbiAgICB9KS5mb3JtYXQocHJpY2UpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBmb3JtYXREYXRlID0gKHJvd0RhdGUpID0+IHtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShyb3dEYXRlKVxyXG4gICAgY29uc3QgeWVhciA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KCdlbicsIHsgeWVhcjogJ251bWVyaWMnIH0pLmZvcm1hdChkYXRlKVxyXG4gICAgY29uc3QgbW9udGggPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgnZW4nLCB7IG1vbnRoOiAnc2hvcnQnIH0pLmZvcm1hdChkYXRlKVxyXG4gICAgY29uc3QgZGF5ID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoJ2VuJywgeyBkYXk6ICcyLWRpZ2l0JyB9KS5mb3JtYXQoZGF0ZSlcclxuXHJcbiAgICByZXR1cm4gYCR7ZGF5fS0ke21vbnRofS0ke3llYXJ9YFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZXh0cmFjdE51bWJlcnNGcm9tU3RyaW5nID0gKHN0cmluZykgPT4ge1xyXG4gICAgcmV0dXJuIE51bWJlcihzdHJpbmcubWF0Y2goL1xcZCsvZykpXHJcbn1cclxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGFwb2xsby9jbGllbnRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQHNob3BpZnkvYXBwLWJyaWRnZVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAc2hvcGlmeS9hcHAtYnJpZGdlL2FjdGlvbnNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQHNob3BpZnkvcG9sYXJpc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAc2hvcGlmeS9wb2xhcmlzLWljb25zXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImF3cy1hbXBsaWZ5XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImF3cy1zZGtcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYXhpb3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZ3JhcGhxbFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJncmFwaHFsLXRhZ1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJuZXh0L3JvdXRlclwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzZW1hbnRpYy11aS1yZWFjdFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ1dWlkXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=