{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useCallback } from \"react\";\nimport { Card, Button, TextField, Form, FormLayout } from \"@shopify/polaris\";\nimport Amplify, { Auth } from \"aws-amplify\";\nimport config from \"../aws-exports\";\nAmplify.configure(config);\n\nconst Profile = ({\n  setUser\n}) => {\n  const {\n    0: username,\n    1: setUsername\n  } = useState(\"\");\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n  const {\n    0: email,\n    1: setEmail\n  } = useState(\"\");\n  const {\n    0: code,\n    1: setCode\n  } = useState(\"\");\n  const {\n    0: formType,\n    1: setFormType\n  } = useState(\"signUp\");\n  const onChangeUsername = useCallback(newValue => {\n    setUsername(newValue);\n  }, []);\n  const onChangePassword = useCallback(newValue => {\n    setPassword(newValue);\n  }, []);\n  const onChangeEmail = useCallback(newValue => {\n    setEmail(newValue);\n  });\n  const onChangeCode = useCallback(newValue => {\n    setCode(newValue);\n  });\n\n  async function signUp(e) {\n    e.preventDefault();\n\n    try {\n      const {\n        user\n      } = await Auth.signUp({\n        username,\n        password,\n        attributes: {\n          email\n        }\n      });\n      console.log(\"User Zaven jan\", user);\n      setFormType(\"confirm\");\n    } catch (error) {\n      console.log(\"error signing up:\", error);\n    }\n  }\n\n  async function confirm(e) {\n    e.preventDefault();\n\n    try {\n      await Auth.confirmSignUp(username, code);\n      setFormType(\"signIn\");\n    } catch (error) {\n      console.log(\"error confirming sign up\", error);\n    }\n  }\n\n  const signIn = async e => {\n    e.preventDefault();\n    const signedInUser = await Auth.signIn(username, password);\n    setUser(signedInUser);\n  };\n\n  return __jsx(\"div\", {\n    className: \"authentication-container\"\n  }, __jsx(Card, {\n    title: \"Log into your branch\",\n    sectioned: true\n  }, formType === \"signUp\" && __jsx(Form, {\n    onSubmit: signUp\n  }, __jsx(FormLayout, null, __jsx(TextField, {\n    value: username,\n    onChange: onChangeUsername,\n    label: \"Username\"\n  }), __jsx(TextField, {\n    value: email,\n    onChange: onChangeEmail,\n    labe: \"Email\"\n  }), __jsx(TextField, {\n    type: \"password\",\n    value: password,\n    onChange: onChangePassword,\n    label: \"Password\"\n  }), __jsx(Button, {\n    primary: true,\n    submit: true\n  }, \"SignUp\"))), formType === \"confirm\" && __jsx(Form, {\n    onSubmit: confirm\n  }, __jsx(FormLayout, null, __jsx(TextField, {\n    value: username,\n    onChange: onChangeUsername,\n    label: \"Username\"\n  }), __jsx(TextField, {\n    value: code,\n    onChange: onChangeCode,\n    labe: \"Confirmation code\"\n  }), __jsx(Button, {\n    primary: true,\n    submit: true\n  }, \"Confirm code\"))), formType === \"signIn\" && __jsx(Form, {\n    onSubmit: signIn\n  }, __jsx(FormLayout, null, __jsx(TextField, {\n    value: username,\n    onChange: onChangeUsername,\n    label: \"Username\"\n  }), __jsx(TextField, {\n    type: \"password\",\n    value: password,\n    onChange: onChangePassword,\n    label: \"Password\"\n  }), __jsx(Button, {\n    primary: true,\n    submit: true\n  }, \"Login\")))));\n};\n\nexport default Profile;","map":{"version":3,"sources":["/var/www/transactions-avanta/components/Login.js"],"names":["useState","useCallback","Card","Button","TextField","Form","FormLayout","Amplify","Auth","config","configure","Profile","setUser","username","setUsername","password","setPassword","email","setEmail","code","setCode","formType","setFormType","onChangeUsername","newValue","onChangePassword","onChangeEmail","onChangeCode","signUp","e","preventDefault","user","attributes","console","log","error","confirm","confirmSignUp","signIn","signedInUser"],"mappings":"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","sourcesContent":["import { useState, useCallback } from \"react\"\nimport { Card, Button, TextField, Form, FormLayout } from \"@shopify/polaris\"\nimport Amplify, { Auth } from \"aws-amplify\"\nimport config from \"../aws-exports\"\n\nAmplify.configure(config)\n\nconst Profile = ({ setUser }) => {\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [code, setCode] = useState(\"\")\n  const [formType, setFormType] = useState(\"signUp\")\n\n  const onChangeUsername = useCallback((newValue) => {\n    setUsername(newValue)\n  }, [])\n\n  const onChangePassword = useCallback((newValue) => {\n    setPassword(newValue)\n  }, [])\n\n  const onChangeEmail = useCallback((newValue) => {\n    setEmail(newValue)\n  })\n\n  const onChangeCode = useCallback((newValue) => {\n    setCode(newValue)\n  })\n\n  async function signUp(e) {\n    e.preventDefault()\n    try {\n      const { user } = await Auth.signUp({\n        username,\n        password,\n        attributes: {\n          email,\n        },\n      })\n      console.log(\"User Zaven jan\", user)\n      setFormType(\"confirm\")\n    } catch (error) {\n      console.log(\"error signing up:\", error)\n    }\n  }\n\n  async function confirm(e) {\n    e.preventDefault()\n    try {\n      await Auth.confirmSignUp(username, code)\n      setFormType(\"signIn\")\n    } catch (error) {\n      console.log(\"error confirming sign up\", error)\n    }\n  }\n\n  const signIn = async (e) => {\n    e.preventDefault()\n    const signedInUser = await Auth.signIn(username, password)\n    setUser(signedInUser)\n  }\n\n  return (\n    <div className=\"authentication-container\">\n      <Card title=\"Log into your branch\" sectioned>\n        {formType === \"signUp\" && (\n          <Form onSubmit={signUp}>\n            <FormLayout>\n              <TextField value={username} onChange={onChangeUsername} label=\"Username\" />\n              <TextField value={email} onChange={onChangeEmail} labe=\"Email\" />\n              <TextField\n                type=\"password\"\n                value={password}\n                onChange={onChangePassword}\n                label=\"Password\"\n              />\n              <Button primary submit>\n                SignUp\n              </Button>\n            </FormLayout>\n          </Form>\n        )}\n        {formType === \"confirm\" && (\n          <Form onSubmit={confirm}>\n            <FormLayout>\n              <TextField value={username} onChange={onChangeUsername} label=\"Username\" />\n              <TextField value={code} onChange={onChangeCode} labe=\"Confirmation code\" />\n              <Button primary submit>\n                Confirm code\n              </Button>\n            </FormLayout>\n          </Form>\n        )}\n        {formType === \"signIn\" && (\n          <Form onSubmit={signIn}>\n            <FormLayout>\n              <TextField value={username} onChange={onChangeUsername} label=\"Username\" />\n              <TextField\n                type=\"password\"\n                value={password}\n                onChange={onChangePassword}\n                label=\"Password\"\n              />\n              <Button primary submit>\n                Login\n              </Button>\n            </FormLayout>\n          </Form>\n        )}\n      </Card>\n    </div>\n  )\n}\n\nexport default Profile\n"]},"metadata":{},"sourceType":"module"}