{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useCallback, useEffect, useRef } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Card, Button } from \"@shopify/polaris\";\nimport { Icon, Dimmer, Loader } from \"semantic-ui-react\";\nimport { useMutation } from \"react-query\";\nimport { AuthService } from \"../core/services\";\nimport { useLogin } from \"../core/hooks\";\n\nconst Login = ({\n  setUser\n}) => {\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n  const {\n    0: activeUsername,\n    1: setActiveUsername\n  } = useState(false);\n  const {\n    0: activePassword,\n    1: setActivePassword\n  } = useState(false);\n  const {\n    0: showPassword,\n    1: setShowPassword\n  } = useState(false);\n  const passwordRef = useRef(null);\n  const usernameRef = useRef(null);\n  const {\n    handleSubmit,\n    errors,\n    register\n  } = useForm();\n  const {\n    login,\n    status,\n    data,\n    error\n  } = useLogin();\n  const onChangeUsername = useCallback(newValue => {\n    setUsername(newValue);\n  }, []);\n  const onChangePassword = useCallback(newValue => {\n    setPassword(newValue);\n  }, []);\n  useEffect(() => {\n    setUser(data);\n  }, [data]);\n  console.log(\"Sign in status is\", status);\n  return __jsx(\"div\", {\n    className: \"authentication-container\"\n  }, __jsx(Card, {\n    title: \"Log into your branch\",\n    sectioned: true\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit(login)\n  }, __jsx(\"div\", {\n    className: \"form-controll\"\n  }, __jsx(\"input\", {\n    name: \"username\",\n    ref: register({\n      required: \"Username is required!\"\n    }),\n    onBlur: e => {\n      if (e.target.value) {\n        return setActiveUsername(true);\n      }\n\n      return setActiveUsername(false);\n    }\n  }), __jsx(Icon, {\n    name: \"user\"\n  }), __jsx(\"label\", {\n    className: activeUsername ? \"active\" : \"\",\n    htmlFor: \"username\"\n  }, \"Username\"), errors.username && __jsx(\"p\", {\n    className: \"error-notification\"\n  }, errors.username.message)), __jsx(\"div\", {\n    className: \"form-controll\"\n  }, __jsx(\"input\", {\n    name: \"password\",\n    type: showPassword ? \"text\" : \"password\",\n    ref: register({\n      required: \"Password is required!\"\n    }),\n    onChange: e => setPassword(e.target.value),\n    onBlur: e => {\n      if (e.target.value) {\n        return setActivePassword(true);\n      }\n\n      return setActivePassword(false);\n    }\n  }), __jsx(Icon, {\n    name: \"lock\"\n  }), __jsx(\"label\", {\n    className: activePassword ? \"active\" : \"\",\n    htmlFor: \"password\"\n  }, \"Password\"), __jsx(Icon, {\n    className: password ? \"show-eye\" : \"not-show-eye\",\n    onClick: () => setShowPassword(!showPassword),\n    name: showPassword ? \"eye slash\" : \"eye\",\n    style: {\n      color: showPassword ? \"#6774c8\" : \"\"\n    }\n  }), errors.password && __jsx(\"p\", {\n    className: \"error-notification\"\n  }, errors.password.message)), __jsx(Button, {\n    primary: true,\n    submit: true\n  }, __jsx(Icon, {\n    name: \"sign-in\"\n  }), \" Login\"))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/var/www/transactions-avanta/components/Login.js"],"names":["useState","useCallback","useEffect","useRef","useForm","Card","Button","Icon","Dimmer","Loader","useMutation","AuthService","useLogin","Login","setUser","password","setPassword","activeUsername","setActiveUsername","activePassword","setActivePassword","showPassword","setShowPassword","passwordRef","usernameRef","handleSubmit","errors","register","login","status","data","error","onChangeUsername","newValue","setUsername","onChangePassword","console","log","required","e","target","value","username","message","color"],"mappings":"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","sourcesContent":["import { useState, useCallback, useEffect, useRef } from \"react\"\nimport { useForm } from \"react-hook-form\"\nimport { Card, Button } from \"@shopify/polaris\"\nimport { Icon, Dimmer, Loader } from \"semantic-ui-react\"\nimport { useMutation } from \"react-query\"\nimport { AuthService } from \"../core/services\"\nimport { useLogin } from \"../core/hooks\"\n\nconst Login = ({ setUser }) => {\n  const [password, setPassword] = useState(\"\")\n  const [activeUsername, setActiveUsername] = useState(false)\n  const [activePassword, setActivePassword] = useState(false)\n  const [showPassword, setShowPassword] = useState(false)\n\n  const passwordRef = useRef(null)\n  const usernameRef = useRef(null)\n\n  const { handleSubmit, errors, register } = useForm()\n\n  const { login, status, data, error } = useLogin()\n\n  const onChangeUsername = useCallback((newValue) => {\n    setUsername(newValue)\n  }, [])\n\n  const onChangePassword = useCallback((newValue) => {\n    setPassword(newValue)\n  }, [])\n\n  useEffect(() => {\n    setUser(data)\n  }, [data])\n\n  console.log(\"Sign in status is\", status)\n\n  return (\n    <div className=\"authentication-container\">\n      <Card title=\"Log into your branch\" sectioned>\n        <form onSubmit={handleSubmit(login)}>\n          <div className=\"form-controll\">\n            <input\n              name=\"username\"\n              ref={register({ required: \"Username is required!\" })}\n              onBlur={(e) => {\n                if (e.target.value) {\n                  return setActiveUsername(true)\n                }\n                return setActiveUsername(false)\n              }}\n            />\n            <Icon name=\"user\" />\n            <label className={activeUsername ? \"active\" : \"\"} htmlFor=\"username\">\n              Username\n            </label>\n            {errors.username && <p className=\"error-notification\">{errors.username.message}</p>}\n          </div>\n          <div className=\"form-controll\">\n            <input\n              name=\"password\"\n              type={showPassword ? \"text\" : \"password\"}\n              ref={register({ required: \"Password is required!\" })}\n              onChange={(e) => setPassword(e.target.value)}\n              onBlur={(e) => {\n                if (e.target.value) {\n                  return setActivePassword(true)\n                }\n                return setActivePassword(false)\n              }}\n            />\n            <Icon name=\"lock\" />\n            <label className={activePassword ? \"active\" : \"\"} htmlFor=\"password\">\n              Password\n            </label>\n            <Icon\n              className={password ? \"show-eye\" : \"not-show-eye\"}\n              onClick={() => setShowPassword(!showPassword)}\n              name={showPassword ? \"eye slash\" : \"eye\"}\n              style={{ color: showPassword ? \"#6774c8\" : \"\" }}\n            />\n            {errors.password && <p className=\"error-notification\">{errors.password.message}</p>}\n          </div>\n          <Button primary submit>\n            <Icon name=\"sign-in\" /> Login\n          </Button>\n        </form>\n      </Card>\n    </div>\n  )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}