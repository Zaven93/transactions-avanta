{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { API } from 'aws-amplify';\nimport config from '../aws-exports';\nAPI.configure(config);\n\nvar Index = function Index(_ref) {\n  var transactions = _ref.transactions;\n  console.log('Transactions', transactions);\n  return __jsx(\"div\", null, \"Main page\");\n};\n\n_c = Index;\n// Index.getInitialProps = async () => {\n//     let result\n//     try {\n//         result = await API.graphql(graphqlOperation(listTransactions))\n//     } catch (error) {\n//         console.log(error)\n//     }\n//     if (result.errors) {\n//         console.warn('Failed to fetch todolist. ', result.errors)\n//         return { transactions: [] }\n//     }\n//     if (result.data !== null) {\n//         return { transactions: result.data }\n//     }\n// }\nexport var __N_SSG = true;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["C:/Users/Admin/Desktop/transactions/pages/index.js"],"names":["API","config","configure","Index","transactions","console","log"],"mappings":";;AAAA,SAASA,GAAT,QAAsC,aAAtC;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AAGAD,GAAG,CAACE,SAAJ,CAAcD,MAAd;;AAgCA,IAAME,KAAK,GAAG,SAARA,KAAQ,OAAsB;AAAA,MAAnBC,YAAmB,QAAnBA,YAAmB;AAChCC,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,YAA5B;AACA,SAAO,+BAAP;AACH,CAHD;;KAAMD,K;AAsBN;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeA,KAAf","sourcesContent":["import { API, graphqlOperation } from 'aws-amplify'\r\nimport config from '../aws-exports'\r\nimport gql from 'graphql-tag'\r\n\r\nAPI.configure(config)\r\n\r\nconst listTransactions = gql`\r\n    query listTransactions($limit: Int, $nextToken: String) {\r\n        listTransactions(limit: $limit, nextToken: $nextToken) {\r\n            nextToken\r\n            items {\r\n                id\r\n                totalPrice\r\n                totalBonusAmount\r\n                currency\r\n                products {\r\n                    id\r\n                    title\r\n                    bonusPercentage\r\n                    priceAmount\r\n                    priceCurrency\r\n                    image\r\n                }\r\n                customer {\r\n                    id\r\n                    firstName\r\n                    lastName\r\n                    phone\r\n                    email\r\n                }\r\n                createdAt\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nconst Index = ({ transactions }) => {\r\n    console.log('Transactions', transactions)\r\n    return <div>Main page</div>\r\n}\r\n\r\nexport async function getStaticProps() {\r\n    let result\r\n    try {\r\n        result = await API.graphql(graphqlOperation(listTransactions))\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n\r\n    if (result.errors) {\r\n        console.warn('Failed to fetch todolist. ', result.errors)\r\n        return { props: { transactions: [] } }\r\n    }\r\n    if (result.data !== null) {\r\n        return { props: { transactions: result.data } }\r\n    }\r\n}\r\n\r\n// Index.getInitialProps = async () => {\r\n//     let result\r\n//     try {\r\n//         result = await API.graphql(graphqlOperation(listTransactions))\r\n//     } catch (error) {\r\n//         console.log(error)\r\n//     }\r\n\r\n//     if (result.errors) {\r\n//         console.warn('Failed to fetch todolist. ', result.errors)\r\n//         return { transactions: [] }\r\n//     }\r\n//     if (result.data !== null) {\r\n//         return { transactions: result.data }\r\n//     }\r\n// }\r\n\r\nexport default Index\r\n"]},"metadata":{},"sourceType":"module"}